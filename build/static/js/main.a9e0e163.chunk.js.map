{"version":3,"sources":["authProvider.ts","configuration/actions.ts","themeReducer.ts","layout/Logo.tsx","layout/AppBar.tsx","layout/SubMenu.tsx","visitors/FullNameField.tsx","visitors/CustomerReferenceField.tsx","inbox/MobileGrid.tsx","inbox/InboxList.tsx","inbox/AttachList.tsx","inbox/InboxShow.tsx","inbox/InboxCreate.tsx","inbox/index.ts","junk/MobileGrid.tsx","junk/junkList.tsx","junk/junkShow.tsx","junk/index.ts","layout/Menu.tsx","layout/themes.ts","layout/Layout.tsx","layout/Login.tsx","dashboard/Welcome.tsx","dashboard/Dashboard.tsx","dashboard/index.ts","configuration/Configuration.tsx","segments/data.ts","visitors/SegmentsField.tsx","visitors/SegmentInput.tsx","visitors/CustomerLinkField.tsx","visitors/ColoredNumberField.tsx","visitors/AvatarField.tsx","visitors/MobileGrid.tsx","visitors/VisitorListAside.tsx","visitors/VisitorList.tsx","visitors/VisitorCreate.tsx","orders/NbItemsField.tsx","visitors/AddressField.tsx","orders/MobileGrid.tsx","orders/OrderList.tsx","orders/Basket.tsx","orders/Totals.tsx","orders/OrderEdit.tsx","orders/index.ts","reviews/BulkAcceptButton.tsx","reviews/BulkRejectButton.tsx","reviews/ReviewListMobile.tsx","products/ProductReferenceField.tsx","reviews/StarRatingField.tsx","reviews/rowStyle.tsx","reviews/ReviewListDesktop.tsx","reviews/ReviewFilter.tsx","reviews/AcceptButton.tsx","reviews/RejectButton.tsx","reviews/ReviewEditToolbar.tsx","reviews/ReviewEdit.tsx","reviews/ReviewList.tsx","reviews/index.ts","visitors/Aside.tsx","visitors/SegmentsInput.tsx","visitors/VisitorEdit.tsx","visitors/index.ts","segments/LinkToRelatedCustomers.tsx","segments/Segments.tsx","routes.tsx","i18n/en.ts","products/GridList.tsx","products/Aside.tsx","products/ProductList.tsx","products/Poster.tsx","products/ProductCreate.tsx","products/ProductEdit.tsx","products/index.tsx","invoices/InvoiceShow.tsx","invoices/InvoiceList.tsx","invoices/index.ts","categories/LinkToRelatedProducts.tsx","categories/CategoryList.tsx","products/ThumbnailField.tsx","products/ProductRefField.tsx","categories/CategoryEdit.tsx","categories/index.ts","sent/MobileGrid.tsx","sent/sentList.tsx","sent/sentShow.tsx","sent/index.ts","trash/MobileGrid.tsx","trash/trashList.tsx","trash/trashShow.tsx","trash/index.ts","projects/MobileGrid.tsx","projects/projectList.tsx","projects/projectShow.tsx","projects/index.ts","asset/MobileGrid.tsx","asset/assetList.tsx","asset/assetShow.tsx","asset/assetCreate.tsx","asset/index.ts","fakeServer/index.ts","dataProvider/index.ts","App.tsx","index.tsx","dashboard/welcome_illustration.svg"],"names":["authProvider","login","username","localStorage","setItem","getItem","Promise","resolve","reject","logout","removeItem","checkError","checkAuth","getPermissions","getIdentity","id","fullName","avatar","changeTheme","theme","type","payload","themeReducer","previousState","action","useDatagridStyles","makeStyles","root","display","flexWrap","alignItems","total","fontWeight","logo","fontSize","asset_avatar","marginRight","spacing","marginTop","marginBottom","total_amm","Logo","props","useTheme","classes","CustomerLogoField","className","useStyles","title","flex","textOverflow","whiteSpace","overflow","spacer","ConfigurationMenu","forwardRef","ref","translate","useTranslate","MenuItemLink","to","primaryText","leftIcon","onClick","sidebarIsOpen","CustomUserMenu","UserMenu","CustomAppBar","AppBar","elevation","userMenu","Typography","variant","color","icon","minWidth","paddingLeft","transition","sidebarIsClosed","SubMenu","handleToggle","isOpen","name","children","dense","useSelector","state","admin","ui","sidebarOpen","header","MenuItem","button","ListItemIcon","Tooltip","placement","Collapse","in","timeout","unmountOnExit","List","component","disablePadding","FullNameField","record","size","first_name","last_name","defaultProps","source","label","memo","CustomerReferenceField","ReferenceField","reference","addLabel","useListStyles","card","height","flexDirection","margin","cardTitleContent","justifyContent","cardContent","typography","body1","cardContentRow","MobileGrid","ids","data","basePath","style","map","Card","key","CardHeader","TextField","EditButton","resource","CardContent","DateField","showTime","NumberField","options","currency","BooleanField","InboxFilter","Filter","SearchInput","alwaysOn","project_avatar","width","tabs","TabbedDatagrid","listContext","useListContext","filterValues","setFilters","displayedFilters","isXSmall","useMediaQuery","breakpoints","down","useState","primary","setPrimary","other","setOther","subscription","setSubscription","totals","useGetList","perPage","page","field","order","status","useGetTotals","useEffect","handleChange","useCallback","event","value","CustomerAvatarField","Avatar","src","project","selectedIds","Tabs","centered","indicatorColor","onChange","choice","Tab","Divider","ListContextProvider","Datagrid","optimized","rowClick","headerClassName","ListActions","filters","exporter","rest","maxResults","currentSort","showFilter","hasCreate","TopToolbar","sanitizeListRestProps","cloneElement","context","InboxList","filterDefaultValues","sort","actions","gridList","attach_title","bold","tileBar","background","placeholder","backgroundColor","palette","grey","price","link","AttachList","cellHeight","cols","attachs","item","GridListTile","target","rel","href","url","thumbnail","alt","GridListTileBar","subtitle","canister_title","attach","form","up","content","contentdiv","inlineField","invoices","toolbar","Spacer","Box","m","InboxShow","useShowController","redirect","useRedirect","attachtitle","length","SenderField","sender","sendermail","Grid","container","xs","gutterBottom","subject","align","date","IconButton","alias","signedby","canister","mailedby","dangerouslySetInnerHTML","__html","inputwitdh","InboxCreate","Create","SimpleForm","TextInput","validate","required","multiline","SelectInput","choices","NumberInput","list","InboxIcon","show","create","JunkFilter","junk","setJunk","JunkList","CustomerField","email","JunkShow","JunkIcon","Menu","menuCatalog","menuSales","menuCustomers","setState","smart_count","inbox","menu","darkTheme","main","secondary","overrides","MuiAppBar","colorSecondary","MuiButtonBase","position","top","right","opacity","borderRadius","disableRipple","lightTheme","light","dark","contrastText","default","shape","RaMenuItemLink","borderLeft","active","MuiPaper","elevation1","boxShadow","border","backgroundClip","MuiButton","contained","MuiLinearProgress","colorPrimary","barColorPrimary","MuiFilledInput","MuiSnackbarContent","CustomSidebar","Sidebar","Layout","appBar","sidebar","minHeight","backgroundRepeat","backgroundSize","hint","padding","input","Form","withTypes","Login","loading","setLoading","notify","useNotify","useLogin","location","useLocation","onSubmit","auth","nextPathname","catch","error","message","_","undefined","render","handleSubmit","noValidate","CardActions","Button","disabled","fullWidth","CircularProgress","thickness","Notification","LoginWithTheme","ThemeProvider","createMuiTheme","media","publishArticleImage","marginLeft","Welcome","styles","flexColumn","leftCol","rightCol","singleCol","Dashboard","Configuration","locale","useLocale","setLocale","useSetLocale","dispatch","useDispatch","Title","chip","SegmentsField","groups","segmentId","segment","segments","find","s","Chip","SegmentInput","CustomerLinkField","Link","ColoredNumberField","AvatarField","parseInt","nb_commands","withStyles","MuiCard","Aside","FilterLiveSearch","FilterList","FilterListItem","last_seen_gte","endOfYesterday","toISOString","last_seen_lte","startOfWeek","Date","subWeeks","startOfMonth","subMonths","nb_commands_gte","nb_commands_lte","has_newsletter","VisitorFilter","DateInput","NullableBooleanInput","defaultValue","hiddenOnSmallScreens","VisitorList","isXsmall","isSmall","aside","VisitorListAside","cellClassName","address","maxWidth","zipcode","city","comment","password","confirm_password","validatePasswords","errors","requiredValidate","SectionTitle","Separator","pt","VisitorCreate","autoFocus","formClassName","validation","helperText","PasswordInput","basket","NbItemsField","FunctionField","textAlign","AddressField","stateAbbr","OrderFilter","ReferenceInput","AutocompleteInput","optionText","ordered","setOrdered","delivered","setDelivered","cancelled","setCancelled","OrderList","rightAlignedCell","Basket","useQueryWithStore","product_id","productId","resources","products","filter","r","reduce","prev","next","loaded","Table","TableHead","TableRow","TableCell","TableBody","toLocaleString","quantity","boldCell","Totals","total_ex_taxes","delivery_fees","tax_rate","taxes","classnames","OrderTitle","CustomerDetails","RouterLink","textDecoration","CustomerAddress","useEditStyles","OrderForm","FormWithRedirect","formProps","sm","md","Labeled","mt","BooleanInput","row","Toolbar","undoable","invalid","saving","edit","Edit","OrderIcon","noSelection","BulkAcceptButton","refresh","useRefresh","unselectAll","useUnselectAll","useUpdateMany","CRUD_UPDATE_MANY","onSuccess","onFailure","approve","BulkRejectButton","inline","ReviewListMobile","Number","linkToRecord","ListItem","ListItemAvatar","ListItemText","secondaryTypographyProps","noWrap","hasBulkActions","ProductReferenceField","large","small","StarRatingField","Array","rating","fill","i","rowStyle","selectedRow","selected","borderLeftColor","green","borderLeftWidth","borderLeftStyle","orange","red","headerRow","headerCell","rowCell","ReviewListDesktop","useFilterStyles","ReviewFilter","AcceptButton","redirectTo","useUpdate","paddingRight","RejectButton","paper","ReviewEditToolbar","handleSubmitWithRedirect","SaveButton","submitOnEnter","DeleteButton","paddingTop","ReviewEdit","onCancel","controllerProps","useEditController","EditContextProvider","save","version","rowsMax","ReviewsBulkActionButtons","BulkDeleteButton","flexGrow","transitions","duration","enteringScreen","listWithDrawer","drawerPaper","zIndex","ReviewList","history","useHistory","handleClose","push","path","match","isMatch","params","bulkActionButtons","Drawer","open","anchor","onClose","ReviewIcon","useAsideStyles","useEventStyles","stepper","EventList","customer_id","orders","orderIds","reviews","reviewIds","events","mixOrdersAndReviews","mb","mr","Stepper","orientation","Step","expanded","completed","StepLabel","StepIconComponent","Component","review","weekday","year","month","day","hour","minute","StepContent","eventsFromOrders","eventsFromReviews","concat","e1","e2","getTime","Order","useReviewStyles","clamp","Review","SegmentsInput","addField","SelectArrayInput","VisitorTitle","VisitorForm","lg","ml","VisitorIcon","LinkToRelatedCustomers","pathname","search","stringify","JSON","visitors","Segments","exact","customEnglishMessages","englishMessages","pos","configuration","language","dashboard","monthly_revenue","month_history","new_orders","pending_reviews","all_reviews","new_customers","all_customers","pending_orders","items","welcome","ra_button","demo_button","sales","catalog","customers","compose","sent","assets","more","trash","settings","fields","commands","first_seen","last_seen","total_spent","last_visited","today","this_week","last_week","this_month","last_month","earlier","has_ordered","group","fieldGroups","identity","stats","change_password","delete","password_mismatch","amount","delivery","sum","unit_price","date_gte","date_lte","nb_items","total_gte","returned","section","customer","shipping_address","command_id","category_id","height_gte","height_lte","image","stock_lte","stock","width_gte","width_lte","details","description","categories","no_stock","low_stock","average_stock","enough_stock","best_sellers","average_sellers","low_sellers","never_sold","relative_to_poster","detail","accept","notification","approved_success","approved_error","rejected_success","rejected_error","compulsive","collector","ordered_once","regular","returns","reviewer","getColsForWidth","LoadingGridList","nbChildren","fn","nbItems","from","LoadedGridList","withWidth","sales_lte","sales_gt","stock_lt","stock_gt","inflection","humanize","useQuickFilterStyles","QuickFilter","ProductFilter","SortButton","CreateButton","ExportButton","ProductListView","defaultTitle","Pagination","rowsPerPageOptions","ProductList","ListBase","img","maxHeight","Poster","widthFormGroup","heightFormGroup","ProductCreate","TabbedForm","FormTab","InputProps","startAdornment","InputAdornment","endAdornment","allowEmpty","ProductTitle","createStyles","tab","contentClassName","ReferenceManyField","pagination","ProductIcon","InvoiceShow","alignContent","toLocaleDateString","ListFilters","expand","InvoiceIcon","LinkToRelatedProducts","paddingBottom","actionSpacer","CategoryGrid","xl","CardMedia","CategoryList","ThumbnailField","ProductRefField","CategoryTitle","minimumFractionDigits","CategoryIcon","SentFilter","setSent","SentList","SentShow","SentIcon","TrashFilter","setTrash","TrashList","TrashShow","TrashIcon","ProjectFilter","setProject","CustomerTotalField","coinname","PostBulkActionButtons","alert","ProjectList","ProjectShow","projectname","projecttitle","startdate","enddate","ProjectIcon","AssetFilter","asset","setAsset","CustomerPriceField","CustomerAssetField","AssetList","AssetShow","AssetCreate","AssetIcon","then","factory","dataProviderPromise","getDataProvider","Proxy","defaultDataProvider","get","dataProvider","convertLegacyDataProvider","toString","a","fakeServerFactory","process","REACT_APP_DATA_PROVIDER","provider","deleteMany","getList","getMany","getManyReference","getOne","update","updateMany","i18nProvider","polyglotI18nProvider","messages","App","Admin","dataProviderFactory","customReducers","customRoutes","loginPage","layout","disableTelemetry","Resource","projects","ReactDOM","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.a9e0e163.chunk.js","sourcesContent":["import { AuthProvider,useRedirect } from 'react-admin';\n\n\nconst authProvider: AuthProvider = {\n    login: ({ username }) => {\n        localStorage.setItem('username', username);\n        // accept all username/password combinations\n        return localStorage.getItem('username') ? Promise.resolve() : Promise.reject();\n    },\n    logout: () => {\n        localStorage.removeItem('username');\n        return Promise.resolve();\n    },\n    checkError: () => Promise.resolve(),\n    checkAuth: () =>\n        localStorage.getItem('username') ? Promise.resolve() : Promise.reject(),\n    getPermissions: () => Promise.reject('Unknown method'),\n    getIdentity: () =>\n        Promise.resolve({\n            id: 'user',\n            fullName: 'Jane Doe',\n            avatar:\n                'data:image/jpeg;base64,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',\n        }),\n};\n\nexport default authProvider;\n","import { ThemeName } from '../types';\n\nexport const CHANGE_THEME = 'CHANGE_THEME';\n\nexport const changeTheme = (theme: ThemeName) => ({\n    type: CHANGE_THEME,\n    payload: theme,\n});\n","import { Reducer } from 'redux';\nimport { CHANGE_THEME, changeTheme } from './configuration/actions';\nimport { ThemeName } from './types';\n\ntype State = ThemeName;\ntype Action =\n    | ReturnType<typeof changeTheme>\n    | { type: 'OTHER_ACTION'; payload?: any };\n\nconst themeReducer: Reducer<State, Action> = (\n    previousState = 'light',\n    action\n) => {\n    if (action.type === CHANGE_THEME) {\n        return action.payload;\n    }\n    return previousState;\n};\n\nexport default themeReducer;\n","import * as React from 'react';\nimport { SVGProps } from 'react';\nimport { useTheme } from '@material-ui/core/styles';\nimport { FC, Fragment, useCallback, useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    TextField,  \n    FieldProps,\n} from 'react-admin';\n\n\nconst useDatagridStyles = makeStyles(\n    theme => ({\n        root: {\n            display: 'flex',\n            flexWrap: 'nowrap',\n            alignItems: 'center',\n        },\n        total: { fontWeight: 'bold' },\n        logo: { \n            fontWeight: 'bold',\n            fontSize:30,\n        },\n        asset_avatar: {\n           \n            marginRight: theme.spacing(1),\n            marginTop: -theme.spacing(0.5),\n            marginBottom: -theme.spacing(0.5),\n        },\n        total_amm: { fontWeight: 'bold',marginRight:5 },\n    \n    }));\n\n\n\nconst Logo = (props: SVGProps<SVGSVGElement>) => {\n    const theme = useTheme();\n    const classes = useDatagridStyles();\n    const CustomerLogoField: FC<FieldProps> = props => (\n    \n            <div className={classes.logo}>\n                DMail\n            </div>\n    );\n    return (\n        <CustomerLogoField />\n    );\n};\n\nexport default Logo;\n","import * as React from 'react';\nimport { forwardRef } from 'react';\nimport { AppBar, UserMenu, MenuItemLink, useTranslate } from 'react-admin';\nimport Typography from '@material-ui/core/Typography';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Logo from './Logo';\n\nconst useStyles = makeStyles({\n    title: {\n        flex: 1,\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n    },\n    spacer: {\n        flex: 1,\n    },\n});\n\nconst ConfigurationMenu = forwardRef<any, any>((props, ref) => {\n    const translate = useTranslate();\n    return (\n        <MenuItemLink\n            ref={ref}\n            to=\"/configuration\"\n            primaryText={translate('pos.configuration')}\n            leftIcon={<SettingsIcon />}\n            onClick={props.onClick}\n            sidebarIsOpen\n        />\n    );\n});\n\nconst CustomUserMenu = (props: any) => (\n    <UserMenu {...props}>\n        <ConfigurationMenu />\n    </UserMenu>\n);\n\nconst CustomAppBar = (props: any) => {\n    const classes = useStyles();\n    return (\n        <AppBar {...props} elevation={1} userMenu={<CustomUserMenu />}>\n            <Typography\n                variant=\"h6\"\n                color=\"inherit\"\n                className={classes.title}\n                id=\"react-admin-title\"\n            />\n            <Logo />\n            <span className={classes.spacer} />\n        </AppBar>\n    );\n};\n\nexport default CustomAppBar;\n","import * as React from 'react';\nimport { FC, Fragment, ReactElement } from 'react';\nimport { useSelector } from 'react-redux';\nimport {\n    List,\n    MenuItem,\n    ListItemIcon,\n    Typography,\n    Collapse,\n    Tooltip,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\nimport { useTranslate, ReduxState } from 'react-admin';\n\nconst useStyles = makeStyles(theme => ({\n    icon: { minWidth: theme.spacing(5) },\n    sidebarIsOpen: {\n        '& a': {\n            paddingLeft: theme.spacing(4),\n            transition: 'padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms',\n        },\n    },\n    sidebarIsClosed: {\n        '& a': {\n            paddingLeft: theme.spacing(2),\n            transition: 'padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms',\n        },\n    },\n}));\n\ninterface Props {\n    dense: boolean;\n    handleToggle: () => void;\n    icon: ReactElement;\n    isOpen: boolean;\n    name: string;\n}\n\nconst SubMenu: FC<Props> = ({\n    handleToggle,\n    isOpen,\n    name,\n    icon,\n    children,\n    dense,\n}) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    const sidebarIsOpen = useSelector<ReduxState, boolean>(\n        state => state.admin.ui.sidebarOpen\n    );\n\n    const header = (\n        <MenuItem dense={dense} button onClick={handleToggle}>\n            <ListItemIcon className={classes.icon}>\n                {isOpen ? <ExpandMore /> : icon}\n            </ListItemIcon>\n            <Typography variant=\"inherit\" color=\"textSecondary\">\n                {translate(name)}\n            </Typography>\n        </MenuItem>\n    );\n\n    return (\n        <Fragment>\n            {sidebarIsOpen || isOpen ? (\n                header\n            ) : (\n                <Tooltip title={translate(name)} placement=\"right\">\n                    {header}\n                </Tooltip>\n            )}\n            <Collapse in={isOpen} timeout=\"auto\" unmountOnExit>\n                <List\n                    dense={dense}\n                    component=\"div\"\n                    disablePadding\n                    className={\n                        sidebarIsOpen\n                            ? classes.sidebarIsOpen\n                            : classes.sidebarIsClosed\n                    }\n                >\n                    {children}\n                </List>\n            </Collapse>\n        </Fragment>\n    );\n};\n\nexport default SubMenu;\n","import * as React from 'react';\nimport { FC, memo } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { FieldProps } from 'react-admin';\nimport AvatarField from './AvatarField';\nimport { Customer } from '../types';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: 'flex',\n        flexWrap: 'nowrap',\n        alignItems: 'center',\n    },\n    avatar: {\n        marginRight: theme.spacing(1),\n        marginTop: -theme.spacing(0.5),\n        marginBottom: -theme.spacing(0.5),\n    },\n}));\n\ninterface Props extends FieldProps<Customer> {\n    size?: string;\n}\n\nconst FullNameField: FC<Props> = ({ record, size }) => {\n    const classes = useStyles();\n    return record ? (\n        <div className={classes.root}>\n            {/* <AvatarField\n                className={classes.avatar}\n                record={record}\n                size={size}\n            /> */}\n            {record.first_name} {record.last_name}\n        </div>\n    ) : null;\n};\n\nFullNameField.defaultProps = {\n    source: 'last_name',\n    label: 'resources.customers.fields.name',\n};\n\nexport default memo<Props>(FullNameField);\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { ReferenceField, ReferenceFieldProps } from 'react-admin';\n\nimport FullNameField from './FullNameField';\n\nconst CustomerReferenceField: FC<\n    Omit<ReferenceFieldProps, 'reference' | 'children' | 'source'> & {\n        source?: string;\n    }\n> = props => (\n    <ReferenceField label=\"title\" source=\"customer_id\" reference=\"customers\" {...props}>\n        <FullNameField />\n    </ReferenceField>\n);\n\nCustomerReferenceField.defaultProps = {\n    source: 'customer_id',\n    addLabel: true,\n};\n\nexport default CustomerReferenceField;\n","// in src/comments.js\nimport * as React from 'react';\nimport { FC } from 'react';\nimport { Card, CardHeader, CardContent } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    DateField,\n    EditButton,\n    NumberField,\n    TextField,\n    BooleanField,\n    useTranslate,\n    RecordMap,\n    Identifier,\n    Record,\n} from 'react-admin';\n\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\n\nconst useListStyles = makeStyles(theme => ({\n    card: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        margin: '0.5rem 0',\n    },\n    cardTitleContent: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n    },\n    cardContent: theme.typography.body1,\n    cardContentRow: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        margin: '0.5rem 0',\n    },\n}));\n\ninterface MobileGridProps {\n    ids?: Identifier[];\n    data?: RecordMap<Record>;\n    basePath?: string;\n}\n\nconst MobileGrid: FC<MobileGridProps> = ({ ids, data, basePath }) => {\n    const translate = useTranslate();\n    const classes = useListStyles();\n\n    if (!ids || !data || !basePath) {\n        return null;\n    }\n\n    return (\n        <div style={{ margin: '1em' }}>\n            {ids.map(id => (\n                <Card key={id} className={classes.card}>\n                    <CardHeader\n                        title={\n                            <div className={classes.cardTitleContent}>\n                                <span>\n                                    {translate('resources.commands.name', 1)}\n                                    :&nbsp;\n                                    <TextField\n                                        record={data[id]}\n                                        source=\"reference\"\n                                    />\n                                </span>\n                                <EditButton\n                                    resource=\"commands\"\n                                    basePath={basePath}\n                                    record={data[id]}\n                                />\n                            </div>\n                        }\n                    />\n                    <CardContent className={classes.cardContent}>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.customers.name', 1)}:&nbsp;\n                            <CustomerReferenceField\n                                record={data[id]}\n                                basePath={basePath}\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.reviews.fields.date')}:&nbsp;\n                            <DateField\n                                record={data[id]}\n                                source=\"date\"\n                                showTime\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate(\n                                'resources.commands.fields.basket.total'\n                            )}\n                            :&nbsp;\n                            <NumberField\n                                record={data[id]}\n                                source=\"total\"\n                                options={{ style: 'currency', currency: 'USD' }}\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.commands.fields.status')}\n                            :&nbsp;\n                            <TextField source=\"status\" record={data[id]} />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.commands.fields.returned')}\n                            :&nbsp;\n                            <BooleanField record={data[id]} source=\"returned\" />\n                        </span>\n                    </CardContent>\n                </Card>\n            ))}\n        </div>\n    );\n};\n\nMobileGrid.defaultProps = {\n    data: {},\n    ids: [],\n};\n\nexport default MobileGrid;\n","import * as React from 'react';\nimport { FC, Fragment, useCallback, useEffect, useState ,cloneElement, useMemo} from 'react';\nimport SubIcon from '@material-ui/icons/TurnedInNotRounded';\n\nimport {\n    AutocompleteInput,\n    BooleanField,\n    Datagrid,\n    DatagridProps,\n    DateField,\n    DateInput,\n    Filter,\n    FilterProps,\n    Identifier,\n    List,\n    ListContextProvider,\n    ListProps,\n    NullableBooleanInput,\n    NumberField,\n    ReferenceInput,\n    ReferenceField,\n    SearchInput,\n    TextField,\n    TextInput,\n    useGetList,\n    useListContext,\n    ImageField,\n    FieldProps,\n    TopToolbar, \n    CreateButton, \n    ExportButton, \n    Button, \n    sanitizeListRestProps\n} from 'react-admin';\nimport { useMediaQuery, Divider, Tabs, Tab, Theme,Typography,Avatar } from '@material-ui/core';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport NbItemsField from './NbItemsField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport AddressField from '../visitors/AddressField';\nimport MobileGrid from './MobileGrid';\nimport { Mail } from '../types';\nimport IconSwap from '@material-ui/icons/SwapHoriz';\n\n\nconst InboxFilter: FC<Omit<FilterProps, 'children'>> = props => (\n    <Filter {...props}>\n        <SearchInput source=\"q\" alwaysOn />\n        \n    </Filter>\n);\n\nconst useDatagridStyles = makeStyles(\n    theme => ({\n        root: {\n            display: 'flex',\n            flexWrap: 'nowrap',\n            alignItems: 'center',\n        },\n        total: { fontWeight: 'bold' },\n        project_avatar: {\n            width: 64,\n            height: 64,\n        },\n        total_amm: { fontWeight: 'bold',marginRight:5 },\n    \n    }));\n\nconst tabs = [\n    { id: 'primary', name: 'Primary' },\n    { id: 'other', name: 'Other' },\n    { id: 'subscription', name: 'Subscription' },\n];\n\ninterface TabbedDatagridProps extends DatagridProps {}\n\nconst useGetTotals = (filterValues: any) => {\n    const { total: totalPrimary } = useGetList(\n        'mails',\n        { perPage: 1, page: 1 },\n        { field: 'id', order: 'ASC' },\n        { ...filterValues, status: 'primary' }\n    );\n    const { total: totalOther } = useGetList(\n        'mails',\n        { perPage: 1, page: 1 },\n        { field: 'id', order: 'ASC' },\n        { ...filterValues, status: 'other' }\n    );\n    const { total: totalSubscription } = useGetList(\n        'mails',\n        { perPage: 1, page: 1 },\n        { field: 'id', order: 'ASC' },\n        { ...filterValues, status: 'subscription' }\n    );\n\n    return {\n        primary: totalPrimary,\n        other: totalOther,\n        subscription: totalSubscription,\n    };\n};\n\nconst TabbedDatagrid: FC<TabbedDatagridProps> = props => {\n    const listContext = useListContext();\n    const { ids, filterValues, setFilters, displayedFilters } = listContext;\n    const classes = useDatagridStyles();\n    const isXSmall = useMediaQuery<Theme>(theme =>\n        theme.breakpoints.down('xs')\n    );\n    const [primary, setPrimary] = useState<Identifier[]>([] as Identifier[]);\n    const [other, setOther] = useState<Identifier[]>(\n        [] as Identifier[]\n    );\n    const [subscription, setSubscription] = useState<Identifier[]>(\n        [] as Identifier[]\n    );\n    const totals = useGetTotals(filterValues) as any;\n\n    useEffect(() => {\n        if (ids && ids !== filterValues.status) {\n            switch (filterValues.status) {\n                case 'primary':\n                    setPrimary(ids);\n                    break;\n                case 'other':\n                    setOther(ids);\n                    break;\n                case 'subscription':\n                    setSubscription(ids);\n                    break;\n            }\n        }\n    }, [ids, filterValues.status]);\n\n    const handleChange = useCallback(\n        (event: React.ChangeEvent<{}>, value: any) => {\n            setFilters &&\n                setFilters(\n                    { ...filterValues, status: value },\n                    displayedFilters\n                );\n        },\n        [displayedFilters, filterValues, setFilters]\n    );\n\n    const CustomerAvatarField: FC<FieldProps<Mail>> = ({ record }) =>\n    record ? (<div className={classes.root}>\n         <Typography >\n            <Avatar className={classes.project_avatar} src={`${record.project.icon}`} />\n        </Typography>\n    </div>\n    ) : null;    \n\n    const selectedIds =\n        filterValues.status === 'primary'\n            ? primary\n            : filterValues.status === 'other'\n            ? other\n            : subscription;\n\n    return (\n        <Fragment>\n            <Tabs\n                variant=\"fullWidth\"\n                centered\n                value={filterValues.status}\n                indicatorColor=\"primary\"\n                onChange={handleChange}\n            >\n                {tabs.map(choice => (\n                    <Tab\n                        key={choice.id}\n                        label={\n                            totals[choice.name]\n                                ? `${choice.name} (${totals[choice.name]})`\n                                : choice.name\n                        }\n                        value={choice.id}\n                    />\n                ))}\n            </Tabs>\n            <Divider />\n            {isXSmall ? (\n                <ListContextProvider\n                    value={{ ...listContext, ids: selectedIds }}\n                >\n                    <MobileGrid {...props} ids={selectedIds} />\n                </ListContextProvider>\n            ) : (\n                <div>\n                    {filterValues.status === 'primary' && (\n                        <ListContextProvider\n                            value={{ ...listContext, ids: primary }}\n                        >\n                            <Datagrid {...props} optimized rowClick=\"show\">\n                                <TextField source=\"sender\" headerClassName={classes.total}/>\n                                <TextField source=\"subject\" headerClassName={classes.total}/>\n                                <DateField source=\"date\" headerClassName={classes.total} />\n                            </Datagrid>\n                        </ListContextProvider>\n                    )}\n                    {filterValues.status === 'other' && (\n                        <ListContextProvider\n                            value={{ ...listContext, ids: other }}\n                        >\n                            <Datagrid {...props} rowClick=\"show\">\n                                <TextField source=\"sender\" headerClassName={classes.total}/>    \n                                <TextField source=\"subject\" headerClassName={classes.total}/>\n                                <DateField source=\"date\" headerClassName={classes.total} />                                \n                            </Datagrid>\n                        </ListContextProvider>\n                    )}\n                    {filterValues.status === 'subscription' && (\n                        <ListContextProvider\n                            value={{ ...listContext, ids: subscription }}\n                        >\n                            <Datagrid {...props} rowClick=\"show\">\n                                <CustomerAvatarField source='project.icon' className={classes.root} label=''/>                             \n                                <TextField source=\"project.name\" label='Project' headerClassName={classes.total}/>\n                                <TextField source=\"subject\" headerClassName={classes.total}/>\n                                <DateField source=\"date\"  headerClassName={classes.total}/>\n                            </Datagrid>\n                        </ListContextProvider>\n                    )}\n                </div>\n            )}\n        </Fragment>\n    );\n};\n\nconst ListActions = (props) => {\n    const {\n        className,\n        exporter,\n        filters,\n        maxResults,\n        ...rest\n    } = props;\n    const {\n        currentSort,\n        resource,\n        displayedFilters,\n        filterValues,\n        hasCreate,\n        basePath,\n        selectedIds,\n        showFilter,\n        total,\n    } = useListContext();\n    return (\n        <TopToolbar className={className} {...sanitizeListRestProps(rest)}>\n            {filters && cloneElement(filters, {\n                resource,\n                showFilter,\n                displayedFilters,\n                filterValues,\n                context: 'button',\n            })}           \n        </TopToolbar>\n    );\n};\n\nconst InboxList: FC<ListProps> = props => (\n    <List\n        {...props}\n        filterDefaultValues={{ status: 'primary' }}\n        sort={{ field: 'date', order: 'DESC' }}\n        perPage={25}\n        exporter={false}\n        filters={<InboxFilter />}\n        actions={<ListActions />}\n    >\n        <TabbedDatagrid />\n    </List>\n);\n\nexport default InboxList;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    Table,\n    TableBody,\n    TableCell,\n    TableHead,\n    TableRow,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link, FieldProps, useTranslate, DatagridProps,linkToRecord } from 'react-admin';\nimport MuiGridList from '@material-ui/core/GridList';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\nimport { Breakpoint } from '@material-ui/core/styles/createBreakpoints';\n\n\nimport { AppState, Mail, Product } from '../types';\n\nconst useStyles = makeStyles(theme => ({\n    gridList: {\n        margin: 0,\n    },\n    attach_title: {\n        bold: true,\n    },\n    tileBar: {\n        background:\n            'linear-gradient(to top, rgba(0,0,0,0.8) 0%,rgba(0,0,0,0.4) 70%,rgba(0,0,0,0) 100%)',\n    },\n    placeholder: {\n        backgroundColor: theme.palette.grey[300],\n        height: '100%',\n    },\n    price: {\n        display: 'inline',\n        fontSize: '1em',\n    },\n    link: {\n        color: '#fff',\n    },\n}));\n\nconst getColsForWidth = (width) => {\n    let mywidth: Breakpoint = width as Breakpoint;\n    if (mywidth === 'xs') return 2;\n    if (mywidth === 'sm') return 3;\n    if (mywidth === 'md') return 3;\n    if (mywidth === 'lg') return 5;\n    return 6;\n};\n\ninterface AttachProps {\n    record?: Mail;\n}\n\nconst AttachList:FC<AttachProps> = ({ record }) => {\n    const classes = useStyles();\n    const translate = useTranslate();\n\n    return record ?(\n        <MuiGridList\n            cellHeight={180}\n            cols={6}\n            className={classes.gridList}\n        >\n            {record.attachs.map((item: any) => (\n                <GridListTile\n                    // @ts-ignore\n                    \n                >\n                    <a target=\"_blank\" rel=\"noopener noreferrer\" href={item.url}>\n                     <img src={item.thumbnail} alt=\"\" />\n                    </a>\n                    <GridListTileBar\n                        className={classes.tileBar}\n                        title={item.name}\n                        subtitle={\n                            <span>\n                                ${item.price}\n                            </span>\n                        }\n                    />\n                </GridListTile>\n            ))}\n        </MuiGridList>\n    ): null;\n};\n\n\nexport default AttachList;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    BooleanInput,\n    DateField,\n    Show,\n    ShowProps,\n    FormWithRedirect,\n    Labeled,\n    ReferenceField,\n    SelectInput,\n    TextField,\n    Toolbar,\n    EditContextProvider,\n    useTranslate,\n    TextInput,\n    SimpleForm,\n    EditProps,\n    SimpleShowLayout,\n    RichTextField,\n    FieldProps,\n    useShowController,\n    SaveButton,\n    DeleteButton,\n    Button,\n    useRedirect,\n} from 'react-admin';\nimport { Link as RouterLink } from 'react-router-dom';\nimport {\n    Card,\n    CardContent,\n    Box,\n    Grid,\n    Typography,\n    Link,\n    Avatar,\n    IconButton,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { Mail, Customer } from '../types';\nimport Basket from './Basket';\nimport Totals from './Totals';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport RichTextInput from 'ra-input-rich-text';\nimport ReplyIcon from '@material-ui/icons/Reply';\nimport AttachList from './AttachList';\n\ninterface InboxTitleProps {\n    record?: Mail;\n}\n\nconst InboxTitle: FC<InboxTitleProps> = ({ record }) => {\n    const translate = useTranslate();\n    return record ? (\n        <span>\n            {translate('resources.commands.title', {\n                reference: record.reference,\n            })}\n        </span>\n    ) : null;\n};\n\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n    },\n    title: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        margin: '1em',\n    },\n    attach_title: {\n        bold: true,\n    },\n    canister_title: {\n        bold: true,\n    },\n    attach: {\n        fontWeight: 'bold',\n        display: 'flex',\n        alignItems: 'left',\n        justifyContent: 'space-between',\n        margin: '1em',\n    },\n    form: {\n        [theme.breakpoints.up('xs')]: {\n            width: 400,\n        },\n        [theme.breakpoints.down('xs')]: {\n            width: '100vw',\n            marginTop: -30,\n        },\n    },\n    content:{\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    contentdiv:{\n        width: '200px',\n    },\n    inlineField: {\n        display: 'inline-block',\n        width: '50%',\n    },\n    spacer: { height: 20 },\n    invoices: { margin: '10px 0' },\n    toolbar: {\n        display: 'flex',\n        justifyContent: 'space-between',\n    },\n    project_avatar: {\n        width: 64,\n        height: 64,\n    },\n}));\n\n\nconst CustomToolbar = props => (\n    <Toolbar {...props} classes={useStyles()}>\n        <SaveButton />\n        <DeleteButton undoable={false} />\n    </Toolbar>\n);\n\n\nconst Spacer = () => <Box m={1}>&nbsp;</Box>;\n\n\nconst InboxShow: FC<ShowProps> = props => {\n    const classes = useStyles();\n    const { record } = useShowController<Mail>(props);\n    const redirect = useRedirect();\n    const onReply  = () => {\n        redirect('edit','./');\n    };\n\n    if (!record) return null;\n    var attachtitle = '';\n    if(record.attachs.length>0){\n        attachtitle =  record.attachs.length + 'Attachments:'\n    }\n\n    const SenderField: FC<FieldProps<Mail>> = ({ record }) =>\n    record ? (\n        <Typography>\n            <Avatar src={`${record.project.icon}`} className={classes.project_avatar}  />{record.sender} ({record.sendermail})\n        </Typography>\n    ) : null;\n    \n    return (\n        <Card className={classes.root}>\n            <CardContent>\n                <Grid container spacing={2}>\n                    <Grid item xs={10}>\n                        <Typography variant=\"h6\" gutterBottom>\n                           {record.subject}\n                        </Typography>\n                    </Grid>\n                </Grid>\n                <div className={classes.spacer}>&nbsp;</div>\n                <Grid container spacing={2}>\n                    <Grid item xs={6}>\n                            <SenderField record={record}/>\n                    </Grid>\n                    <Grid item xs={3}>\n                        <Typography   gutterBottom align=\"right\">\n                            {record.date}\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={2}>\n                        <Typography   gutterBottom align=\"right\">\n                            <IconButton onClick={onReply}>\n                                <ReplyIcon />\n                            </IconButton>\n                        </Typography>\n                    </Grid>\n                </Grid>\n                <Grid container spacing={2}>\n                    <Grid item xs={10} >\n                         <div className={classes.canister_title} >{record.alias}@{record.signedby}&nbsp;&nbsp;({record.canister}@{record.mailedby})</div>\n                    </Grid>\n                </Grid>\n                <div className={classes.spacer}>&nbsp;</div>\n                <div className={classes.spacer}>&nbsp;</div>\n\n                <Grid container spacing={2} className={classes.content}>\n                     <div dangerouslySetInnerHTML={{ __html: record.content }}/>\n                </Grid>\n                <div className={classes.spacer}>&nbsp;</div>\n                <div className={classes.spacer}>&nbsp;</div>\n                <Typography  className={classes.attach}>\n                     {attachtitle} \n                </Typography>\n                <Typography  gutterBottom>\n                    <AttachList\n                      record={record}\n                    />\n                </Typography>\n                <Box>\n                    \n                </Box>\n                <Spacer />\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default InboxShow;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    BooleanInput,\n    DateField,\n    Create,\n    CreateProps,\n    FormWithRedirect,\n    Labeled,\n    ReferenceField,\n    SelectInput,\n    TextField,\n    Toolbar,\n    useTranslate,\n    useRedirect,\n    SimpleForm,\n    TextInput,\n    required,\n    NumberInput,\n} from 'react-admin';\nimport { Link as RouterLink } from 'react-router-dom';\nimport {\n    Card,\n    CardContent,\n    Box,\n    Grid,\n    Typography,\n    Link,\n    IconButton,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport RichTextInput from 'ra-input-rich-text';\n\n\nimport {Mail, Customer } from '../types';\nimport Basket from './Basket';\nimport Totals from './Totals';\n\n \nconst useStyles = makeStyles(theme => ({\n    root: {\n    },\n    title: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        margin: '1em',\n    },\n    form: {\n        [theme.breakpoints.up('xs')]: {\n            width: 400,\n        },\n        [theme.breakpoints.down('xs')]: {\n            width: '100vw',\n            marginTop: -30,\n        },\n    },\n    content:{\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    inputwitdh:{\n        width: '100%',\n    },\n    inlineField: {\n        display: 'inline-block',\n        width: '50%',\n    },\n    spacer: { height: 20 },\n    invoices: { margin: '10px 0' },\n    toolbar: {\n        display: 'flex',\n        justifyContent: 'space-between',\n    },\n}));\n\nconst Spacer = () => <Box m={1}>&nbsp;</Box>;\n\n\nconst InboxCreate: FC<CreateProps> = props => {\n    const classes = useStyles();\n    \n    return (\n        <Create {...props} title=\"Compose\">\n            <SimpleForm>\n                    <TextInput source=\"Account\" className={classes.inputwitdh} validate={required()} label='Account'/>\n                    <TextInput source=\"Subject\" className={classes.inputwitdh} validate={required()} label='Subject'/>\n\n                    <RichTextInput multiline source=\"description\" label=\"Content\" />\n                    <div className={classes.spacer}>&nbsp;</div>\n                    <div className={classes.spacer}>&nbsp;</div>\n                    <Typography variant=\"h6\" gutterBottom>\n                         Select Asset:\n                    </Typography>\n                    <SelectInput source=\"Assets\" choices={[\n                        { id: 'cidco', name: 'Didco' },\n                        { id: 'aic', name: 'Aic' },\n                        { id: 'doge', name: 'Doge' },\n                    ]} />                    \n                    <NumberInput\n                        source=\"price\"\n                        validate={required()}\n                        label=\"Amount\"\n                    />\n\n            </SimpleForm>\n        </Create>\n    );\n};\n\nexport default InboxCreate;\n","import InboxIcon from '@material-ui/icons/Inbox';\n\nimport InboxList from './InboxList';\nimport InboxShow from './InboxShow';\nimport InboxCreate from './InboxCreate';\n\n\n\nexport default {\n    list: InboxList,\n    icon: InboxIcon,\n    show: InboxShow,\n    create:InboxCreate,\n};\n\n","// in src/comments.js\nimport * as React from 'react';\nimport { FC } from 'react';\nimport { Card, CardHeader, CardContent } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    DateField,\n    EditButton,\n    NumberField,\n    TextField,\n    BooleanField,\n    useTranslate,\n    RecordMap,\n    Identifier,\n    Record,\n} from 'react-admin';\n\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\n\nconst useListStyles = makeStyles(theme => ({\n    card: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        margin: '0.5rem 0',\n    },\n    cardTitleContent: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n    },\n    cardContent: theme.typography.body1,\n    cardContentRow: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        margin: '0.5rem 0',\n    },\n}));\n\ninterface MobileGridProps {\n    ids?: Identifier[];\n    data?: RecordMap<Record>;\n    basePath?: string;\n}\n\nconst MobileGrid: FC<MobileGridProps> = ({ ids, data, basePath }) => {\n    const translate = useTranslate();\n    const classes = useListStyles();\n\n    if (!ids || !data || !basePath) {\n        return null;\n    }\n\n    return (\n        <div style={{ margin: '1em' }}>\n            {ids.map(id => (\n                <Card key={id} className={classes.card}>\n                    <CardHeader\n                        title={\n                            <div className={classes.cardTitleContent}>\n                                <span>\n                                    {translate('resources.commands.name', 1)}\n                                    :&nbsp;\n                                    <TextField\n                                        record={data[id]}\n                                        source=\"reference\"\n                                    />\n                                </span>\n                                <EditButton\n                                    resource=\"commands\"\n                                    basePath={basePath}\n                                    record={data[id]}\n                                />\n                            </div>\n                        }\n                    />\n                    <CardContent className={classes.cardContent}>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.customers.name', 1)}:&nbsp;\n                            <CustomerReferenceField\n                                record={data[id]}\n                                basePath={basePath}\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.reviews.fields.date')}:&nbsp;\n                            <DateField\n                                record={data[id]}\n                                source=\"date\"\n                                showTime\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate(\n                                'resources.commands.fields.basket.total'\n                            )}\n                            :&nbsp;\n                            <NumberField\n                                record={data[id]}\n                                source=\"total\"\n                                options={{ style: 'currency', currency: 'USD' }}\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.commands.fields.status')}\n                            :&nbsp;\n                            <TextField source=\"status\" record={data[id]} />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.commands.fields.returned')}\n                            :&nbsp;\n                            <BooleanField record={data[id]} source=\"returned\" />\n                        </span>\n                    </CardContent>\n                </Card>\n            ))}\n        </div>\n    );\n};\n\nMobileGrid.defaultProps = {\n    data: {},\n    ids: [],\n};\n\nexport default MobileGrid;\n","import * as React from 'react';\nimport { FC, Fragment, useCallback, useEffect, useState } from 'react';\nimport {\n    AutocompleteInput,\n    BooleanField,\n    Datagrid,\n    DatagridProps,\n    DateField,\n    DateInput,\n    Filter,\n    FilterProps,\n    Identifier,\n    List,\n    ListContextProvider,\n    ListProps,\n    NullableBooleanInput,\n    NumberField,\n    ReferenceInput,\n    ReferenceField,\n    SearchInput,\n    TextField,\n    TextInput,\n    useGetList,\n    useListContext,\n} from 'react-admin';\nimport { useMediaQuery, Divider, Tabs, Tab, Theme } from '@material-ui/core';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport NbItemsField from './NbItemsField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport AddressField from '../visitors/AddressField';\nimport MobileGrid from './MobileGrid';\nimport { Customer } from '../types';\n\nconst JunkFilter: FC<Omit<FilterProps, 'children'>> = props => (\n    <Filter {...props}>\n        <SearchInput source=\"q\" alwaysOn />\n        \n    </Filter>\n);\n\nconst useDatagridStyles = makeStyles({\n    total: { fontWeight: 'bold' },\n});\n\nconst tabs = [\n    { id: 'junk', name: 'Junk' },\n];\n\ninterface TabbedDatagridProps extends DatagridProps {}\n\nconst useGetTotals = (filterValues: any) => {\n    const { total: totalJunk } = useGetList(\n        'junks',\n        { perPage: 1, page: 1 },\n        { field: 'id', order: 'ASC' },\n        { ...filterValues, status: 'junk' }\n    );\n    \n    return {\n        junk: totalJunk\n    };\n};\n\nconst TabbedDatagrid: FC<TabbedDatagridProps> = props => {\n    const listContext = useListContext();\n    const { ids, filterValues, setFilters, displayedFilters } = listContext;\n    const classes = useDatagridStyles();\n    const isXSmall = useMediaQuery<Theme>(theme =>\n        theme.breakpoints.down('xs')\n    );\n    const [junk, setJunk] = useState<Identifier[]>([] as Identifier[]);\n    \n    const totals = useGetTotals(filterValues) as any;\n\n    useEffect(() => {\n        if (ids && ids !== filterValues.status) {\n            switch (filterValues.status) {\n                case 'junk':\n                    setJunk(ids);\n                    break;\n            }\n        }\n    }, [ids, filterValues.status]);\n\n    const handleChange = useCallback(\n        (event: React.ChangeEvent<{}>, value: any) => {\n            setFilters &&\n                setFilters(\n                    { ...filterValues, status: value },\n                    displayedFilters\n                );\n        },\n        [displayedFilters, filterValues, setFilters]\n    );\n\n    const selectedIds = junk;\n            \n    return (\n        <Fragment>\n            \n            <Divider />\n            {isXSmall ? (\n                <ListContextProvider\n                    value={{ ...listContext, ids: selectedIds }}\n                >\n                    <MobileGrid {...props} ids={selectedIds} />\n                </ListContextProvider>\n            ) : (\n                <div>\n                    {filterValues.status === 'junk' && (\n                        <ListContextProvider\n                            value={{ ...listContext, ids: junk }}\n                        >\n                            <Datagrid {...props} optimized rowClick=\"show\">\n                                <TextField source=\"sender\" headerClassName={classes.total}/>  \n                                <TextField source=\"subject\" headerClassName={classes.total}/>\n                                <DateField source=\"date\" showTime headerClassName={classes.total}/>\n                            </Datagrid>\n                        </ListContextProvider>\n                    )}\n                </div>\n            )}\n        </Fragment>\n    );\n};\n\nconst JunkList: FC<ListProps> = props => (\n    <List\n        {...props}\n        filterDefaultValues={{ status: 'junk' }}\n        sort={{ field: 'date', order: 'DESC' }}\n        perPage={25}\n        exporter={false}\n        filters={<JunkFilter />}\n    >\n        <TabbedDatagrid />\n    </List>\n);\n\nexport default JunkList;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    BooleanInput,\n    DateField,\n    Show,\n    ShowProps,\n    FormWithRedirect,\n    Labeled,\n    ReferenceField,\n    SelectInput,\n    TextField,\n    Toolbar,\n    EditContextProvider,\n    useTranslate,\n    TextInput,\n    SimpleForm,\n    EditProps,\n    SimpleShowLayout,\n    RichTextField,\n    FieldProps,\n    useShowController,\n    SaveButton,\n    DeleteButton,\n    Button,\n    useRedirect,\n} from 'react-admin';\nimport { Link as RouterLink } from 'react-router-dom';\nimport {\n    Card,\n    CardContent,\n    Box,\n    Grid,\n    Typography,\n    Link,\n    Avatar,\n    IconButton,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { Junk, Customer } from '../types';\nimport Basket from './Basket';\nimport Totals from './Totals';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport RichTextInput from 'ra-input-rich-text';\nimport ReplyIcon from '@material-ui/icons/Reply';\n\ninterface JunkTitleProps {\n    record?: Junk;\n}\n\nconst JunkTitle: FC<JunkTitleProps> = ({ record }) => {\n    const translate = useTranslate();\n    return record ? (\n        <span>\n            {translate('resources.commands.title', {\n                reference: record.reference,\n            })}\n        </span>\n    ) : null;\n};\n\n\nconst CustomerField: FC<FieldProps<Customer>> = ({ record }) =>\n    record ? (\n        <Typography>\n            <Avatar src={`${record.avatar}?size=32x32`} />{record.first_name} {record.last_name}({record.email})\n        </Typography>\n    ) : null;\n\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n    },\n    title: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        margin: '1em',\n    },\n    form: {\n        [theme.breakpoints.up('xs')]: {\n            width: 400,\n        },\n        [theme.breakpoints.down('xs')]: {\n            width: '100vw',\n            marginTop: -30,\n        },\n    },\n    content:{\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    contentdiv:{\n        width: '200px',\n    },\n    inlineField: {\n        display: 'inline-block',\n        width: '50%',\n    },\n    spacer: { height: 20 },\n    invoices: { margin: '10px 0' },\n    toolbar: {\n        display: 'flex',\n        justifyContent: 'space-between',\n    },\n}));\n\n\nconst CustomToolbar = props => (\n    <Toolbar {...props} classes={useStyles()}>\n        <SaveButton />\n        <DeleteButton undoable={false} />\n    </Toolbar>\n);\n\n\nconst Spacer = () => <Box m={1}>&nbsp;</Box>;\n\n\nconst JunkShow: FC<ShowProps> = props => {\n    const classes = useStyles();\n    const { record } = useShowController<Junk>(props);\n    const redirect = useRedirect();\n    const onReply  = () => {\n        redirect('edit','./');\n    };\n\n    if (!record) return null;\n    return (\n        <Card className={classes.root}>\n            <CardContent>\n                <Grid container spacing={2}>\n                    <Grid item xs={10}>\n                        <Typography variant=\"h6\" gutterBottom>\n                           {record.title}\n                        </Typography>\n                    </Grid>\n                </Grid>\n                <div className={classes.spacer}>&nbsp;</div>\n                <Grid container spacing={2}>\n                    <Grid item xs={6}>\n                        <ReferenceField\n                            resource=\"mails\"\n                            reference=\"customers\"\n                            source=\"customer_id\"\n                            basePath=\"/mails\"\n                            record={record}\n                            link={false}\n                        >\n                            <CustomerField />\n                         </ReferenceField>\n                    </Grid>\n                    <Grid item xs={3}>\n                        <Typography   gutterBottom align=\"right\">\n                            {record.date}\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={2}>\n                        <Typography   gutterBottom align=\"right\">\n                            <IconButton onClick={onReply}>\n                                <ReplyIcon />\n                            </IconButton>\n                        </Typography>\n                    </Grid>\n                </Grid>\n                <div className={classes.spacer}>&nbsp;</div>\n                <div className={classes.spacer}>&nbsp;</div>\n\n                <Grid container spacing={2} className={classes.content}>\n                     <div dangerouslySetInnerHTML={{ __html: record.content }}/>\n                </Grid>\n                <div className={classes.spacer}>&nbsp;</div>\n                <Typography  gutterBottom>\n                            Attachments\n                </Typography>\n                <Box>\n                    \n                </Box>\n                <Spacer />\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default JunkShow;\n","import JunkIcon from '@material-ui/icons/Error';\n\nimport JunkList from './junkList';\nimport JunkShow from './junkShow';\n\n\n\nexport default {\n    list: JunkList,\n    icon: JunkIcon,\n    show: JunkShow,\n};","import * as React from 'react';\nimport { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport LabelIcon from '@material-ui/icons/Label';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    useTranslate,\n    DashboardMenuItem,\n    MenuItemLink,\n    MenuProps,\n    useRedirect,\n} from 'react-admin';\n\nimport {\n    IconButton,\n} from '@material-ui/core';\n\nimport visitors from '../visitors';\nimport orders from '../orders';\nimport invoices from '../invoices';\nimport products from '../products';\nimport categories from '../categories';\nimport reviews from '../reviews';\nimport SubMenu from './SubMenu';\nimport inbox from '../inbox';\nimport junk from '../junk';\n\nimport CreateIcon from '@material-ui/icons/Create';\nimport MoreIcon from '@material-ui/icons/More';\nimport TrashIcon from '@material-ui/icons/RestoreFromTrash';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport AssetsIcon from '@material-ui/icons/AccountBalanceWallet';\nimport SubscriptionIcon from '@material-ui/icons/Subscriptions';\nimport SentIcon from '@material-ui/icons/Send';\nimport JunkIcon from '@material-ui/icons/Error';\n\n\n\nimport { AppState } from '../types';\n\ntype MenuName = 'menuCatalog' | 'menuSales' | 'menuCustomers';\n\nconst Menu = ({ dense = false }: MenuProps) => {\n    const [state, setState] = useState({\n        menuCatalog: true,\n        menuSales: true,\n        menuCustomers: true,\n    });\n    const translate = useTranslate();\n    useSelector((state: AppState) => state.theme); // force rerender on theme change\n    const classes = useStyles();\n\n    const handleToggle = (menu: MenuName) => {\n        setState(state => ({ ...state, [menu]: !state[menu] }));\n    };\n\n    const redirect = useRedirect();\n    const onCreate  = () => {\n        redirect('create','../');\n    };\n\n    return (\n        <div className={classes.root}>\n            {' '}\n            <MenuItemLink\n                    to={`/mails/create`}\n                    primaryText={translate(`pos.menu.compose`, {\n                        smart_count: 0,\n                    })}\n                    leftIcon={<CreateIcon />}\n                    dense={dense}\n                />\n            <MenuItemLink\n                    to={`/mails`}\n                    primaryText={translate(`pos.menu.inbox`, {\n                        smart_count: 0,\n                    })}\n                    leftIcon={<inbox.icon />}\n                    dense={dense}\n                />\n            <MenuItemLink\n                    to={`/junks`}\n                    primaryText={translate(`pos.menu.junk`, {\n                        smart_count: 0,\n                    })}\n                    leftIcon={<junk.icon />}\n                    dense={dense}\n                />\n            <MenuItemLink\n                    to={`/sents`}\n                    primaryText={translate(`pos.menu.sent`, {\n                        smart_count: 0,\n                    })}\n                    leftIcon={<SentIcon />}\n                    dense={dense}\n                />\n                <MenuItemLink\n                    to={`/projects`}\n                    primaryText={translate(`pos.menu.subscription`, {\n                        smart_count: 0,\n                    })}\n                    leftIcon={<SubscriptionIcon />}\n                    dense={dense}\n                />\n               <MenuItemLink\n                    to={`/assets`}\n                    primaryText={translate(`pos.menu.assets`, {\n                        smart_count: 0,\n                    })}\n                    leftIcon={<AssetsIcon />}\n                    dense={dense}\n                />\n\n            <SubMenu\n                handleToggle={() => handleToggle('menuSales')}\n                isOpen={state.menuSales}\n                name=\"pos.menu.more\"\n                icon={<MoreIcon />}\n                dense={dense}\n            >\n                <MenuItemLink\n                    to={`/trashs`}\n                    primaryText={translate(`pos.menu.trash`, {\n                        smart_count: 2,\n                    })}\n                    leftIcon={<TrashIcon />}\n                    dense={dense}\n                />\n                <MenuItemLink\n                    to={`/settings`}\n                    primaryText={translate(`pos.menu.settings`, {\n                        smart_count: 2,\n                    })}\n                    leftIcon={<SettingsIcon />}\n                    dense={dense}\n                />\n            </SubMenu>\n        </div>\n    );\n};\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        marginTop: theme.spacing(1),\n    },\n}));\n\nexport default Menu;\n","export const darkTheme = {\n    palette: {\n        primary: {\n            main: '#90caf9',\n        },\n        secondary: {\n            main: '#FBBA72',\n        },\n        type: 'dark' as 'dark', // Switching the dark mode on is a single property value change.\n    },\n    overrides: {\n        MuiAppBar: {\n            colorSecondary: {\n                color: '#ffffffb3',\n                backgroundColor: '#616161e6',\n            },\n        },\n        MuiButtonBase: {\n            root: {\n                '&:hover:active::after': {\n                    // recreate a static ripple color\n                    // use the currentColor to make it work both for outlined and contained buttons\n                    // but to dim the background without dimming the text,\n                    // put another element on top with a limited opacity\n                    content: '\"\"',\n                    display: 'block',\n                    width: '100%',\n                    height: '100%',\n                    position: 'absolute',\n                    top: 0,\n                    right: 0,\n                    backgroundColor: 'currentColor',\n                    opacity: 0.3,\n                    borderRadius: 'inherit',\n                },\n            },\n        },\n    },\n    props: {\n        MuiButtonBase: {\n            // disable ripple for perf reasons\n            disableRipple: true,\n        },\n    },\n};\n\nexport const lightTheme = {\n    palette: {\n        primary: {\n            main: '#4f3cc9',\n        },\n        secondary: {\n            light: '#5f5fc4',\n            main: '#283593',\n            dark: '#001064',\n            contrastText: '#fff',\n        },\n        background: {\n            default: '#fcfcfe',\n        },\n        type: 'light' as 'light',\n    },\n    shape: {\n        borderRadius: 10,\n    },\n    overrides: {\n        RaMenuItemLink: {\n            root: {\n                borderLeft: '3px solid #fff',\n            },\n            active: {\n                borderLeft: '3px solid #4f3cc9',\n            },\n        },\n        MuiPaper: {\n            elevation1: {\n                boxShadow: 'none',\n            },\n            root: {\n                border: '1px solid #e0e0e3',\n                backgroundClip: 'padding-box',\n            },\n        },\n        MuiButton: {\n            contained: {\n                backgroundColor: '#fff',\n                color: '#4f3cc9',\n                boxShadow: 'none',\n            },\n        },\n        MuiButtonBase: {\n            root: {\n                '&:hover:active::after': {\n                    // recreate a static ripple color\n                    // use the currentColor to make it work both for outlined and contained buttons\n                    // but to dim the background without dimming the text,\n                    // put another element on top with a limited opacity\n                    content: '\"\"',\n                    display: 'block',\n                    width: '100%',\n                    height: '100%',\n                    position: 'absolute',\n                    top: 0,\n                    right: 0,\n                    backgroundColor: 'currentColor',\n                    opacity: 0.3,\n                    borderRadius: 'inherit',\n                },\n            },\n        },\n        MuiAppBar: {\n            colorSecondary: {\n                color: '#808080',\n                backgroundColor: '#fff',\n            },\n        },\n        MuiLinearProgress: {\n            colorPrimary: {\n                backgroundColor: '#f5f5f5',\n            },\n            barColorPrimary: {\n                backgroundColor: '#d7d7d7',\n            },\n        },\n        MuiFilledInput: {\n            root: {\n                backgroundColor: 'rgba(0, 0, 0, 0.04)',\n                '&$disabled': {\n                    backgroundColor: 'rgba(0, 0, 0, 0.04)',\n                },\n            },\n        },\n        MuiSnackbarContent: {\n            root: {\n                border: 'none',\n            },\n        },\n    },\n    props: {\n        MuiButtonBase: {\n            // disable ripple for perf reasons\n            disableRipple: true,\n        },\n    },\n};\n","import * as React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Layout, LayoutProps, Sidebar } from 'react-admin';\nimport AppBar from './AppBar';\nimport Menu from './Menu';\nimport { darkTheme, lightTheme } from './themes';\nimport { AppState } from '../types';\n\nconst CustomSidebar = (props: any) => <Sidebar {...props} size={200} />;\n\nexport default (props: LayoutProps) => {\n    const theme = useSelector((state: AppState) =>\n        state.theme === 'dark' ? darkTheme : lightTheme\n    );\n    return (\n        <Layout\n            {...props}\n            appBar={AppBar}\n            sidebar={CustomSidebar}\n            menu={Menu}\n            theme={theme}\n        />\n    );\n};\n","import * as React from 'react';\nimport { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Field, withTypes } from 'react-final-form';\nimport { useLocation } from 'react-router-dom';\n\nimport {\n    Avatar,\n    Button,\n    Card,\n    CardActions,\n    CircularProgress,\n    TextField,\n} from '@material-ui/core';\nimport { createMuiTheme, makeStyles } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport LockIcon from '@material-ui/icons/Lock';\nimport { Notification, useTranslate, useLogin, useNotify } from 'react-admin';\n\nimport { lightTheme } from './themes';\n\nconst useStyles = makeStyles(theme => ({\n    main: {\n        display: 'flex',\n        flexDirection: 'column',\n        minHeight: '100vh',\n        alignItems: 'center',\n        justifyContent: 'flex-start',\n        background: 'url(https://source.unsplash.com/h5iazR-wljU/1600x900)',\n        backgroundRepeat: 'no-repeat',\n        backgroundSize: 'cover',\n    },\n    card: {\n        minWidth: 400,\n        minHeight:150,\n        marginTop: '6em',\n    },\n    avatar: {\n        margin: '1em',\n        display: 'flex',\n        justifyContent: 'center',\n    },\n    icon: {\n        width:110,\n        height:110,\n    },\n    hint: {\n        marginTop: '1em',\n        display: 'flex',\n        justifyContent: 'center',\n        color: theme.palette.grey[500],\n    },\n    form: {\n        padding: '0 1em 1em 1em',\n    },\n    input: {\n        marginTop: '1em',\n    },\n    actions: {\n        padding: '0 1em 1em 1em',\n    },\n}));\n\nconst renderInput = ({\n    meta: { touched, error } = { touched: false, error: undefined },\n    input: { ...inputProps },\n    ...props\n}) => (\n    <TextField\n        error={!!(touched && error)}\n        helperText={touched && error}\n        {...inputProps}\n        {...props}\n        fullWidth\n    />\n);\n\ninterface FormValues {\n    username?: string;\n    password?: string;\n}\n\nconst { Form } = withTypes<FormValues>();\n\nconst Login = () => {\n    const [loading, setLoading] = useState(false);\n    const translate = useTranslate();\n    const classes = useStyles();\n    const notify = useNotify();\n    const login = useLogin();\n    const location = useLocation<{ nextPathname: string } | null>();\n\n    const handleSubmit = (auth: FormValues) => {\n        setLoading(true);\n        login(auth, location.state ? location.state.nextPathname : '/').catch(\n            (error: Error) => {\n                setLoading(false);\n                notify(\n                    typeof error === 'string'\n                        ? error\n                        : typeof error === 'undefined' || !error.message\n                        ? 'ra.auth.sign_in_error'\n                        : error.message,\n                    'warning',\n                    {\n                        _:\n                            typeof error === 'string'\n                                ? error\n                                : error && error.message\n                                ? error.message\n                                : undefined,\n                    }\n                );\n            }\n        );\n    };\n\n    const validate = (values: FormValues) => {\n        const errors: FormValues = {};\n        if (!values.username) {\n            errors.username = translate('ra.validation.required');\n        }\n        if (!values.password) {\n            errors.password = translate('ra.validation.required');\n        }\n        return errors;\n    };\n\n   \n\n    return (\n        <Form\n            onSubmit={handleSubmit}\n            render={({ handleSubmit }) => (\n                <form onSubmit={handleSubmit} noValidate>\n                    <div className={classes.main}>\n                        <Card className={classes.card}>\n                            <div className={classes.avatar}>\n                                <img src='/logomark.png' className={classes.icon} ></img>\n                            </div>\n                            <div className={classes.hint}>\n                                \n                            </div>\n                            <div className={classes.form}>\n                                <div className={classes.input}>\n                                   \n                                </div>\n                                <div className={classes.input}>\n                                    \n                                </div>\n                            </div>\n                            <CardActions className={classes.actions}>\n                                <Button\n                                    variant=\"contained\"\n                                    type=\"submit\"\n                                    color=\"primary\"\n                                    disabled={loading}\n                                    fullWidth\n                                >\n                                    {loading && (\n                                        <CircularProgress\n                                            size={25}\n                                            thickness={2}\n                                        />\n                                    )}\n                                    {translate('pos.login')}\n                                </Button>\n                            </CardActions>\n                        </Card>\n                        <Notification />\n                    </div>\n                </form>\n            )}\n        />\n    );\n};\n\nLogin.propTypes = {\n    authProvider: PropTypes.func,\n    previousRoute: PropTypes.string,\n};\n\n// We need to put the ThemeProvider decoration in another component\n// Because otherwise the useStyles() hook used in Login won't get\n// the right theme\nconst LoginWithTheme = (props: any) => (\n    <ThemeProvider theme={createMuiTheme(lightTheme)}>\n        <Login {...props} />\n    </ThemeProvider>\n);\n\nexport default LoginWithTheme;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { Box, Card, CardActions, Button, Typography } from '@material-ui/core';\nimport HomeIcon from '@material-ui/icons/Home';\nimport CodeIcon from '@material-ui/icons/Code';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate } from 'react-admin';\n\nimport publishArticleImage from './welcome_illustration.svg';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        background:\n            theme.palette.type === 'dark'\n                ? '#535353'\n                : `linear-gradient(to right, #8975fb 0%, #746be7 35%), linear-gradient(to bottom, #8975fb 0%, #6f4ceb 50%), #6f4ceb`,\n\n        color: '#fff',\n        padding: 20,\n        marginTop: theme.spacing(2),\n        marginBottom: '1em',\n    },\n    media: {\n        background: `url(${publishArticleImage}) top right / cover`,\n        marginLeft: 'auto',\n    },\n    actions: {\n        [theme.breakpoints.down('md')]: {\n            padding: 0,\n            flexWrap: 'wrap',\n            '& a': {\n                marginTop: '1em',\n                marginLeft: '0!important',\n                marginRight: '1em',\n            },\n        },\n    },\n}));\n\nconst Welcome: FC = () => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <Card className={classes.root}>\n            <Box display=\"flex\">\n                <Box flex=\"1\">\n                    <Typography variant=\"h5\" component=\"h2\" gutterBottom>\n                        {translate('pos.dashboard.welcome.title')}\n                    </Typography>\n                </Box>\n            </Box>\n        </Card>\n    );\n};\n\nexport default Welcome;\n","import React, {\n    useState,\n    useEffect,\n    useCallback,\n    FC,\n    CSSProperties,\n} from 'react';\nimport { useVersion, useDataProvider,useRedirect } from 'react-admin';\nimport { useMediaQuery, Theme } from '@material-ui/core';\nimport { subDays } from 'date-fns';\n\nimport Welcome from './Welcome';\nimport MonthlyRevenue from './MonthlyRevenue';\nimport NbNewOrders from './NbNewOrders';\nimport PendingOrders from './PendingOrders';\nimport PendingReviews from './PendingReviews';\nimport NewCustomers from './NewCustomers';\nimport OrderChart from './OrderChart';\n\nimport { Customer, Order, Review } from '../types';\n\ninterface OrderStats {\n    revenue: number;\n    nbNewOrders: number;\n    pendingOrders: Order[];\n}\n\ninterface CustomerData {\n    [key: string]: Customer;\n}\n\ninterface State {\n    nbNewOrders?: number;\n    nbPendingReviews?: number;\n    pendingOrders?: Order[];\n    pendingOrdersCustomers?: CustomerData;\n    pendingReviews?: Review[];\n    pendingReviewsCustomers?: CustomerData;\n    recentOrders?: Order[];\n    revenue?: string;\n}\n\nconst styles = {\n    flex: { display: 'flex' },\n    flexColumn: { display: 'flex', flexDirection: 'column' },\n    leftCol: { flex: 1, marginRight: '0.5em' },\n    rightCol: { flex: 1, marginLeft: '0.5em' },\n    singleCol: { marginTop: '1em', marginBottom: '1em' },\n};\n\nconst Spacer = () => <span style={{ width: '1em' }} />;\nconst VerticalSpacer = () => <span style={{ height: '1em' }} />;\n\nconst Dashboard: FC = () => {\n    const redirect = useRedirect();\n    redirect('./mails');\n    \n   \n    return (\n        <div>\n            <div style={styles.flexColumn as CSSProperties}>\n                <Welcome />\n            </div>\n        </div>\n    ); \n};\n\nexport default Dashboard;\n","import DashboardComponent from './Dashboard';\n\nexport const Dashboard = DashboardComponent;\n","import * as React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport { useTranslate, useLocale, useSetLocale, Title } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { changeTheme } from './actions';\nimport { AppState } from '../types';\n\nconst useStyles = makeStyles({\n    label: { width: '10em', display: 'inline-block' },\n    button: { margin: '1em' },\n});\n\nconst Configuration = () => {\n    const translate = useTranslate();\n    const locale = useLocale();\n    const setLocale = useSetLocale();\n    const classes = useStyles();\n    const theme = useSelector((state: AppState) => state.theme);\n    const dispatch = useDispatch();\n    return (\n        <Card>\n            <Title title={translate('pos.configuration')} />\n            <CardContent>\n                <div className={classes.label}>\n                    {translate('pos.theme.name')}\n                </div>\n                <Button\n                    variant=\"contained\"\n                    className={classes.button}\n                    color={theme === 'light' ? 'primary' : 'default'}\n                    onClick={() => dispatch(changeTheme('light'))}\n                >\n                    {translate('pos.theme.light')}\n                </Button>\n                <Button\n                    variant=\"contained\"\n                    className={classes.button}\n                    color={theme === 'dark' ? 'primary' : 'default'}\n                    onClick={() => dispatch(changeTheme('dark'))}\n                >\n                    {translate('pos.theme.dark')}\n                </Button>\n            </CardContent>\n            <CardContent>\n                <div className={classes.label}>{translate('pos.language')}</div>\n                <Button\n                    variant=\"contained\"\n                    className={classes.button}\n                    color={locale === 'en' ? 'primary' : 'default'}\n                    onClick={() => setLocale('en')}\n                >\n                    en\n                </Button>\n                <Button\n                    variant=\"contained\"\n                    className={classes.button}\n                    color={locale === 'fr' ? 'primary' : 'default'}\n                    onClick={() => setLocale('fr')}\n                >\n                    fr\n                </Button>\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default Configuration;\n","export default [\n    { id: 'compulsive', name: 'resources.segments.data.compulsive' },\n    { id: 'collector', name: 'resources.segments.data.collector' },\n    { id: 'ordered_once', name: 'resources.segments.data.ordered_once' },\n    { id: 'regular', name: 'resources.segments.data.regular' },\n    { id: 'returns', name: 'resources.segments.data.returns' },\n    { id: 'reviewer', name: 'resources.segments.data.reviewer' },\n];\n","import * as React from 'react';\nimport { FC } from 'react';\nimport Chip from '@material-ui/core/Chip';\nimport { useTranslate, FieldProps } from 'react-admin';\nimport segments from '../segments/data';\nimport { Customer } from '../types';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n    main: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        marginTop: -8,\n        marginBottom: -8,\n    },\n    chip: { margin: 4 },\n});\n\nconst SegmentsField: FC<FieldProps<Customer>> = ({ record }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n\n    return record ? (\n        <span className={classes.main}>\n            {record.groups &&\n                record.groups.map(segmentId => {\n                    const segment = segments.find(s => s.id === segmentId);\n\n                    return segment ? (\n                        <Chip\n                            size=\"small\"\n                            key={segment.id}\n                            className={classes.chip}\n                            label={translate(segment.name)}\n                        />\n                    ) : null;\n                })}\n        </span>\n    ) : null;\n};\n\nSegmentsField.defaultProps = {\n    addLabel: true,\n    source: 'groups',\n};\n\nexport default SegmentsField;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { useTranslate, SelectInput, InputProps } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport segments from '../segments/data';\n\nconst useStyles = makeStyles({\n    input: { width: 150 },\n});\n\ninterface Props extends Omit<InputProps, 'source'> {\n    source?: string;\n}\n\nconst SegmentInput: FC<Props> = props => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <SelectInput\n            {...props}\n            choices={segments.map(segment => ({\n                id: segment.id,\n                name: translate(segment.name),\n            }))}\n            className={classes.input}\n        />\n    );\n};\n\nSegmentInput.defaultProps = {\n    source: 'groups',\n};\n\nexport default SegmentInput;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { Link, FieldProps } from 'react-admin';\n\nimport FullNameField from './FullNameField';\nimport { Customer } from '../types';\n\nconst CustomerLinkField: FC<FieldProps<Customer>> = props =>\n    props.record ? (\n        <Link to={`/customers/${props.record.id}`}>\n            <FullNameField {...props} />\n        </Link>\n    ) : null;\n\nCustomerLinkField.defaultProps = {\n    source: 'customer_id',\n    addLabel: true,\n};\n\nexport default CustomerLinkField;\n","import * as React from 'react';\nimport { NumberField, NumberFieldProps } from 'react-admin';\n\nconst ColoredNumberField = (props: NumberFieldProps) =>\n    props.record && props.source ? (\n        props.record[props.source] > 500 ? (\n            <span style={{ color: 'red' }}>\n                <NumberField {...props} />\n            </span>\n        ) : (\n            <NumberField {...props} />\n        )\n    ) : null;\n\nColoredNumberField.defaultProps = NumberField.defaultProps;\n\nexport default ColoredNumberField;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport { FieldProps } from 'react-admin';\nimport { Customer } from '../types';\n\ninterface Props extends FieldProps<Customer> {\n    className?: string;\n    size?: string;\n}\n\nconst AvatarField: FC<Props> = ({ record, size = '25', className }) =>\n    record ? (\n        <Avatar\n            src={`${record.avatar}?size=${size}x${size}`}\n            style={{ width: parseInt(size, 10), height: parseInt(size, 10) }}\n            className={className}\n        />\n    ) : null;\n\nexport default AvatarField;\n","// in src/comments.js\nimport * as React from 'react';\nimport { FC } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    DateField,\n    EditButton,\n    useTranslate,\n    NumberField,\n    Identifier,\n} from 'react-admin';\n\nimport AvatarField from './AvatarField';\nimport ColoredNumberField from './ColoredNumberField';\nimport SegmentsField from './SegmentsField';\nimport { Customer } from '../types';\n\nconst useStyles = makeStyles(theme => ({\n    root: { margin: '1em' },\n    card: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        margin: '0.5rem 0',\n    },\n    cardTitleContent: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n    },\n    cardContent: {\n        ...theme.typography.body1,\n        display: 'flex',\n        flexDirection: 'column',\n    },\n}));\n\ninterface Props {\n    ids?: Identifier[];\n    data?: { [key: string]: Customer };\n    basePath?: string;\n}\n\nconst MobileGrid: FC<Props> = ({ ids, data, basePath }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n\n    if (!ids || !data) {\n        return null;\n    }\n\n    return (\n        <div className={classes.root}>\n            {ids.map(id => (\n                <Card key={id} className={classes.card}>\n                    <CardHeader\n                        title={\n                            <div className={classes.cardTitleContent}>\n                                <h2>{`${data[id].first_name} ${data[id].last_name}`}</h2>\n                                <EditButton\n                                    resource=\"visitors\"\n                                    basePath={basePath}\n                                    record={data[id]}\n                                />\n                            </div>\n                        }\n                        avatar={<AvatarField record={data[id]} size=\"45\" />}\n                    />\n                    <CardContent className={classes.cardContent}>\n                        <div>\n                            {translate(\n                                'resources.customers.fields.last_seen_gte'\n                            )}\n                            &nbsp;\n                            <DateField record={data[id]} source=\"last_seen\" />\n                        </div>\n                        <div>\n                            {translate(\n                                'resources.commands.name',\n                                data[id].nb_commands || 1\n                            )}\n                            &nbsp;:&nbsp;\n                            <NumberField\n                                record={data[id]}\n                                source=\"nb_commands\"\n                                label=\"resources.customers.fields.commands\"\n                            />\n                        </div>\n                        <div>\n                            {translate(\n                                'resources.customers.fields.total_spent'\n                            )}\n                            &nbsp; :{' '}\n                            <ColoredNumberField\n                                record={data[id]}\n                                source=\"total_spent\"\n                                options={{ style: 'currency', currency: 'USD' }}\n                            />\n                        </div>\n                    </CardContent>\n                    {data[id].groups && data[id].groups.length > 0 && (\n                        <CardContent className={classes.cardContent}>\n                            <SegmentsField record={data[id]} />\n                        </CardContent>\n                    )}\n                </Card>\n            ))}\n        </div>\n    );\n};\n\nMobileGrid.defaultProps = {\n    data: {},\n    ids: [],\n};\n\nexport default MobileGrid;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { Card as MuiCard, CardContent } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOnOutlined';\nimport MailIcon from '@material-ui/icons/MailOutline';\nimport LocalOfferIcon from '@material-ui/icons/LocalOfferOutlined';\nimport { FilterList, FilterListItem, FilterLiveSearch } from 'react-admin';\nimport {\n    endOfYesterday,\n    startOfWeek,\n    subWeeks,\n    startOfMonth,\n    subMonths,\n} from 'date-fns';\n\nimport segments from '../segments/data';\n\nconst Card = withStyles(theme => ({\n    root: {\n        [theme.breakpoints.up('sm')]: {\n            order: -1,\n            width: '15em',\n            marginRight: '1em',\n        },\n        [theme.breakpoints.down('sm')]: {\n            display: 'none',\n        },\n    },\n}))(MuiCard);\n\nconst Aside: FC = () => (\n    <Card>\n        <CardContent>\n            <FilterLiveSearch />\n\n            <FilterList\n                label=\"resources.customers.filters.last_visited\"\n                icon={<AccessTimeIcon />}\n            >\n                <FilterListItem\n                    label=\"resources.customers.filters.today\"\n                    value={{\n                        last_seen_gte: endOfYesterday().toISOString(),\n                        last_seen_lte: undefined,\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.this_week\"\n                    value={{\n                        last_seen_gte: startOfWeek(new Date()).toISOString(),\n                        last_seen_lte: undefined,\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.last_week\"\n                    value={{\n                        last_seen_gte: subWeeks(\n                            startOfWeek(new Date()),\n                            1\n                        ).toISOString(),\n                        last_seen_lte: startOfWeek(new Date()).toISOString(),\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.this_month\"\n                    value={{\n                        last_seen_gte: startOfMonth(new Date()).toISOString(),\n                        last_seen_lte: undefined,\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.last_month\"\n                    value={{\n                        last_seen_gte: subMonths(\n                            startOfMonth(new Date()),\n                            1\n                        ).toISOString(),\n                        last_seen_lte: startOfMonth(new Date()).toISOString(),\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.earlier\"\n                    value={{\n                        last_seen_gte: undefined,\n                        last_seen_lte: subMonths(\n                            startOfMonth(new Date()),\n                            1\n                        ).toISOString(),\n                    }}\n                />\n            </FilterList>\n\n            <FilterList\n                label=\"resources.customers.filters.has_ordered\"\n                icon={<MonetizationOnIcon />}\n            >\n                <FilterListItem\n                    label=\"ra.boolean.true\"\n                    value={{\n                        nb_commands_gte: 1,\n                        nb_commands_lte: undefined,\n                    }}\n                />\n                <FilterListItem\n                    label=\"ra.boolean.false\"\n                    value={{\n                        nb_commands_gte: undefined,\n                        nb_commands_lte: 0,\n                    }}\n                />\n            </FilterList>\n\n            <FilterList\n                label=\"resources.customers.filters.has_newsletter\"\n                icon={<MailIcon />}\n            >\n                <FilterListItem\n                    label=\"ra.boolean.true\"\n                    value={{ has_newsletter: true }}\n                />\n                <FilterListItem\n                    label=\"ra.boolean.false\"\n                    value={{ has_newsletter: false }}\n                />\n            </FilterList>\n\n            <FilterList\n                label=\"resources.customers.filters.group\"\n                icon={<LocalOfferIcon />}\n            >\n                {segments.map(segment => (\n                    <FilterListItem\n                        label={segment.name}\n                        key={segment.id}\n                        value={{ groups: segment.id }}\n                    />\n                ))}\n            </FilterList>\n        </CardContent>\n    </Card>\n);\n\nexport default Aside;\n","import * as React from 'react';\nimport {\n    BooleanField,\n    Datagrid,\n    DateField,\n    DateInput,\n    Filter,\n    FilterProps,\n    List,\n    ListProps,\n    NullableBooleanInput,\n    NumberField,\n    SearchInput,\n} from 'react-admin';\nimport { useMediaQuery, Theme } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport SegmentsField from './SegmentsField';\nimport SegmentInput from './SegmentInput';\nimport CustomerLinkField from './CustomerLinkField';\nimport ColoredNumberField from './ColoredNumberField';\nimport MobileGrid from './MobileGrid';\nimport VisitorListAside from './VisitorListAside';\nimport { ReactElement } from 'react';\n\nconst VisitorFilter = (props: Omit<FilterProps, 'children'>) => (\n    <Filter {...props}>\n        <SearchInput source=\"q\" alwaysOn />\n        <DateInput source=\"last_seen_gte\" />\n        <NullableBooleanInput source=\"has_ordered\" />\n        <NullableBooleanInput source=\"has_newsletter\" defaultValue />\n        <SegmentInput />\n    </Filter>\n);\n\nconst useStyles = makeStyles(theme => ({\n    nb_commands: { color: 'purple' },\n    hiddenOnSmallScreens: {\n        display: 'table-cell',\n        [theme.breakpoints.down('md')]: {\n            display: 'none',\n        },\n    },\n}));\n\nconst VisitorList = (props: ListProps): ReactElement => {\n    const classes = useStyles();\n    const isXsmall = useMediaQuery<Theme>(theme =>\n        theme.breakpoints.down('xs')\n    );\n    const isSmall = useMediaQuery<Theme>(theme => theme.breakpoints.down('sm'));\n    return (\n        <List\n            {...props}\n            filters={isSmall ? <VisitorFilter /> : undefined}\n            sort={{ field: 'last_seen', order: 'DESC' }}\n            perPage={25}\n            aside={<VisitorListAside />}\n        >\n            {isXsmall ? (\n                <MobileGrid />\n            ) : (\n                <Datagrid optimized rowClick=\"edit\">\n                    <CustomerLinkField />\n                    <DateField source=\"last_seen\" />\n                    <NumberField\n                        source=\"nb_commands\"\n                        label=\"resources.customers.fields.commands\"\n                        className={classes.nb_commands}\n                    />\n                    <ColoredNumberField\n                        source=\"total_spent\"\n                        options={{ style: 'currency', currency: 'USD' }}\n                    />\n                    <DateField source=\"latest_purchase\" showTime />\n                    <BooleanField source=\"has_newsletter\" label=\"News.\" />\n                    <SegmentsField\n                        cellClassName={classes.hiddenOnSmallScreens}\n                        headerClassName={classes.hiddenOnSmallScreens}\n                    />\n                </Datagrid>\n            )}\n        </List>\n    );\n};\n\nexport default VisitorList;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    Create,\n    CreateProps,\n    DateInput,\n    SimpleForm,\n    TextInput,\n    useTranslate,\n    PasswordInput,\n    required,\n    email,\n} from 'react-admin';\nimport { AnyObject } from 'react-final-form';\nimport { Typography, Box } from '@material-ui/core';\nimport { makeStyles, Theme } from '@material-ui/core/styles';\nimport { Styles } from '@material-ui/styles/withStyles';\n\nexport const styles: Styles<Theme, any> = {\n    first_name: { display: 'inline-block' },\n    last_name: { display: 'inline-block', marginLeft: 32 },\n    email: { width: 544 },\n    address: { maxWidth: 544 },\n    zipcode: { display: 'inline-block' },\n    city: { display: 'inline-block', marginLeft: 32 },\n    comment: {\n        maxWidth: '20em',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n    },\n    password: { display: 'inline-block' },\n    confirm_password: { display: 'inline-block', marginLeft: 32 },\n};\n\nconst useStyles = makeStyles(styles);\n\nexport const validatePasswords = ({\n    password,\n    confirm_password,\n}: AnyObject) => {\n    const errors = {} as any;\n\n    if (password && confirm_password && password !== confirm_password) {\n        errors.confirm_password = [\n            'resources.customers.errors.password_mismatch',\n        ];\n    }\n\n    return errors;\n};\n\nconst VisitorCreate: FC<CreateProps> = props => {\n    const classes = useStyles(props);\n\n    return (\n        <Create {...props}>\n            <SimpleForm validate={validatePasswords}>\n                <SectionTitle label=\"resources.customers.fieldGroups.identity\" />\n                <TextInput\n                    autoFocus\n                    source=\"first_name\"\n                    formClassName={classes.first_name}\n                    validate={requiredValidate}\n                />\n                <TextInput\n                    source=\"last_name\"\n                    formClassName={classes.last_name}\n                    validate={requiredValidate}\n                />\n                <TextInput\n                    type=\"email\"\n                    source=\"email\"\n                    validation={{ email: true }}\n                    fullWidth\n                    formClassName={classes.email}\n                    validate={[required(), email()]}\n                />\n                <DateInput source=\"birthday\" />\n                <Separator />\n                <SectionTitle label=\"resources.customers.fieldGroups.address\" />\n                <TextInput\n                    source=\"address\"\n                    formClassName={classes.address}\n                    multiline\n                    fullWidth\n                    helperText={false}\n                />\n                <TextInput\n                    source=\"zipcode\"\n                    formClassName={classes.zipcode}\n                    helperText={false}\n                />\n                <TextInput\n                    source=\"city\"\n                    formClassName={classes.city}\n                    helperText={false}\n                />\n                <Separator />\n                <SectionTitle label=\"resources.customers.fieldGroups.password\" />\n                <PasswordInput\n                    source=\"password\"\n                    formClassName={classes.password}\n                />\n                <PasswordInput\n                    source=\"confirm_password\"\n                    formClassName={classes.confirm_password}\n                />\n            </SimpleForm>\n        </Create>\n    );\n};\n\nconst requiredValidate = [required()];\n\nconst SectionTitle = ({ label }: { label: string }) => {\n    const translate = useTranslate();\n\n    return (\n        <Typography variant=\"h6\" gutterBottom>\n            {translate(label)}\n        </Typography>\n    );\n};\n\nconst Separator = () => <Box pt=\"1em\" />;\n\nexport default VisitorCreate;\n","import * as React from 'react';\nimport { FunctionField, FieldProps } from 'react-admin';\nimport { Order } from '../types';\n\nconst render = (record?: Order) => record && record.basket.length;\n\nconst NbItemsField = ({ record }: FieldProps<Order>) => (\n    <FunctionField<Order> record={record} render={render} />\n);\n\nNbItemsField.defaultProps = {\n    label: 'resources.commands.fields.nb_items',\n    textAlign: 'right',\n};\n\nexport default NbItemsField;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { FieldProps } from 'react-admin';\nimport { Customer } from '../types';\n\nconst AddressField: FC<FieldProps<Customer>> = ({ record }) =>\n    record ? (\n        <span>\n            {record.address}, {record.city}, {record.stateAbbr} {record.zipcode}\n        </span>\n    ) : null;\n\nexport default AddressField;\n","// in src/comments.js\nimport * as React from 'react';\nimport { FC } from 'react';\nimport { Card, CardHeader, CardContent } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    DateField,\n    EditButton,\n    NumberField,\n    TextField,\n    BooleanField,\n    useTranslate,\n    RecordMap,\n    Identifier,\n    Record,\n} from 'react-admin';\n\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\n\nconst useListStyles = makeStyles(theme => ({\n    card: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        margin: '0.5rem 0',\n    },\n    cardTitleContent: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n    },\n    cardContent: theme.typography.body1,\n    cardContentRow: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        margin: '0.5rem 0',\n    },\n}));\n\ninterface MobileGridProps {\n    ids?: Identifier[];\n    data?: RecordMap<Record>;\n    basePath?: string;\n}\n\nconst MobileGrid: FC<MobileGridProps> = ({ ids, data, basePath }) => {\n    const translate = useTranslate();\n    const classes = useListStyles();\n\n    if (!ids || !data || !basePath) {\n        return null;\n    }\n\n    return (\n        <div style={{ margin: '1em' }}>\n            {ids.map(id => (\n                <Card key={id} className={classes.card}>\n                    <CardHeader\n                        title={\n                            <div className={classes.cardTitleContent}>\n                                <span>\n                                    {translate('resources.commands.name', 1)}\n                                    :&nbsp;\n                                    <TextField\n                                        record={data[id]}\n                                        source=\"reference\"\n                                    />\n                                </span>\n                                <EditButton\n                                    resource=\"commands\"\n                                    basePath={basePath}\n                                    record={data[id]}\n                                />\n                            </div>\n                        }\n                    />\n                    <CardContent className={classes.cardContent}>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.customers.name', 1)}:&nbsp;\n                            <CustomerReferenceField\n                                record={data[id]}\n                                basePath={basePath}\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.reviews.fields.date')}:&nbsp;\n                            <DateField\n                                record={data[id]}\n                                source=\"date\"\n                                showTime\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate(\n                                'resources.commands.fields.basket.total'\n                            )}\n                            :&nbsp;\n                            <NumberField\n                                record={data[id]}\n                                source=\"total\"\n                                options={{ style: 'currency', currency: 'USD' }}\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.commands.fields.status')}\n                            :&nbsp;\n                            <TextField source=\"status\" record={data[id]} />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.commands.fields.returned')}\n                            :&nbsp;\n                            <BooleanField record={data[id]} source=\"returned\" />\n                        </span>\n                    </CardContent>\n                </Card>\n            ))}\n        </div>\n    );\n};\n\nMobileGrid.defaultProps = {\n    data: {},\n    ids: [],\n};\n\nexport default MobileGrid;\n","import * as React from 'react';\nimport { FC, Fragment, useCallback, useEffect, useState } from 'react';\nimport {\n    AutocompleteInput,\n    BooleanField,\n    Datagrid,\n    DatagridProps,\n    DateField,\n    DateInput,\n    Filter,\n    FilterProps,\n    Identifier,\n    List,\n    ListContextProvider,\n    ListProps,\n    NullableBooleanInput,\n    NumberField,\n    ReferenceInput,\n    ReferenceField,\n    SearchInput,\n    TextField,\n    TextInput,\n    useGetList,\n    useListContext,\n} from 'react-admin';\nimport { useMediaQuery, Divider, Tabs, Tab, Theme } from '@material-ui/core';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport NbItemsField from './NbItemsField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport AddressField from '../visitors/AddressField';\nimport MobileGrid from './MobileGrid';\nimport { Customer } from '../types';\n\nconst OrderFilter: FC<Omit<FilterProps, 'children'>> = props => (\n    <Filter {...props}>\n        <SearchInput source=\"q\" alwaysOn />\n        <ReferenceInput source=\"customer_id\" reference=\"customers\">\n            <AutocompleteInput\n                optionText={(choice: Customer) =>\n                    choice.id // the empty choice is { id: '' }\n                        ? `${choice.first_name} ${choice.last_name}`\n                        : ''\n                }\n            />\n        </ReferenceInput>\n        <DateInput source=\"date_gte\" />\n        <DateInput source=\"date_lte\" />\n        <TextInput source=\"total_gte\" />\n        <NullableBooleanInput source=\"returned\" />\n    </Filter>\n);\n\nconst useDatagridStyles = makeStyles({\n    total: { fontWeight: 'bold' },\n});\n\nconst tabs = [\n    { id: 'ordered', name: 'ordered' },\n    { id: 'delivered', name: 'delivered' },\n    { id: 'cancelled', name: 'cancelled' },\n];\n\ninterface TabbedDatagridProps extends DatagridProps {}\n\nconst useGetTotals = (filterValues: any) => {\n    const { total: totalOrdered } = useGetList(\n        'commands',\n        { perPage: 1, page: 1 },\n        { field: 'id', order: 'ASC' },\n        { ...filterValues, status: 'ordered' }\n    );\n    const { total: totalDelivered } = useGetList(\n        'commands',\n        { perPage: 1, page: 1 },\n        { field: 'id', order: 'ASC' },\n        { ...filterValues, status: 'delivered' }\n    );\n    const { total: totalCancelled } = useGetList(\n        'commands',\n        { perPage: 1, page: 1 },\n        { field: 'id', order: 'ASC' },\n        { ...filterValues, status: 'cancelled' }\n    );\n\n    return {\n        ordered: totalOrdered,\n        delivered: totalDelivered,\n        cancelled: totalCancelled,\n    };\n};\n\nconst TabbedDatagrid: FC<TabbedDatagridProps> = props => {\n    const listContext = useListContext();\n    const { ids, filterValues, setFilters, displayedFilters } = listContext;\n    const classes = useDatagridStyles();\n    const isXSmall = useMediaQuery<Theme>(theme =>\n        theme.breakpoints.down('xs')\n    );\n    const [ordered, setOrdered] = useState<Identifier[]>([] as Identifier[]);\n    const [delivered, setDelivered] = useState<Identifier[]>(\n        [] as Identifier[]\n    );\n    const [cancelled, setCancelled] = useState<Identifier[]>(\n        [] as Identifier[]\n    );\n    const totals = useGetTotals(filterValues) as any;\n\n    useEffect(() => {\n        if (ids && ids !== filterValues.status) {\n            switch (filterValues.status) {\n                case 'ordered':\n                    setOrdered(ids);\n                    break;\n                case 'delivered':\n                    setDelivered(ids);\n                    break;\n                case 'cancelled':\n                    setCancelled(ids);\n                    break;\n            }\n        }\n    }, [ids, filterValues.status]);\n\n    const handleChange = useCallback(\n        (event: React.ChangeEvent<{}>, value: any) => {\n            setFilters &&\n                setFilters(\n                    { ...filterValues, status: value },\n                    displayedFilters\n                );\n        },\n        [displayedFilters, filterValues, setFilters]\n    );\n\n    const selectedIds =\n        filterValues.status === 'ordered'\n            ? ordered\n            : filterValues.status === 'delivered'\n            ? delivered\n            : cancelled;\n\n    return (\n        <Fragment>\n            <Tabs\n                variant=\"fullWidth\"\n                centered\n                value={filterValues.status}\n                indicatorColor=\"primary\"\n                onChange={handleChange}\n            >\n                {tabs.map(choice => (\n                    <Tab\n                        key={choice.id}\n                        label={\n                            totals[choice.name]\n                                ? `${choice.name} (${totals[choice.name]})`\n                                : choice.name\n                        }\n                        value={choice.id}\n                    />\n                ))}\n            </Tabs>\n            <Divider />\n            {isXSmall ? (\n                <ListContextProvider\n                    value={{ ...listContext, ids: selectedIds }}\n                >\n                    <MobileGrid {...props} ids={selectedIds} />\n                </ListContextProvider>\n            ) : (\n                <div>\n                    {filterValues.status === 'ordered' && (\n                        <ListContextProvider\n                            value={{ ...listContext, ids: ordered }}\n                        >\n                            <Datagrid {...props} optimized rowClick=\"edit\">\n                                <DateField source=\"date\" showTime />\n                                <TextField source=\"reference\" />\n                                <CustomerReferenceField />\n                                <ReferenceField\n                                    source=\"customer_id\"\n                                    reference=\"customers\"\n                                    link={false}\n                                    label=\"resources.commands.fields.address\"\n                                >\n                                    <AddressField />\n                                </ReferenceField>\n                                <NbItemsField />\n                                <NumberField\n                                    source=\"total\"\n                                    options={{\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    }}\n                                    className={classes.total}\n                                />\n                            </Datagrid>\n                        </ListContextProvider>\n                    )}\n                    {filterValues.status === 'delivered' && (\n                        <ListContextProvider\n                            value={{ ...listContext, ids: delivered }}\n                        >\n                            <Datagrid {...props} rowClick=\"edit\">\n                                <DateField source=\"date\" showTime />\n                                <TextField source=\"reference\" />\n                                <CustomerReferenceField />\n                                <ReferenceField\n                                    source=\"customer_id\"\n                                    reference=\"customers\"\n                                    link={false}\n                                    label=\"resources.commands.fields.address\"\n                                >\n                                    <AddressField />\n                                </ReferenceField>\n                                <NbItemsField />\n                                <NumberField\n                                    source=\"total\"\n                                    options={{\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    }}\n                                    className={classes.total}\n                                />\n                                <BooleanField source=\"returned\" />\n                            </Datagrid>\n                        </ListContextProvider>\n                    )}\n                    {filterValues.status === 'cancelled' && (\n                        <ListContextProvider\n                            value={{ ...listContext, ids: cancelled }}\n                        >\n                            <Datagrid {...props} rowClick=\"edit\">\n                                <DateField source=\"date\" showTime />\n                                <TextField source=\"reference\" />\n                                <CustomerReferenceField />\n                                <ReferenceField\n                                    source=\"customer_id\"\n                                    reference=\"customers\"\n                                    link={false}\n                                    label=\"resources.commands.fields.address\"\n                                >\n                                    <AddressField />\n                                </ReferenceField>\n                                <NbItemsField />\n                                <NumberField\n                                    source=\"total\"\n                                    options={{\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    }}\n                                    className={classes.total}\n                                />\n                                <BooleanField source=\"returned\" />\n                            </Datagrid>\n                        </ListContextProvider>\n                    )}\n                </div>\n            )}\n        </Fragment>\n    );\n};\n\nconst OrderList: FC<ListProps> = props => (\n    <List\n        {...props}\n        filterDefaultValues={{ status: 'ordered' }}\n        sort={{ field: 'date', order: 'DESC' }}\n        perPage={25}\n        filters={<OrderFilter />}\n    >\n        <TabbedDatagrid />\n    </List>\n);\n\nexport default OrderList;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    Table,\n    TableBody,\n    TableCell,\n    TableHead,\n    TableRow,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link, FieldProps, useTranslate, useQueryWithStore } from 'react-admin';\n\nimport { AppState, Order, Product } from '../types';\n\nconst useStyles = makeStyles({\n    rightAlignedCell: { textAlign: 'right' },\n});\n\nconst Basket: FC<FieldProps<Order>> = ({ record }) => {\n    const classes = useStyles();\n    const translate = useTranslate();\n\n    const { loaded, data: products } = useQueryWithStore<AppState>(\n        {\n            type: 'getMany',\n            resource: 'products',\n            payload: {\n                ids: record ? record.basket.map(item => item.product_id) : [],\n            },\n        },\n        {},\n        state => {\n            const productIds = record\n                ? record.basket.map(item => item.product_id)\n                : [];\n\n            return productIds\n                .map<Product>(\n                    productId =>\n                        state.admin.resources.products.data[\n                            productId\n                        ] as Product\n                )\n                .filter(r => typeof r !== 'undefined')\n                .reduce((prev, next) => {\n                    prev[next.id] = next;\n                    return prev;\n                }, {} as { [key: string]: Product });\n        }\n    );\n\n    if (!loaded || !record) return null;\n\n    return (\n        <Table>\n            <TableHead>\n                <TableRow>\n                    <TableCell>\n                        {translate(\n                            'resources.commands.fields.basket.reference'\n                        )}\n                    </TableCell>\n                    <TableCell className={classes.rightAlignedCell}>\n                        {translate(\n                            'resources.commands.fields.basket.unit_price'\n                        )}\n                    </TableCell>\n                    <TableCell className={classes.rightAlignedCell}>\n                        {translate('resources.commands.fields.basket.quantity')}\n                    </TableCell>\n                    <TableCell className={classes.rightAlignedCell}>\n                        {translate('resources.commands.fields.basket.total')}\n                    </TableCell>\n                </TableRow>\n            </TableHead>\n            <TableBody>\n                {record.basket.map(\n                    (item: any) =>\n                        products[item.product_id] && (\n                            <TableRow key={item.product_id}>\n                                <TableCell>\n                                    <Link to={`/products/${item.product_id}`}>\n                                        {products[item.product_id].reference}\n                                    </Link>\n                                </TableCell>\n                                <TableCell className={classes.rightAlignedCell}>\n                                    {products[\n                                        item.product_id\n                                    ].price.toLocaleString(undefined, {\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    })}\n                                </TableCell>\n                                <TableCell className={classes.rightAlignedCell}>\n                                    {item.quantity}\n                                </TableCell>\n                                <TableCell className={classes.rightAlignedCell}>\n                                    {(\n                                        products[item.product_id].price *\n                                        item.quantity\n                                    ).toLocaleString(undefined, {\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    })}\n                                </TableCell>\n                            </TableRow>\n                        )\n                )}\n            </TableBody>\n        </Table>\n    );\n};\n\nexport default Basket;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport classnames from 'classnames';\nimport { Table, TableBody, TableCell, TableRow } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FieldProps, useTranslate } from 'react-admin';\n\nimport { Order } from '../types';\n\nconst useStyles = makeStyles({\n    container: { minWidth: '35em' },\n    rightAlignedCell: { textAlign: 'right' },\n    boldCell: { fontWeight: 'bold' },\n});\n\nconst Totals: FC<FieldProps<Order>> = ({ record }: { record?: Order }) => {\n    const classes = useStyles();\n    const translate = useTranslate();\n\n    return (\n        <Table className={classes.container}>\n            <TableBody>\n                <TableRow>\n                    <TableCell>\n                        {translate('resources.commands.fields.basket.sum')}\n                    </TableCell>\n                    <TableCell className={classes.rightAlignedCell}>\n                        {record?.total_ex_taxes.toLocaleString(undefined, {\n                            style: 'currency',\n                            currency: 'USD',\n                        })}\n                    </TableCell>\n                </TableRow>\n                <TableRow>\n                    <TableCell>\n                        {translate('resources.commands.fields.basket.delivery')}\n                    </TableCell>\n                    <TableCell className={classes.rightAlignedCell}>\n                        {record?.delivery_fees.toLocaleString(undefined, {\n                            style: 'currency',\n                            currency: 'USD',\n                        })}\n                    </TableCell>\n                </TableRow>\n                <TableRow>\n                    <TableCell>\n                        {translate('resources.commands.fields.basket.taxes')} (\n                        {record?.tax_rate.toLocaleString(undefined, {\n                            style: 'percent',\n                        })}\n                        )\n                    </TableCell>\n                    <TableCell className={classes.rightAlignedCell}>\n                        {record?.taxes.toLocaleString(undefined, {\n                            style: 'currency',\n                            currency: 'USD',\n                        })}\n                    </TableCell>\n                </TableRow>\n                <TableRow>\n                    <TableCell className={classes.boldCell}>\n                        {translate('resources.commands.fields.basket.total')}\n                    </TableCell>\n                    <TableCell\n                        className={classnames(\n                            classes.boldCell,\n                            classes.rightAlignedCell\n                        )}\n                    >\n                        {record?.total.toLocaleString(undefined, {\n                            style: 'currency',\n                            currency: 'USD',\n                        })}\n                    </TableCell>\n                </TableRow>\n            </TableBody>\n        </Table>\n    );\n};\n\nexport default Totals;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    BooleanInput,\n    DateField,\n    Edit,\n    EditProps,\n    FormWithRedirect,\n    Labeled,\n    ReferenceField,\n    SelectInput,\n    TextField,\n    Toolbar,\n    useTranslate,\n} from 'react-admin';\nimport { Link as RouterLink } from 'react-router-dom';\nimport {\n    Card,\n    CardContent,\n    Box,\n    Grid,\n    Typography,\n    Link,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { Order, Customer } from '../types';\nimport Basket from './Basket';\nimport Totals from './Totals';\n\ninterface OrderTitleProps {\n    record?: Order;\n}\n\nconst OrderTitle: FC<OrderTitleProps> = ({ record }) => {\n    const translate = useTranslate();\n    return record ? (\n        <span>\n            {translate('resources.commands.title', {\n                reference: record.reference,\n            })}\n        </span>\n    ) : null;\n};\n\nconst CustomerDetails = ({ record }: { record?: Customer }) => (\n    <Box display=\"flex\" flexDirection=\"column\">\n        <Typography\n            component={RouterLink}\n            color=\"primary\"\n            to={`/customers/${record?.id}`}\n            style={{ textDecoration: 'none' }}\n        >\n            {record?.first_name} {record?.last_name}\n        </Typography>\n        <Typography\n            component={Link}\n            color=\"primary\"\n            href={`mailto:${record?.email}`}\n            style={{ textDecoration: 'none' }}\n        >\n            {record?.email}\n        </Typography>\n    </Box>\n);\n\nconst CustomerAddress = ({ record }: { record?: Customer }) => (\n    <Box>\n        <Typography>\n            {record?.first_name} {record?.last_name}\n        </Typography>\n        <Typography>{record?.address}</Typography>\n        <Typography>\n            {record?.city}, {record?.stateAbbr} {record?.zipcode}\n        </Typography>\n    </Box>\n);\n\nconst useEditStyles = makeStyles({\n    root: { alignItems: 'flex-start' },\n});\n\nconst Spacer = () => <Box m={1}>&nbsp;</Box>;\n\nconst OrderForm = (props: any) => {\n    const translate = useTranslate();\n    return (\n        <FormWithRedirect\n            {...props}\n            render={(formProps: any) => (\n                <Box maxWidth=\"50em\">\n                    <Card>\n                        <CardContent>\n                            <Grid container spacing={1}>\n                                <Grid item xs={12} sm={12} md={8}>\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.commands.section.order'\n                                        )}\n                                    </Typography>\n                                    <Grid container>\n                                        <Grid item xs={12} sm={12} md={6}>\n                                            <Labeled\n                                                source=\"date\"\n                                                resource=\"commands\"\n                                            >\n                                                <DateField\n                                                    source=\"date\"\n                                                    resource=\"commands\"\n                                                    record={formProps.record}\n                                                />\n                                            </Labeled>\n                                        </Grid>\n                                        <Grid item xs={12} sm={12} md={6}>\n                                            <Labeled\n                                                source=\"reference\"\n                                                resource=\"commands\"\n                                            >\n                                                <TextField\n                                                    source=\"reference\"\n                                                    resource=\"commands\"\n                                                    record={formProps.record}\n                                                />\n                                            </Labeled>\n                                        </Grid>\n                                    </Grid>\n                                    <Grid container>\n                                        <Grid item xs={12} sm={12} md={6}>\n                                            <SelectInput\n                                                resource=\"commands\"\n                                                source=\"status\"\n                                                choices={[\n                                                    {\n                                                        id: 'delivered',\n                                                        name: 'delivered',\n                                                    },\n                                                    {\n                                                        id: 'ordered',\n                                                        name: 'ordered',\n                                                    },\n                                                    {\n                                                        id: 'cancelled',\n                                                        name: 'cancelled',\n                                                    },\n                                                    {\n                                                        id: 'unknown',\n                                                        name: 'unknown',\n                                                        disabled: true,\n                                                    },\n                                                ]}\n                                            />\n                                        </Grid>\n                                        <Grid item xs={12} sm={12} md={6}>\n                                            <Box mt={2}>\n                                                <BooleanInput\n                                                    row={true}\n                                                    resource=\"commands\"\n                                                    source=\"returned\"\n                                                />\n                                            </Box>\n                                        </Grid>\n                                    </Grid>\n                                </Grid>\n                                <Grid item xs={12} sm={12} md={4}>\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.commands.section.customer'\n                                        )}\n                                    </Typography>\n                                    <ReferenceField\n                                        source=\"customer_id\"\n                                        resource=\"commands\"\n                                        reference=\"customers\"\n                                        basePath=\"/customers\"\n                                        record={formProps.record}\n                                        link={false}\n                                    >\n                                        <CustomerDetails />\n                                    </ReferenceField>\n                                    <Spacer />\n\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.commands.section.shipping_address'\n                                        )}\n                                    </Typography>\n                                    <ReferenceField\n                                        source=\"customer_id\"\n                                        resource=\"commands\"\n                                        reference=\"customers\"\n                                        basePath=\"/customers\"\n                                        record={formProps.record}\n                                        link={false}\n                                    >\n                                        <CustomerAddress />\n                                    </ReferenceField>\n                                </Grid>\n                            </Grid>\n                            <Spacer />\n\n                            <Typography variant=\"h6\" gutterBottom>\n                                {translate('resources.commands.section.items')}\n                            </Typography>\n                            <Box>\n                                <Basket record={formProps.record} />\n                            </Box>\n                            <Spacer />\n\n                            <Typography variant=\"h6\" gutterBottom>\n                                {translate('resources.commands.section.total')}\n                            </Typography>\n                            <Box>\n                                <Totals record={formProps.record} />\n                            </Box>\n                        </CardContent>\n                        <Toolbar\n                            record={formProps.record}\n                            basePath={formProps.basePath}\n                            undoable={true}\n                            invalid={formProps.invalid}\n                            handleSubmit={formProps.handleSubmit}\n                            saving={formProps.saving}\n                            resource=\"commands\"\n                        />\n                    </Card>\n                </Box>\n            )}\n        />\n    );\n};\nconst OrderEdit: FC<EditProps> = props => {\n    const classes = useEditStyles();\n    return (\n        <Edit\n            title={<OrderTitle />}\n            classes={classes}\n            {...props}\n            component=\"div\"\n        >\n            <OrderForm />\n        </Edit>\n    );\n};\n\nexport default OrderEdit;\n","import OrderIcon from '@material-ui/icons/AttachMoney';\n\nimport OrderList from './OrderList';\nimport OrderEdit from './OrderEdit';\n\nexport default {\n    list: OrderList,\n    edit: OrderEdit,\n    icon: OrderIcon,\n};\n","import * as React from 'react';\nimport { FC } from 'react';\nimport PropTypes from 'prop-types';\nimport ThumbUp from '@material-ui/icons/ThumbUp';\n\nimport {\n    Button,\n    useUpdateMany,\n    useNotify,\n    useRefresh,\n    useUnselectAll,\n    CRUD_UPDATE_MANY,\n    BulkActionProps,\n    Identifier,\n} from 'react-admin';\n\nconst noSelection: Identifier[] = [];\n\nconst BulkAcceptButton: FC<BulkActionProps> = ({\n    selectedIds = noSelection,\n}) => {\n    const notify = useNotify();\n    const refresh = useRefresh();\n    const unselectAll = useUnselectAll('reviews');\n\n    const [approve, { loading }] = useUpdateMany(\n        'reviews',\n        selectedIds,\n        { status: 'accepted' },\n        {\n            action: CRUD_UPDATE_MANY,\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.approved_success',\n                    'info',\n                    {},\n                    true\n                );\n                refresh();\n                unselectAll();\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.approved_error',\n                    'warning'\n                );\n            },\n        }\n    );\n\n    return (\n        <Button\n            label=\"resources.reviews.action.accept\"\n            onClick={approve}\n            disabled={loading}\n        >\n            <ThumbUp />\n        </Button>\n    );\n};\n\nBulkAcceptButton.propTypes = {\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n};\n\nexport default BulkAcceptButton;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport PropTypes from 'prop-types';\nimport ThumbDown from '@material-ui/icons/ThumbDown';\n\nimport {\n    Button,\n    useUpdateMany,\n    useNotify,\n    useRefresh,\n    useUnselectAll,\n    CRUD_UPDATE_MANY,\n    BulkActionProps,\n    Identifier,\n} from 'react-admin';\n\nconst noSelection: Identifier[] = [];\n\nconst BulkRejectButton: FC<BulkActionProps> = ({\n    selectedIds = noSelection,\n}) => {\n    const notify = useNotify();\n    const refresh = useRefresh();\n    const unselectAll = useUnselectAll('reviews');\n\n    const [reject, { loading }] = useUpdateMany(\n        'reviews',\n        selectedIds,\n        { status: 'rejected' },\n        {\n            action: CRUD_UPDATE_MANY,\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.approved_success',\n                    'info',\n                    {},\n                    true\n                );\n                refresh();\n                unselectAll();\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.approved_error',\n                    'warning'\n                );\n            },\n        }\n    );\n\n    return (\n        <Button\n            label=\"resources.reviews.action.reject\"\n            onClick={reject}\n            disabled={loading}\n        >\n            <ThumbDown />\n        </Button>\n    );\n};\n\nBulkRejectButton.propTypes = {\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n};\n\nexport default BulkRejectButton;\n","import * as React from 'react';\nimport { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport {\n    linkToRecord,\n    ReferenceField,\n    FunctionField,\n    TextField,\n    useListContext,\n    Record,\n} from 'react-admin';\n\nimport AvatarField from '../visitors/AvatarField';\nimport { Review, Customer } from './../types';\n\nconst useStyles = makeStyles({\n    root: {\n        width: '100vw',\n    },\n    link: {\n        textDecoration: 'none',\n        color: 'inherit',\n    },\n    inline: {\n        display: 'inline',\n    },\n});\n\nconst ReviewListMobile = () => {\n    const classes = useStyles();\n    const { basePath, data, ids, loaded, total } = useListContext<Review>();\n\n    return loaded || Number(total) > 0 ? (\n        <List className={classes.root}>\n            {(ids as Exclude<typeof ids, undefined>).map(id => {\n                const item = (data as Exclude<typeof data, undefined>)[id];\n                if (!item) return null;\n\n                return (\n                    <Link\n                        to={linkToRecord(basePath, id)}\n                        className={classes.link}\n                        key={id}\n                    >\n                        <ListItem button>\n                            <ListItemAvatar>\n                                <ReferenceField\n                                    record={item}\n                                    source=\"customer_id\"\n                                    reference=\"customers\"\n                                    basePath={basePath}\n                                    link={false}\n                                >\n                                    <AvatarField size=\"40\" />\n                                </ReferenceField>\n                            </ListItemAvatar>\n                            <ListItemText\n                                primary={\n                                    <Fragment>\n                                        <ReferenceField\n                                            record={item}\n                                            source=\"customer_id\"\n                                            reference=\"customers\"\n                                            basePath={basePath}\n                                            link={false}\n                                        >\n                                            <FunctionField\n                                                render={(record?: Record) =>\n                                                    record\n                                                        ? `${\n                                                              (record as Customer)\n                                                                  .first_name\n                                                          } ${\n                                                              (record as Customer)\n                                                                  .last_name\n                                                          }`\n                                                        : ''\n                                                }\n                                                variant=\"subtitle1\"\n                                                className={classes.inline}\n                                            />\n                                        </ReferenceField>{' '}\n                                        on{' '}\n                                        <ReferenceField\n                                            record={item}\n                                            source=\"product_id\"\n                                            reference=\"products\"\n                                            basePath={basePath}\n                                            link={false}\n                                        >\n                                            <TextField\n                                                source=\"reference\"\n                                                variant=\"subtitle1\"\n                                                className={classes.inline}\n                                            />\n                                        </ReferenceField>\n                                    </Fragment>\n                                }\n                                secondary={item.comment}\n                                secondaryTypographyProps={{ noWrap: true }}\n                            />\n                        </ListItem>\n                    </Link>\n                );\n            })}\n        </List>\n    ) : null;\n};\n\nReviewListMobile.propTypes = {\n    basePath: PropTypes.string,\n    data: PropTypes.any,\n    hasBulkActions: PropTypes.bool.isRequired,\n    ids: PropTypes.array,\n    onToggleItem: PropTypes.func,\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n};\n\nReviewListMobile.defaultProps = {\n    hasBulkActions: false,\n    selectedIds: [],\n};\n\nexport default ReviewListMobile;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { ReferenceField, ReferenceFieldProps, TextField } from 'react-admin';\n\ninterface Props {\n    source?: string;\n}\n\nconst ProductReferenceField: FC<\n    Props & Omit<Omit<ReferenceFieldProps, 'source'>, 'reference' | 'children'>\n> = props => (\n    <ReferenceField\n        label=\"Product\"\n        source=\"product_id\"\n        reference=\"products\"\n        {...props}\n    >\n        <TextField source=\"reference\" />\n    </ReferenceField>\n);\n\nProductReferenceField.defaultProps = {\n    source: 'product_id',\n    addLabel: true,\n};\n\nexport default ProductReferenceField;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport Icon from '@material-ui/icons/Stars';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { FieldProps } from 'react-admin';\n\nconst useStyles = makeStyles({\n    root: {\n        opacity: 0.87,\n        whiteSpace: 'nowrap',\n        display: 'flex',\n    },\n    large: {\n        width: 20,\n        height: 20,\n    },\n    small: {\n        width: 15,\n        height: 15,\n    },\n});\n\ninterface OwnProps {\n    size?: 'large' | 'small';\n}\n\nconst StarRatingField: FC<FieldProps & OwnProps> = ({\n    record,\n    size = 'large',\n}) => {\n    const classes = useStyles();\n    return record ? (\n        <span className={classes.root}>\n            {Array(record.rating)\n                .fill(true)\n                .map((_, i) => (\n                    <Icon\n                        key={i}\n                        className={\n                            size === 'large' ? classes.large : classes.small\n                        }\n                    />\n                ))}\n        </span>\n    ) : null;\n};\n\nStarRatingField.defaultProps = {\n    label: 'resources.reviews.fields.rating',\n    source: 'rating',\n    addLabel: true,\n};\n\nexport default StarRatingField;\n","import green from '@material-ui/core/colors/green';\nimport orange from '@material-ui/core/colors/orange';\nimport red from '@material-ui/core/colors/red';\nimport { useTheme } from '@material-ui/core/styles';\nimport { Identifier } from 'react-admin';\n\nimport { Review } from './../types';\n\nconst rowStyle = (selectedRow?: Identifier) => (record: Review) => {\n    const theme = useTheme();\n    let style = {};\n    if (!record) {\n        return style;\n    }\n    if (selectedRow && selectedRow === record.id) {\n        style = {\n            ...style,\n            backgroundColor: theme.palette.action.selected,\n        };\n    }\n    if (record.status === 'accepted')\n        return {\n            ...style,\n            borderLeftColor: green[500],\n            borderLeftWidth: 5,\n            borderLeftStyle: 'solid',\n        };\n    if (record.status === 'pending')\n        return {\n            ...style,\n            borderLeftColor: orange[500],\n            borderLeftWidth: 5,\n            borderLeftStyle: 'solid',\n        };\n    if (record.status === 'rejected')\n        return {\n            ...style,\n            borderLeftColor: red[500],\n            borderLeftWidth: 5,\n            borderLeftStyle: 'solid',\n        };\n    return style;\n};\n\nexport default rowStyle;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    Identifier,\n    Datagrid,\n    DateField,\n    TextField,\n    DatagridProps,\n} from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ProductReferenceField from '../products/ProductReferenceField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport StarRatingField from './StarRatingField';\nimport rowStyle from './rowStyle';\n\nconst useListStyles = makeStyles({\n    headerRow: {\n        borderLeftColor: 'transparent',\n        borderLeftWidth: 5,\n        borderLeftStyle: 'solid',\n    },\n    headerCell: {\n        padding: '6px 8px 6px 8px',\n    },\n    rowCell: {\n        padding: '6px 8px 6px 8px',\n    },\n    comment: {\n        maxWidth: '18em',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n    },\n});\n\nexport interface ReviewListDesktopProps extends DatagridProps {\n    selectedRow?: Identifier;\n}\n\nconst ReviewListDesktop: FC<ReviewListDesktopProps> = ({\n    selectedRow,\n    ...props\n}) => {\n    const classes = useListStyles();\n    return (\n        <Datagrid\n            rowClick=\"edit\"\n            // @ts-ignore\n            rowStyle={rowStyle(selectedRow)}\n            classes={{\n                headerRow: classes.headerRow,\n                headerCell: classes.headerCell,\n                rowCell: classes.rowCell,\n            }}\n            optimized\n            {...props}\n        >\n            <DateField source=\"date\" />\n            <CustomerReferenceField link={false} />\n            <ProductReferenceField link={false} />\n            <StarRatingField size=\"small\" />\n            <TextField source=\"comment\" cellClassName={classes.comment} />\n            <TextField source=\"status\" />\n        </Datagrid>\n    );\n};\n\nexport default ReviewListDesktop;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    AutocompleteInput,\n    DateInput,\n    Filter,\n    ReferenceInput,\n    SearchInput,\n    SelectInput,\n    FilterProps,\n} from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Customer } from '../types';\n\nconst useFilterStyles = makeStyles({\n    status: { width: 150 },\n});\n\nconst ReviewFilter: FC<Omit<FilterProps, 'children'>> = props => {\n    const classes = useFilterStyles();\n    return (\n        <Filter {...props}>\n            <SearchInput source=\"q\" alwaysOn />\n            <SelectInput\n                source=\"status\"\n                choices={[\n                    { id: 'accepted', name: 'Accepted' },\n                    { id: 'pending', name: 'Pending' },\n                    { id: 'rejected', name: 'Rejected' },\n                ]}\n                className={classes.status}\n            />\n            <ReferenceInput source=\"customer_id\" reference=\"customers\">\n                <AutocompleteInput\n                    optionText={(choice?: Customer) =>\n                        choice?.id // the empty choice is { id: '' }\n                            ? `${choice.first_name} ${choice.last_name}`\n                            : ''\n                    }\n                />\n            </ReferenceInput>\n            <ReferenceInput source=\"product_id\" reference=\"products\">\n                <AutocompleteInput optionText=\"reference\" />\n            </ReferenceInput>\n            <DateInput source=\"date_gte\" />\n            <DateInput source=\"date_lte\" />\n        </Filter>\n    );\n};\n\nexport default ReviewFilter;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport ThumbUp from '@material-ui/icons/ThumbUp';\nimport { useTranslate, useUpdate, useNotify, useRedirect } from 'react-admin';\nimport { Review } from './../types';\n\n/**\n * This custom button demonstrate using useUpdate to update data\n */\nconst AcceptButton: FC<{ record: Review }> = ({ record }) => {\n    const translate = useTranslate();\n    const notify = useNotify();\n    const redirectTo = useRedirect();\n\n    const [approve, { loading }] = useUpdate(\n        'reviews',\n        record.id,\n        { status: 'accepted' },\n        record,\n        {\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.approved_success',\n                    'info',\n                    {},\n                    true\n                );\n                redirectTo('/reviews');\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.approved_error',\n                    'warning'\n                );\n            },\n        }\n    );\n    return record && record.status === 'pending' ? (\n        <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={approve}\n            disabled={loading}\n        >\n            <ThumbUp\n                color=\"primary\"\n                style={{ paddingRight: '0.5em', color: 'green' }}\n            />\n            {translate('resources.reviews.action.accept')}\n        </Button>\n    ) : (\n        <span />\n    );\n};\n\nAcceptButton.propTypes = {\n    record: PropTypes.any,\n};\n\nexport default AcceptButton;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport ThumbDown from '@material-ui/icons/ThumbDown';\nimport { useTranslate, useUpdate, useNotify, useRedirect } from 'react-admin';\nimport { Review } from '../types';\n\n/**\n * This custom button demonstrate using a custom action to update data\n */\nconst RejectButton: FC<{ record: Review }> = ({ record }) => {\n    const translate = useTranslate();\n    const notify = useNotify();\n    const redirectTo = useRedirect();\n\n    const [reject, { loading }] = useUpdate(\n        'reviews',\n        record.id,\n        { status: 'rejected' },\n        record,\n        {\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.rejected_success',\n                    'info',\n                    {},\n                    true\n                );\n                redirectTo('/reviews');\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.rejected_error',\n                    'warning'\n                );\n            },\n        }\n    );\n\n    return record && record.status === 'pending' ? (\n        <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={reject}\n            disabled={loading}\n        >\n            <ThumbDown\n                color=\"primary\"\n                style={{ paddingRight: '0.5em', color: 'red' }}\n            />\n            {translate('resources.reviews.action.reject')}\n        </Button>\n    ) : (\n        <span />\n    );\n};\n\nRejectButton.propTypes = {\n    record: PropTypes.any,\n};\n\nexport default RejectButton;\n","import * as React from 'react';\nimport { Fragment, FC } from 'react';\nimport MuiToolbar from '@material-ui/core/Toolbar';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { SaveButton, DeleteButton, ToolbarProps } from 'react-admin';\nimport AcceptButton from './AcceptButton';\nimport RejectButton from './RejectButton';\nimport { Review } from '../types';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        backgroundColor: theme.palette.background.paper,\n        display: 'flex',\n        justifyContent: 'space-between',\n    },\n}));\n\nconst ReviewEditToolbar: FC<ToolbarProps<Review>> = ({\n    basePath,\n    handleSubmitWithRedirect,\n    invalid,\n    record,\n    resource,\n    saving,\n}) => {\n    const classes = useStyles();\n\n    if (!record) return null;\n    return (\n        <MuiToolbar className={classes.root}>\n            {record.status === 'pending' ? (\n                <Fragment>\n                    <AcceptButton record={record} />\n                    <RejectButton record={record} />\n                </Fragment>\n            ) : (\n                <Fragment>\n                    <SaveButton\n                        handleSubmitWithRedirect={handleSubmitWithRedirect}\n                        invalid={invalid}\n                        saving={saving}\n                        redirect=\"list\"\n                        submitOnEnter={true}\n                    />\n                    <DeleteButton\n                        basePath={basePath}\n                        record={record}\n                        resource={resource}\n                    />\n                </Fragment>\n            )}\n        </MuiToolbar>\n    );\n};\n\nexport default ReviewEditToolbar;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    useEditController,\n    EditContextProvider,\n    useTranslate,\n    TextInput,\n    SimpleForm,\n    DateField,\n    EditProps,\n} from 'react-admin';\nimport { IconButton, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport ProductReferenceField from '../products/ProductReferenceField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport StarRatingField from './StarRatingField';\nimport ReviewEditToolbar from './ReviewEditToolbar';\nimport { Review } from '../types';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        paddingTop: 40,\n    },\n    title: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        margin: '1em',\n    },\n    form: {\n        [theme.breakpoints.up('xs')]: {\n            width: 400,\n        },\n        [theme.breakpoints.down('xs')]: {\n            width: '100vw',\n            marginTop: -30,\n        },\n    },\n    inlineField: {\n        display: 'inline-block',\n        width: '50%',\n    },\n}));\n\ninterface Props extends EditProps {\n    onCancel: () => void;\n}\n\nconst ReviewEdit: FC<Props> = ({ onCancel, ...props }) => {\n    const classes = useStyles();\n    const controllerProps = useEditController<Review>(props);\n    const translate = useTranslate();\n    if (!controllerProps.record) {\n        return null;\n    }\n    return (\n        <div className={classes.root}>\n            <div className={classes.title}>\n                <Typography variant=\"h6\">\n                    {translate('resources.reviews.detail')}\n                </Typography>\n                <IconButton onClick={onCancel}>\n                    <CloseIcon />\n                </IconButton>\n            </div>\n            <EditContextProvider value={controllerProps}>\n                <SimpleForm\n                    className={classes.form}\n                    basePath={controllerProps.basePath}\n                    record={controllerProps.record}\n                    save={controllerProps.save}\n                    version={controllerProps.version}\n                    redirect=\"list\"\n                    resource=\"reviews\"\n                    toolbar={<ReviewEditToolbar />}\n                >\n                    <CustomerReferenceField\n                        formClassName={classes.inlineField}\n                    />\n                    <ProductReferenceField\n                        formClassName={classes.inlineField}\n                    />\n                    <DateField\n                        source=\"date\"\n                        formClassName={classes.inlineField}\n                    />\n                    <StarRatingField formClassName={classes.inlineField} />\n                    <TextInput\n                        source=\"comment\"\n                        rowsMax={15}\n                        multiline\n                        fullWidth\n                    />\n                </SimpleForm>\n            </EditContextProvider>\n        </div>\n    );\n};\n\nexport default ReviewEdit;\n","import * as React from 'react';\nimport { Fragment, useCallback, FC } from 'react';\nimport classnames from 'classnames';\nimport {\n    BulkDeleteButton,\n    List,\n    ListProps,\n    BulkActionProps,\n} from 'react-admin';\nimport { Route, RouteChildrenProps, useHistory } from 'react-router-dom';\nimport { Drawer, useMediaQuery, Theme } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport BulkAcceptButton from './BulkAcceptButton';\nimport BulkRejectButton from './BulkRejectButton';\nimport ReviewListMobile from './ReviewListMobile';\nimport ReviewListDesktop from './ReviewListDesktop';\nimport ReviewFilter from './ReviewFilter';\nimport ReviewEdit from './ReviewEdit';\n\nconst ReviewsBulkActionButtons = (props: BulkActionProps) => (\n    <Fragment>\n        <BulkAcceptButton {...props} />\n        <BulkRejectButton {...props} />\n        <BulkDeleteButton {...props} />\n    </Fragment>\n);\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: 'flex',\n    },\n    list: {\n        flexGrow: 1,\n        transition: theme.transitions.create(['all'], {\n            duration: theme.transitions.duration.enteringScreen,\n        }),\n        marginRight: 0,\n    },\n    listWithDrawer: {\n        marginRight: 400,\n    },\n    drawerPaper: {\n        zIndex: 100,\n    },\n}));\n\nconst ReviewList: FC<ListProps> = props => {\n    const classes = useStyles();\n    const isXSmall = useMediaQuery<Theme>(theme =>\n        theme.breakpoints.down('xs')\n    );\n    const history = useHistory();\n\n    const handleClose = useCallback(() => {\n        history.push('/reviews');\n    }, [history]);\n\n    return (\n        <div className={classes.root}>\n            <Route path=\"/reviews/:id\">\n                {({ match }: RouteChildrenProps<{ id: string }>) => {\n                    const isMatch = !!(\n                        match &&\n                        match.params &&\n                        match.params.id !== 'create'\n                    );\n\n                    return (\n                        <Fragment>\n                            <List\n                                {...props}\n                                className={classnames(classes.list, {\n                                    [classes.listWithDrawer]: isMatch,\n                                })}\n                                bulkActionButtons={<ReviewsBulkActionButtons />}\n                                filters={<ReviewFilter />}\n                                perPage={25}\n                                sort={{ field: 'date', order: 'DESC' }}\n                            >\n                                {isXSmall ? (\n                                    <ReviewListMobile />\n                                ) : (\n                                    <ReviewListDesktop\n                                        selectedRow={\n                                            isMatch\n                                                ? parseInt(\n                                                      (match as any).params.id,\n                                                      10\n                                                  )\n                                                : undefined\n                                        }\n                                    />\n                                )}\n                            </List>\n                            <Drawer\n                                variant=\"persistent\"\n                                open={isMatch}\n                                anchor=\"right\"\n                                onClose={handleClose}\n                                classes={{\n                                    paper: classes.drawerPaper,\n                                }}\n                            >\n                                {/* To avoid any errors if the route does not match, we don't render at all the component in this case */}\n                                {isMatch ? (\n                                    <ReviewEdit\n                                        id={(match as any).params.id}\n                                        onCancel={handleClose}\n                                        resource={props.resource}\n                                        basePath={props.basePath}\n                                    />\n                                ) : null}\n                            </Drawer>\n                        </Fragment>\n                    );\n                }}\n            </Route>\n        </div>\n    );\n};\n\nexport default ReviewList;\n","import ReviewIcon from '@material-ui/icons/Comment';\nimport ReviewList from './ReviewList';\n\nexport default {\n    icon: ReviewIcon,\n    list: ReviewList,\n};\n","import * as React from 'react';\nimport { FC } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n    NumberField,\n    TextField,\n    DateField,\n    useTranslate,\n    useGetList,\n    Record,\n    RecordMap,\n    Identifier,\n    ReferenceField,\n    useLocale,\n} from 'react-admin';\nimport {\n    Typography,\n    Card,\n    CardContent,\n    Box,\n    Link,\n    Stepper,\n    Step,\n    StepLabel,\n    StepContent,\n} from '@material-ui/core';\nimport { Link as RouterLink } from 'react-router-dom';\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport order from '../orders';\nimport review from '../reviews';\nimport StarRatingField from '../reviews/StarRatingField';\nimport { Order as OrderRecord, Review as ReviewRecord } from '../types';\n\nconst useAsideStyles = makeStyles(theme => ({\n    root: {\n        width: 400,\n        [theme.breakpoints.down('md')]: {\n            display: 'none',\n        },\n    },\n}));\n\ninterface AsideProps {\n    record?: Record;\n    basePath?: string;\n}\n\nconst Aside: FC<AsideProps> = ({ record, basePath }) => {\n    const classes = useAsideStyles();\n    return (\n        <div className={classes.root}>\n            {record && <EventList record={record} basePath={basePath} />}\n        </div>\n    );\n};\n\nAside.propTypes = {\n    record: PropTypes.any,\n    basePath: PropTypes.string,\n};\n\ninterface EventListProps {\n    record?: Record;\n    basePath?: string;\n}\n\nconst useEventStyles = makeStyles({\n    stepper: {\n        background: 'none',\n        border: 'none',\n        marginLeft: '0.3em',\n    },\n});\n\nconst EventList: FC<EventListProps> = ({ record, basePath }) => {\n    const translate = useTranslate();\n    const classes = useEventStyles();\n    const locale = useLocale();\n    const { data: orders, ids: orderIds } = useGetList<OrderRecord>(\n        'commands',\n        { page: 1, perPage: 100 },\n        { field: 'date', order: 'DESC' },\n        { customer_id: record && record.id }\n    );\n    const { data: reviews, ids: reviewIds } = useGetList<ReviewRecord>(\n        'reviews',\n        { page: 1, perPage: 100 },\n        { field: 'date', order: 'DESC' },\n        { customer_id: record && record.id }\n    );\n    const events = mixOrdersAndReviews(orders, orderIds, reviews, reviewIds);\n\n    return (\n        <>\n            <Box m=\"0 0 1em 1em\">\n                <Card>\n                    <CardContent>\n                        <Typography variant=\"h6\" gutterBottom>\n                            {translate(\n                                'resources.customers.fieldGroups.history'\n                            )}\n                        </Typography>\n                        <Box display=\"flex\">\n                            <Box flexGrow={1}>\n                                <Box display=\"flex\" mb=\"1em\">\n                                    <Box mr=\"1em\">\n                                        <AccessTimeIcon\n                                            fontSize=\"small\"\n                                            color=\"disabled\"\n                                        />\n                                    </Box>\n                                    <Box flexGrow={1}>\n                                        <Typography>\n                                            {translate(\n                                                'resources.customers.fields.first_seen'\n                                            )}\n                                        </Typography>\n                                        <DateField\n                                            record={record}\n                                            source=\"first_seen\"\n                                        />\n                                    </Box>\n                                </Box>\n                                {orderIds && orderIds.length > 0 && (\n                                    <Box display=\"flex\">\n                                        <Box mr=\"1em\">\n                                            <order.icon\n                                                fontSize=\"small\"\n                                                color=\"disabled\"\n                                            />\n                                        </Box>\n                                        <Box flexGrow={1}>\n                                            <Typography>\n                                                {translate(\n                                                    'resources.commands.amount',\n                                                    {\n                                                        smart_count:\n                                                            orderIds.length,\n                                                    }\n                                                )}\n                                            </Typography>\n                                        </Box>\n                                    </Box>\n                                )}\n                            </Box>\n                            <Box flexGrow={1}>\n                                <Box display=\"flex\" mb=\"1em\">\n                                    <Box mr=\"1em\">\n                                        <AccessTimeIcon\n                                            fontSize=\"small\"\n                                            color=\"disabled\"\n                                        />\n                                    </Box>\n                                    <Box flexGrow={1}>\n                                        <Typography>\n                                            {translate(\n                                                'resources.customers.fields.last_seen'\n                                            )}\n                                        </Typography>\n                                        <DateField\n                                            record={record}\n                                            source=\"last_seen\"\n                                        />\n                                    </Box>\n                                </Box>\n                                {reviewIds && reviewIds.length > 0 && (\n                                    <Box display=\"flex\">\n                                        <Box mr=\"1em\">\n                                            <review.icon\n                                                fontSize=\"small\"\n                                                color=\"disabled\"\n                                            />\n                                        </Box>\n                                        <Box flexGrow={1}>\n                                            <Typography>\n                                                {translate(\n                                                    'resources.reviews.amount',\n                                                    {\n                                                        smart_count:\n                                                            reviewIds.length,\n                                                    }\n                                                )}\n                                            </Typography>\n                                        </Box>\n                                    </Box>\n                                )}\n                            </Box>\n                        </Box>\n                    </CardContent>\n                </Card>\n            </Box>\n            <Stepper orientation=\"vertical\" classes={{ root: classes.stepper }}>\n                {events.map(event => (\n                    <Step\n                        key={`${event.type}-${event.data.id}`}\n                        expanded\n                        active\n                        completed\n                    >\n                        <StepLabel\n                            StepIconComponent={() => {\n                                const Component =\n                                    event.type === 'order'\n                                        ? order.icon\n                                        : review.icon;\n                                return (\n                                    <Component\n                                        fontSize=\"small\"\n                                        color=\"disabled\"\n                                        style={{ paddingLeft: 3 }}\n                                    />\n                                );\n                            }}\n                        >\n                            {new Date(event.date).toLocaleString(locale, {\n                                weekday: 'long',\n                                year: 'numeric',\n                                month: 'short',\n                                day: 'numeric',\n                                hour: 'numeric',\n                                minute: 'numeric',\n                            })}\n                        </StepLabel>\n                        <StepContent>\n                            {event.type === 'order' ? (\n                                <Order\n                                    record={event.data as OrderRecord}\n                                    key={`event_${event.data.id}`}\n                                    basePath={basePath}\n                                />\n                            ) : (\n                                <Review\n                                    record={event.data as ReviewRecord}\n                                    key={`review_${event.data.id}`}\n                                    basePath={basePath}\n                                />\n                            )}\n                        </StepContent>\n                    </Step>\n                ))}\n            </Stepper>\n        </>\n    );\n};\n\ninterface AsideEvent {\n    type: string;\n    date: Date;\n    data: OrderRecord | ReviewRecord;\n}\n\nconst mixOrdersAndReviews = (\n    orders?: RecordMap<OrderRecord>,\n    orderIds?: Identifier[],\n    reviews?: RecordMap<ReviewRecord>,\n    reviewIds?: Identifier[]\n): AsideEvent[] => {\n    const eventsFromOrders =\n        orderIds && orders\n            ? orderIds.map<AsideEvent>(id => ({\n                  type: 'order',\n                  date: orders[id].date,\n                  data: orders[id],\n              }))\n            : [];\n    const eventsFromReviews =\n        reviewIds && reviews\n            ? reviewIds.map<AsideEvent>(id => ({\n                  type: 'review',\n                  date: reviews[id].date,\n                  data: reviews[id],\n              }))\n            : [];\n    const events = eventsFromOrders.concat(eventsFromReviews);\n    events.sort(\n        (e1, e2) => new Date(e2.date).getTime() - new Date(e1.date).getTime()\n    );\n    return events;\n};\n\ninterface OrderProps {\n    record?: OrderRecord;\n    basePath?: string;\n}\n\nconst Order: FC<OrderProps> = ({ record, basePath }) => {\n    const translate = useTranslate();\n    return record ? (\n        <>\n            <Typography variant=\"body2\" gutterBottom>\n                <Link to={`/commands/${record.id}`} component={RouterLink}>\n                    {translate('resources.commands.name', {\n                        smart_count: 1,\n                    })}{' '}\n                    #{record.reference}\n                </Link>\n            </Typography>\n            <Typography variant=\"body2\" color=\"textSecondary\">\n                {translate('resources.commands.nb_items', {\n                    smart_count: record.basket.length,\n                    _: '1 item |||| %{smart_count} items',\n                })}\n                &nbsp;-&nbsp;\n                <NumberField\n                    source=\"total\"\n                    options={{\n                        style: 'currency',\n                        currency: 'USD',\n                    }}\n                    record={record}\n                    basePath={basePath}\n                />\n                &nbsp;-&nbsp;\n                <TextField\n                    source=\"status\"\n                    record={record}\n                    basePath={basePath}\n                />\n            </Typography>\n        </>\n    ) : null;\n};\n\ninterface ReviewProps {\n    record?: ReviewRecord;\n    basePath?: string;\n}\n\nconst useReviewStyles = makeStyles({\n    clamp: {\n        display: '-webkit-box',\n        '-webkit-line-clamp': 3,\n        '-webkit-box-orient': 'vertical',\n        overflow: 'hidden',\n    },\n});\n\nconst Review: FC<ReviewProps> = ({ record, basePath }) => {\n    const classes = useReviewStyles();\n    const translate = useTranslate();\n    return record ? (\n        <>\n            <Typography variant=\"body2\" gutterBottom>\n                <Link to={`/reviews/${record.id}`} component={RouterLink}>\n                    {translate('resources.reviews.relative_to_poster')} \"\n                    <ReferenceField\n                        source=\"product_id\"\n                        reference=\"products\"\n                        resource=\"reviews\"\n                        record={record}\n                        basePath={basePath}\n                        link={false}\n                    >\n                        <TextField source=\"reference\" component=\"span\" />\n                    </ReferenceField>\n                    \"\n                </Link>\n            </Typography>\n            <Typography variant=\"body2\" color=\"textSecondary\" gutterBottom>\n                <StarRatingField record={record} />\n            </Typography>\n            <Typography\n                variant=\"body2\"\n                color=\"textSecondary\"\n                className={classes.clamp}\n            >\n                {record.comment}\n            </Typography>\n        </>\n    ) : null;\n};\n\nexport default Aside;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { useTranslate, SelectArrayInput, InputProps } from 'react-admin';\n\nimport segments from '../segments/data';\n\ninterface Props extends Omit<InputProps, 'source'> {\n    source?: string;\n}\n\nconst SegmentsInput: FC<Props> = ({ addField, ...rest }) => {\n    const translate = useTranslate();\n    return (\n        <SelectArrayInput\n            source=\"groups\"\n            {...rest}\n            choices={segments.map(segment => ({\n                id: segment.id,\n                name: translate(segment.name),\n            }))}\n        />\n    );\n};\n\nSegmentsInput.defaultProps = {\n    addField: true,\n    source: 'groups',\n    resource: 'customers',\n};\n\nexport default SegmentsInput;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    DateInput,\n    Edit,\n    EditProps,\n    NullableBooleanInput,\n    TextInput,\n    PasswordInput,\n    Toolbar,\n    useTranslate,\n    FormWithRedirect,\n    required,\n    email,\n    FieldProps,\n} from 'react-admin';\nimport { Box, Card, CardContent, Typography } from '@material-ui/core';\n\nimport Aside from './Aside';\nimport FullNameField from './FullNameField';\nimport SegmentsInput from './SegmentsInput';\nimport { validatePasswords } from './VisitorCreate';\nimport { Customer } from '../types';\n\nconst VisitorEdit: FC<EditProps> = props => {\n    return (\n        <Edit\n            title={<VisitorTitle />}\n            aside={<Aside />}\n            component=\"div\"\n            {...props}\n        >\n            <VisitorForm />\n        </Edit>\n    );\n};\n\nconst VisitorTitle: FC<FieldProps<Customer>> = ({ record }) =>\n    record ? <FullNameField record={record} size=\"32\" /> : null;\n\nconst VisitorForm = (props: any) => {\n    const translate = useTranslate();\n\n    return (\n        <FormWithRedirect\n            {...props}\n            validate={validatePasswords}\n            render={(formProps: any) => (\n                <Card>\n                    <form>\n                        <CardContent>\n                            <Box display={{ md: 'block', lg: 'flex' }}>\n                                <Box flex={2} mr={{ md: 0, lg: '1em' }}>\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.identity'\n                                        )}\n                                    </Typography>\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"first_name\"\n                                                resource=\"customers\"\n                                                validate={requiredValidate}\n                                                fullWidth\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={1}\n                                            ml={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"last_name\"\n                                                resource=\"customers\"\n                                                validate={requiredValidate}\n                                                fullWidth\n                                            />\n                                        </Box>\n                                    </Box>\n                                    <TextInput\n                                        type=\"email\"\n                                        source=\"email\"\n                                        resource=\"customers\"\n                                        validate={[email(), required()]}\n                                        fullWidth\n                                    />\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <DateInput\n                                                source=\"birthday\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                                helperText={false}\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={2}\n                                            ml={{ xs: 0, sm: '0.5em' }}\n                                        />\n                                    </Box>\n\n                                    <Box mt=\"1em\" />\n\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.address'\n                                        )}\n                                    </Typography>\n                                    <TextInput\n                                        type=\"text\"\n                                        source=\"canister\"\n                                        resource=\"customers\"\n                                        fullWidth\n                                    />\n                                    <TextInput\n                                        source=\"address\"\n                                        resource=\"customers\"\n                                        multiline\n                                        fullWidth\n                                        helperText={false}\n                                    />\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={2}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"city\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                                helperText={false}\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"stateAbbr\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                                helperText={false}\n                                            />\n                                        </Box>\n                                        <Box flex={2}>\n                                            <TextInput\n                                                source=\"zipcode\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                                helperText={false}\n                                            />\n                                        </Box>\n                                    </Box>\n\n                                    <Box mt=\"1em\" />\n\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.change_password'\n                                        )}\n                                    </Typography>\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <PasswordInput\n                                                source=\"password\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={1}\n                                            ml={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <PasswordInput\n                                                source=\"confirm_password\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                    </Box>\n                                </Box>\n                                <Box\n                                    flex={1}\n                                    ml={{ xs: 0, lg: '1em' }}\n                                    mt={{ xs: '1em', lg: 0 }}\n                                >\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.stats'\n                                        )}\n                                    </Typography>\n                                    <div>\n                                        <SegmentsInput fullWidth />\n                                    </div>\n                                    <div>\n                                        <NullableBooleanInput\n                                            source=\"has_newsletter\"\n                                            resource=\"customers\"\n                                        />\n                                    </div>\n                                </Box>\n                            </Box>\n                        </CardContent>\n                        <Toolbar\n                            record={formProps.record}\n                            basePath={formProps.basePath}\n                            undoable={true}\n                            invalid={formProps.invalid}\n                            handleSubmit={formProps.handleSubmit}\n                            saving={formProps.saving}\n                            resource=\"customers\"\n                        />\n                    </form>\n                </Card>\n            )}\n        />\n    );\n};\n\nconst requiredValidate = [required()];\n\nexport default VisitorEdit;\n","import VisitorIcon from '@material-ui/icons/People';\n\nimport VisitorList from './VisitorList';\nimport VisitorCreate from './VisitorCreate';\nimport VisitorEdit from './VisitorEdit';\n\nconst resource = {\n    list: VisitorList,\n    create: VisitorCreate,\n    edit: VisitorEdit,\n    icon: VisitorIcon,\n};\n\nexport default resource;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { useTranslate } from 'react-admin';\nimport { stringify } from 'query-string';\n\nimport visitors from '../visitors';\n\nconst useStyles = makeStyles({\n    icon: { paddingRight: '0.5em' },\n    link: {\n        display: 'inline-flex',\n        alignItems: 'center',\n    },\n});\n\nconst LinkToRelatedCustomers: FC<{ segment: string }> = ({ segment }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <Button\n            size=\"small\"\n            color=\"primary\"\n            component={Link}\n            to={{\n                pathname: '/customers',\n                search: stringify({\n                    filter: JSON.stringify({ groups: segment }),\n                }),\n            }}\n            className={classes.link}\n        >\n            <visitors.icon className={classes.icon} />\n            {translate('resources.segments.fields.customers')}\n        </Button>\n    );\n};\n\nexport default LinkToRelatedCustomers;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport Card from '@material-ui/core/Card';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate, Title } from 'react-admin';\n\nimport LinkToRelatedCustomers from './LinkToRelatedCustomers';\nimport segments from './data';\n\nconst useStyles = makeStyles({\n    root: {\n        marginTop: 16,\n    },\n});\n\nconst Segments: FC = () => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <Card className={classes.root}>\n            <Title\n                title={translate('resources.segments.name', { smart_count: 2 })}\n            />\n            <Table size=\"small\">\n                <TableHead>\n                    <TableRow>\n                        <TableCell>\n                            {translate('resources.segments.fields.name')}\n                        </TableCell>\n                        <TableCell />\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {segments.map(segment => (\n                        <TableRow key={segment.id}>\n                            <TableCell>{translate(segment.name)}</TableCell>\n                            <TableCell>\n                                <LinkToRelatedCustomers segment={segment.id} />\n                            </TableCell>\n                        </TableRow>\n                    ))}\n                </TableBody>\n            </Table>\n        </Card>\n    );\n};\n\nexport default Segments;\n","import * as React from 'react';\nimport { Route } from 'react-router-dom';\nimport Configuration from './configuration/Configuration';\nimport Segments from './segments/Segments';\n\nexport default [\n    <Route exact path=\"/configuration\" render={() => <Configuration />} />,\n    <Route exact path=\"/segments\" render={() => <Segments />} />,\n];\n","import { TranslationMessages } from 'react-admin';\nimport englishMessages from 'ra-language-english';\n\nconst customEnglishMessages: TranslationMessages = {\n    ...englishMessages,\n    pos: {\n        login:\"Log In\",\n        search: 'Search',\n        configuration: 'Configuration',\n        language: 'Language',\n        theme: {\n            name: 'Theme',\n            light: 'Light',\n            dark: 'Dark',\n        },\n        dashboard: {\n            monthly_revenue: 'Monthly Revenue',\n            month_history: '30 Day Revenue History',\n            new_orders: 'New Orders',\n            pending_reviews: 'Pending Reviews',\n            all_reviews: 'See all reviews',\n            new_customers: 'New Customers',\n            all_customers: 'See all customers',\n            pending_orders: 'Pending Orders',\n            order: {\n                items:\n                    'by %{customer_name}, one item |||| by %{customer_name}, %{nb_items} items',\n            },\n            welcome: {\n                title: 'Welcome to the Dmail system',\n                subtitle:\n                    \"This is the admin of an imaginary poster shop. Feel free to explore and modify the data - it's local to your computer, and will reset each time you reload.\",\n                ra_button: 'react-admin site',\n                demo_button: 'Source for this demo',\n            },\n        },\n        menu: {\n            sales: 'Sales',\n            catalog: 'Catalog',\n            customers: 'Customers',\n            compose:'Compose',\n            inbox:'Inbox',\n            junk:'Junk Mail',\n            sent:'Sent',    \n            subscription:'Subscription',\n            assets:'Assets',  \n            more:'More',\n            trash:'Trash',\n            settings:'Settings',\n        },\n    },\n    resources: {\n        customers: {\n            name: 'Customer |||| Customers',\n            fields: {\n                commands: 'Orders',\n                first_seen: 'First seen',\n                groups: 'Segments',\n                last_seen: 'Last seen',\n                last_seen_gte: 'Visited Since',\n                name: 'Name',\n                total_spent: 'Total spent',\n                password: 'Password',\n                confirm_password: 'Confirm password',\n                stateAbbr: 'State',\n            },\n            filters: {\n                last_visited: 'Last visited',\n                today: 'Today',\n                this_week: 'This week',\n                last_week: 'Last week',\n                this_month: 'This month',\n                last_month: 'Last month',\n                earlier: 'Earlier',\n                has_ordered: 'Has ordered',\n                has_newsletter: 'Has newsletter',\n                group: 'Segment',\n            },\n            fieldGroups: {\n                identity: 'Identity',\n                address: 'Address',\n                stats: 'Stats',\n                history: 'History',\n                password: 'Password',\n                change_password: 'Change Password',\n            },\n            page: {\n                delete: 'Delete Customer',\n            },\n            errors: {\n                password_mismatch:\n                    'The password confirmation is not the same as the password.',\n            },\n        },\n        commands: {\n            name: 'Order |||| Orders',\n            amount: '1 order |||| %{smart_count} orders',\n            title: 'Order %{reference}',\n            fields: {\n                basket: {\n                    delivery: 'Delivery',\n                    reference: 'Reference',\n                    quantity: 'Quantity',\n                    sum: 'Sum',\n                    tax_rate: 'Tax Rate',\n                    taxes: 'Tax',\n                    total: 'Total',\n                    unit_price: 'Unit Price',\n                },\n                address: 'Address',\n                customer_id: 'Customer',\n                date_gte: 'Passed Since',\n                date_lte: 'Passed Before',\n                nb_items: 'Nb Items',\n                total_gte: 'Min amount',\n                status: 'Status',\n                returned: 'Returned',\n            },\n            section: {\n                order: 'Order',\n                customer: 'Customer',\n                shipping_address: 'Shipping Address',\n                items: 'Items',\n                total: 'Totals',\n            },\n        },\n        invoices: {\n            name: 'Invoice |||| Invoices',\n            fields: {\n                date: 'Invoice date',\n                customer_id: 'Customer',\n                command_id: 'Order',\n                date_gte: 'Passed Since',\n                date_lte: 'Passed Before',\n                total_gte: 'Min amount',\n                address: 'Address',\n            },\n        },\n        products: {\n            name: 'Poster |||| Posters',\n            fields: {\n                category_id: 'Category',\n                height_gte: 'Min height',\n                height_lte: 'Max height',\n                height: 'Height',\n                image: 'Image',\n                price: 'Price',\n                reference: 'Reference',\n                sales: 'Sales',\n                stock_lte: 'Low Stock',\n                stock: 'Stock',\n                thumbnail: 'Thumbnail',\n                width_gte: 'Min width',\n                width_lte: 'Max width',\n                width: 'Width',\n            },\n            tabs: {\n                image: 'Image',\n                details: 'Details',\n                description: 'Description',\n                reviews: 'Reviews',\n            },\n            filters: {\n                categories: 'Categories',\n                stock: 'Stock',\n                no_stock: 'Out of stock',\n                low_stock: '1 - 9 items',\n                average_stock: '10 - 49 items',\n                enough_stock: '50 items & more',\n                sales: 'Sales',\n                best_sellers: 'Best sellers',\n                average_sellers: 'Average',\n                low_sellers: 'Low',\n                never_sold: 'Never sold',\n            },\n        },\n        categories: {\n            name: 'Category |||| Categories',\n            fields: {\n                products: 'Products',\n            },\n        },\n        reviews: {\n            name: 'Review |||| Reviews',\n            amount: '1 review |||| %{smart_count} reviews',\n            relative_to_poster: 'Review on poster',\n            detail: 'Review detail',\n            fields: {\n                customer_id: 'Customer',\n                command_id: 'Order',\n                product_id: 'Product',\n                date_gte: 'Posted since',\n                date_lte: 'Posted before',\n                date: 'Date',\n                comment: 'Comment',\n                rating: 'Rating',\n            },\n            action: {\n                accept: 'Accept',\n                reject: 'Reject',\n            },\n            notification: {\n                approved_success: 'Review approved',\n                approved_error: 'Error: Review not approved',\n                rejected_success: 'Review rejected',\n                rejected_error: 'Error: Review not rejected',\n            },\n        },\n        segments: {\n            name: 'Segment |||| Segments',\n            fields: {\n                customers: 'Customers',\n                name: 'Name',\n            },\n            data: {\n                compulsive: 'Compulsive',\n                collector: 'Collector',\n                ordered_once: 'Ordered once',\n                regular: 'Regular',\n                returns: 'Returns',\n                reviewer: 'Reviewer',\n            },\n        },\n    },\n};\n\nexport default customEnglishMessages;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport MuiGridList from '@material-ui/core/GridList';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport withWidth, { WithWidth } from '@material-ui/core/withWidth';\nimport {\n    linkToRecord,\n    NumberField,\n    useListContext,\n    DatagridProps,\n    Identifier,\n} from 'react-admin';\nimport { Link } from 'react-router-dom';\nimport { Breakpoint } from '@material-ui/core/styles/createBreakpoints';\n\nconst useStyles = makeStyles(theme => ({\n    gridList: {\n        margin: 0,\n    },\n    tileBar: {\n        background:\n            'linear-gradient(to top, rgba(0,0,0,0.8) 0%,rgba(0,0,0,0.4) 70%,rgba(0,0,0,0) 100%)',\n    },\n    placeholder: {\n        backgroundColor: theme.palette.grey[300],\n        height: '100%',\n    },\n    price: {\n        display: 'inline',\n        fontSize: '1em',\n    },\n    link: {\n        color: '#fff',\n    },\n}));\n\nconst getColsForWidth = (width) => {\n    let mywidth: Breakpoint = width as Breakpoint;\n    if (mywidth === 'xs') return 2;\n    if (mywidth === 'sm') return 3;\n    if (mywidth === 'md') return 3;\n    if (mywidth === 'lg') return 5;\n    return 6;\n};\n\nconst times = (nbChildren: number, fn: (key: number) => any) =>\n    Array.from({ length: nbChildren }, (_, key) => fn(key));\n\nconst LoadingGridList: FC<GridProps & { nbItems?: number }> = ({\n    width,\n    nbItems = 20,\n}) => {\n    const classes = useStyles();\n    return (\n        <MuiGridList\n            cellHeight={180}\n            cols={getColsForWidth(width)}\n            className={classes.gridList}\n        >\n            {' '}\n            {times(nbItems, key => (\n                <GridListTile key={key}>\n                    <div className={classes.placeholder} />\n                </GridListTile>\n            ))}\n        </MuiGridList>\n    );\n};\n\nconst LoadedGridList: FC<GridProps> = ({ width }) => {\n    const { ids, data, basePath } = useListContext();\n    const classes = useStyles();\n\n    if (!ids || !data) return null;\n\n    return (\n        <MuiGridList\n            cellHeight={180}\n            cols={getColsForWidth(width)}\n            className={classes.gridList}\n        >\n            {ids.map((id: Identifier) => (\n                <GridListTile\n                    // @ts-ignore\n                    component={Link}\n                    key={id}\n                    to={linkToRecord(basePath, data[id].id)}\n                >\n                    <img src={data[id].thumbnail} alt=\"\" />\n                    <GridListTileBar\n                        className={classes.tileBar}\n                        title={data[id].reference}\n                        subtitle={\n                            <span>\n                                {data[id].width}x{data[id].height},{' '}\n                                <NumberField\n                                    className={classes.price}\n                                    source=\"price\"\n                                    record={data[id]}\n                                    color=\"inherit\"\n                                    options={{\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    }}\n                                />\n                            </span>\n                        }\n                    />\n                </GridListTile>\n            ))}\n        </MuiGridList>\n    );\n};\n\ninterface GridProps extends DatagridProps, WithWidth {width}\n\nconst GridList: FC<WithWidth> = ({ width }) => {\n    const { loaded } = useListContext();\n    return loaded ? (\n        <LoadedGridList width={width} />\n    ) : (\n        <LoadingGridList width={width} />\n    );\n};\n\nexport default withWidth()(GridList);\n","import * as React from 'react';\nimport { FC } from 'react';\nimport inflection from 'inflection';\nimport { Card, CardContent } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport LocalOfferIcon from '@material-ui/icons/LocalOfferOutlined';\nimport BarChartIcon from '@material-ui/icons/BarChart';\nimport AttachMoneyIcon from '@material-ui/icons/AttachMoney';\nimport {\n    FilterList,\n    FilterListItem,\n    FilterLiveSearch,\n    useGetList,\n} from 'react-admin';\n\nimport { Category } from '../types';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        [theme.breakpoints.up('sm')]: {\n            width: '15em',\n            marginRight: '1em',\n            overflow: 'initial',\n        },\n        [theme.breakpoints.down('sm')]: {\n            display: 'none',\n        },\n    },\n}));\n\nconst Aside: FC = () => {\n    const { data, ids } = useGetList<Category>(\n        'categories',\n        { page: 1, perPage: 100 },\n        { field: 'name', order: 'ASC' },\n        {}\n    );\n    const classes = useStyles();\n    return (\n        <Card className={classes.root}>\n            <CardContent>\n                <FilterLiveSearch />\n\n                <FilterList\n                    label=\"resources.products.filters.sales\"\n                    icon={<AttachMoneyIcon />}\n                >\n                    <FilterListItem\n                        label=\"resources.products.filters.best_sellers\"\n                        value={{\n                            sales_lte: undefined,\n                            sales_gt: 25,\n                            sales: undefined,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.average_sellers\"\n                        value={{\n                            sales_lte: 25,\n                            sales_gt: 10,\n                            sales: undefined,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.low_sellers\"\n                        value={{\n                            sales_lte: 10,\n                            sales_gt: 0,\n                            sales: undefined,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.never_sold\"\n                        value={{\n                            sales_lte: undefined,\n                            sales_gt: undefined,\n                            sales: 0,\n                        }}\n                    />\n                </FilterList>\n\n                <FilterList\n                    label=\"resources.products.filters.stock\"\n                    icon={<BarChartIcon />}\n                >\n                    <FilterListItem\n                        label=\"resources.products.filters.no_stock\"\n                        value={{\n                            stock_lt: undefined,\n                            stock_gt: undefined,\n                            stock: 0,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.low_stock\"\n                        value={{\n                            stock_lt: 10,\n                            stock_gt: 0,\n                            stock: undefined,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.average_stock\"\n                        value={{\n                            stock_lt: 50,\n                            stock_gt: 9,\n                            stock: undefined,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.enough_stock\"\n                        value={{\n                            stock_lt: undefined,\n                            stock_gt: 49,\n                            stock: undefined,\n                        }}\n                    />\n                </FilterList>\n\n                <FilterList\n                    label=\"resources.products.filters.categories\"\n                    icon={<LocalOfferIcon />}\n                >\n                    {ids &&\n                        data &&\n                        ids.map((id: any) => (\n                            <FilterListItem\n                                label={inflection.humanize(data[id].name)}\n                                key={data[id].id}\n                                value={{ category_id: data[id].id }}\n                            />\n                        ))}\n                </FilterList>\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default Aside;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { Box, Chip, useMediaQuery, Theme } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    CreateButton,\n    ExportButton,\n    Filter,\n    FilterProps,\n    InputProps,\n    ListBase,\n    ListProps,\n    NumberInput,\n    Pagination,\n    ReferenceInput,\n    SearchInput,\n    SelectInput,\n    SortButton,\n    Title,\n    TopToolbar,\n    useListContext,\n    useTranslate,\n} from 'react-admin';\n\nimport GridList from './GridList';\nimport Aside from './Aside';\n\nconst useQuickFilterStyles = makeStyles(theme => ({\n    root: {\n        marginBottom: theme.spacing(3),\n    },\n}));\n\nconst QuickFilter: FC<InputProps> = ({ label }) => {\n    const translate = useTranslate();\n    const classes = useQuickFilterStyles();\n    return <Chip className={classes.root} label={translate(label)} />;\n};\n\nexport const ProductFilter: FC<Omit<FilterProps, 'children'>> = props => (\n    <Filter {...props}>\n        <SearchInput source=\"q\" alwaysOn />\n        <ReferenceInput\n            source=\"category_id\"\n            reference=\"categories\"\n            sort={{ field: 'id', order: 'ASC' }}\n        >\n            <SelectInput source=\"name\" />\n        </ReferenceInput>\n        <NumberInput source=\"width_gte\" />\n        <NumberInput source=\"width_lte\" />\n        <NumberInput source=\"height_gte\" />\n        <NumberInput source=\"height_lte\" />\n        <QuickFilter\n            label=\"resources.products.fields.stock_lte\"\n            source=\"stock_lte\"\n            defaultValue={10}\n        />\n    </Filter>\n);\n\nconst ListActions: FC<any> = ({ isSmall }) => (\n    <TopToolbar>\n        {isSmall && <ProductFilter context=\"button\" />}\n        <SortButton fields={['reference', 'sales', 'stock']} />\n        <CreateButton basePath=\"/products\" />\n        <ExportButton />\n    </TopToolbar>\n);\n\nconst ProductList: FC<ListProps> = props => {\n    const isSmall = useMediaQuery<Theme>(theme => theme.breakpoints.down('sm'));\n    return (\n        <ListBase\n            perPage={20}\n            sort={{ field: 'reference', order: 'ASC' }}\n            {...props}\n        >\n            <ProductListView isSmall={isSmall} />\n        </ListBase>\n    );\n};\n\nconst ProductListView: FC<{ isSmall: boolean }> = ({ isSmall }) => {\n    const { defaultTitle } = useListContext();\n    return (\n        <>\n            <Title defaultTitle={defaultTitle} />\n            <ListActions isSmall={isSmall} />\n            {isSmall && (\n                <Box m={1}>\n                    <ProductFilter context=\"form\" />\n                </Box>\n            )}\n            <Box display=\"flex\">\n                <Aside />\n                <Box width={isSmall ? 'auto' : 'calc(100% - 16em)'}>\n                    <GridList />\n                    <Pagination rowsPerPageOptions={[10, 20, 40]} />\n                </Box>\n            </Box>\n        </>\n    );\n};\nexport default ProductList;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FieldProps } from 'react-admin';\nimport { Product } from '../types';\n\nconst useStyles = makeStyles({\n    root: { display: 'inline-block', marginTop: '1em', zIndex: 2 },\n    content: { padding: 0, '&:last-child': { padding: 0 } },\n    img: {\n        width: 'initial',\n        minWidth: 'initial',\n        maxWidth: '42em',\n        maxHeight: '15em',\n    },\n});\n\nconst Poster: FC<FieldProps<Product>> = ({ record }) => {\n    const classes = useStyles();\n\n    if (!record) return null;\n\n    return (\n        <Card className={classes.root}>\n            <CardContent className={classes.content}>\n                <img src={record.image} alt=\"\" className={classes.img} />\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default Poster;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    Create,\n    FormTab,\n    NumberInput,\n    ReferenceInput,\n    SelectInput,\n    TabbedForm,\n    TextInput,\n    required,\n    CreateProps,\n} from 'react-admin';\nimport { InputAdornment } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport RichTextInput from 'ra-input-rich-text';\n\nexport const styles = {\n    price: { width: '7em' },\n    width: { width: '7em' },\n    height: { width: '7em' },\n    stock: { width: '7em' },\n    widthFormGroup: { display: 'inline-block' },\n    heightFormGroup: { display: 'inline-block', marginLeft: 32 },\n};\n\nconst useStyles = makeStyles(styles);\n\nconst ProductCreate: FC<CreateProps> = props => {\n    const classes = useStyles();\n    return (\n        <Create {...props}>\n            <TabbedForm>\n                <FormTab label=\"resources.products.tabs.image\">\n                    <TextInput\n                        autoFocus\n                        source=\"image\"\n                        fullWidth\n                        validate={required()}\n                    />\n                    <TextInput\n                        source=\"thumbnail\"\n                        fullWidth\n                        validate={required()}\n                    />\n                </FormTab>\n                <FormTab label=\"resources.products.tabs.details\" path=\"details\">\n                    <TextInput source=\"reference\" validate={required()} />\n                    <NumberInput\n                        source=\"price\"\n                        validate={required()}\n                        className={classes.price}\n                        InputProps={{\n                            startAdornment: (\n                                <InputAdornment position=\"start\">\n                                    €\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <NumberInput\n                        source=\"width\"\n                        validate={required()}\n                        className={classes.width}\n                        formClassName={classes.widthFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <NumberInput\n                        source=\"height\"\n                        validate={required()}\n                        className={classes.height}\n                        formClassName={classes.heightFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <ReferenceInput\n                        source=\"category_id\"\n                        reference=\"categories\"\n                        allowEmpty\n                    >\n                        <SelectInput source=\"name\" />\n                    </ReferenceInput>\n                    <NumberInput\n                        source=\"stock\"\n                        validate={required()}\n                        className={classes.stock}\n                    />\n                </FormTab>\n                <FormTab\n                    label=\"resources.products.tabs.description\"\n                    path=\"description\"\n                >\n                    <RichTextInput source=\"description\" label=\"\" />\n                </FormTab>\n            </TabbedForm>\n        </Create>\n    );\n};\n\nexport default ProductCreate;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    Datagrid,\n    DateField,\n    Edit,\n    EditButton,\n    EditProps,\n    FormTab,\n    NumberInput,\n    Pagination,\n    ReferenceInput,\n    ReferenceManyField,\n    required,\n    SelectInput,\n    TabbedForm,\n    TextField,\n    TextInput,\n} from 'react-admin';\nimport { InputAdornment } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport RichTextInput from 'ra-input-rich-text';\n\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport StarRatingField from '../reviews/StarRatingField';\nimport Poster from './Poster';\nimport { styles as createStyles } from './ProductCreate';\nimport { Product } from '../types';\n\ninterface ProductTitleProps {\n    record?: Product;\n}\n\nconst ProductTitle: FC<ProductTitleProps> = ({ record }) =>\n    record ? <span>Poster #{record.reference}</span> : null;\n\nconst useStyles = makeStyles({\n    ...createStyles,\n    comment: {\n        maxWidth: '20em',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n    },\n    tab: {\n        maxWidth: '40em',\n        display: 'block',\n    },\n});\n\nconst ProductEdit: FC<EditProps> = props => {\n    const classes = useStyles();\n    return (\n        <Edit {...props} title={<ProductTitle />}>\n            <TabbedForm>\n                <FormTab\n                    label=\"resources.products.tabs.image\"\n                    contentClassName={classes.tab}\n                >\n                    <Poster />\n                    <TextInput\n                        source=\"image\"\n                        fullWidth\n                        validate={requiredValidate}\n                    />\n                    <TextInput\n                        source=\"thumbnail\"\n                        fullWidth\n                        validate={requiredValidate}\n                    />\n                </FormTab>\n                <FormTab\n                    label=\"resources.products.tabs.details\"\n                    path=\"details\"\n                    contentClassName={classes.tab}\n                >\n                    <TextInput source=\"reference\" validate={requiredValidate} />\n                    <NumberInput\n                        source=\"price\"\n                        className={classes.price}\n                        InputProps={{\n                            startAdornment: (\n                                <InputAdornment position=\"start\">\n                                    €\n                                </InputAdornment>\n                            ),\n                        }}\n                        validate={requiredValidate}\n                    />\n                    <NumberInput\n                        source=\"width\"\n                        className={classes.width}\n                        formClassName={classes.widthFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                        validate={requiredValidate}\n                    />\n                    <NumberInput\n                        source=\"height\"\n                        className={classes.height}\n                        formClassName={classes.heightFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                        validate={requiredValidate}\n                    />\n                    <ReferenceInput\n                        source=\"category_id\"\n                        reference=\"categories\"\n                        validate={requiredValidate}\n                    >\n                        <SelectInput source=\"name\" />\n                    </ReferenceInput>\n                    <NumberInput\n                        source=\"stock\"\n                        className={classes.stock}\n                        validate={requiredValidate}\n                    />\n                    <NumberInput\n                        source=\"sales\"\n                        className={classes.stock}\n                        validate={requiredValidate}\n                    />\n                </FormTab>\n                <FormTab\n                    label=\"resources.products.tabs.description\"\n                    path=\"description\"\n                    contentClassName={classes.tab}\n                >\n                    <RichTextInput\n                        source=\"description\"\n                        label=\"\"\n                        validate={requiredValidate}\n                    />\n                </FormTab>\n                <FormTab label=\"resources.products.tabs.reviews\" path=\"reviews\">\n                    <ReferenceManyField\n                        reference=\"reviews\"\n                        target=\"product_id\"\n                        addLabel={false}\n                        pagination={<Pagination />}\n                        fullWidth\n                    >\n                        <Datagrid>\n                            <DateField source=\"date\" />\n                            <CustomerReferenceField />\n                            <StarRatingField />\n                            <TextField\n                                source=\"comment\"\n                                cellClassName={classes.comment}\n                            />\n                            <TextField source=\"status\" />\n                            <EditButton />\n                        </Datagrid>\n                    </ReferenceManyField>\n                </FormTab>\n            </TabbedForm>\n        </Edit>\n    );\n};\n\nconst requiredValidate = [required()];\n\nexport default ProductEdit;\n","import ProductIcon from '@material-ui/icons/Collections';\nimport ProductList from './ProductList';\nimport ProductEdit from './ProductEdit';\nimport ProductCreate from './ProductCreate';\n\nexport default {\n    list: ProductList,\n    create: ProductCreate,\n    edit: ProductEdit,\n    icon: ProductIcon,\n};\n","import * as React from 'react';\nimport { FC } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    useShowController,\n    ReferenceField,\n    TextField,\n    FieldProps,\n} from 'react-admin';\n\nimport Basket from '../orders/Basket';\nimport { Customer, Invoice } from '../types';\n\nconst CustomerField: FC<FieldProps<Customer>> = ({ record }) =>\n    record ? (\n        <Typography>\n            {record.first_name} {record.last_name}\n            <br />\n            {record.address}\n            <br />\n            {record.city}, {record.zipcode}\n        </Typography>\n    ) : null;\n\nconst InvoiceShow = (props: any) => {\n    const { record } = useShowController<Invoice>(props);\n    const classes = useStyles();\n\n    if (!record) return null;\n    return (\n        <Card className={classes.root}>\n            <CardContent>\n                <Grid container spacing={2}>\n                    <Grid item xs={6}>\n                        <Typography variant=\"h6\" gutterBottom>\n                            Posters Galore\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={6}>\n                        <Typography variant=\"h6\" gutterBottom align=\"right\">\n                            Invoice {record.id}\n                        </Typography>\n                    </Grid>\n                </Grid>\n                <Grid container spacing={2}>\n                    <Grid item xs={12} container alignContent=\"flex-end\">\n                        <ReferenceField\n                            resource=\"invoices\"\n                            reference=\"customers\"\n                            source=\"customer_id\"\n                            basePath=\"/invoices\"\n                            record={record}\n                            link={false}\n                        >\n                            <CustomerField />\n                        </ReferenceField>\n                    </Grid>\n                </Grid>\n                <div className={classes.spacer}>&nbsp;</div>\n                <Grid container spacing={2}>\n                    <Grid item xs={6}>\n                        <Typography variant=\"h6\" gutterBottom align=\"center\">\n                            Date{' '}\n                        </Typography>\n                        <Typography gutterBottom align=\"center\">\n                            {new Date(record.date).toLocaleDateString()}\n                        </Typography>\n                    </Grid>\n\n                    <Grid item xs={5}>\n                        <Typography variant=\"h6\" gutterBottom align=\"center\">\n                            Order\n                        </Typography>\n                        <ReferenceField\n                            resource=\"invoices\"\n                            reference=\"commands\"\n                            source=\"command_id\"\n                            basePath=\"/invoices\"\n                            record={record}\n                            link={false}\n                        >\n                            <TextField\n                                source=\"reference\"\n                                align=\"center\"\n                                component=\"p\"\n                                gutterBottom\n                            />\n                        </ReferenceField>\n                    </Grid>\n                </Grid>\n                <div className={classes.invoices}>\n                    <ReferenceField\n                        resource=\"invoices\"\n                        reference=\"commands\"\n                        source=\"command_id\"\n                        basePath=\"/invoices\"\n                        record={record}\n                        link={false}\n                    >\n                        <Basket />\n                    </ReferenceField>\n                </div>\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default InvoiceShow;\n\nconst useStyles = makeStyles({\n    root: { width: 600, margin: 'auto' },\n    spacer: { height: 20 },\n    invoices: { margin: '10px 0' },\n});\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    List,\n    ListProps,\n    Datagrid,\n    TextField,\n    DateField,\n    ReferenceField,\n    NumberField,\n    Filter,\n    FilterProps,\n    DateInput,\n} from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport FullNameField from '../visitors/FullNameField';\nimport AddressField from '../visitors/AddressField';\nimport InvoiceShow from './InvoiceShow';\n\nconst ListFilters = (props: Omit<FilterProps, 'children'>) => (\n    <Filter {...props}>\n        <DateInput source=\"date_gte\" alwaysOn />\n        <DateInput source=\"date_lte\" alwaysOn />\n    </Filter>\n);\n\nconst useStyles = makeStyles(theme => ({\n    hiddenOnSmallScreens: {\n        display: 'table-cell',\n        [theme.breakpoints.down('md')]: {\n            display: 'none',\n        },\n    },\n}));\n\nconst InvoiceList: FC<ListProps> = props => {\n    const classes = useStyles();\n    return (\n        <List\n            {...props}\n            filters={<ListFilters />}\n            perPage={25}\n            sort={{ field: 'date', order: 'desc' }}\n        >\n            <Datagrid rowClick=\"expand\" expand={<InvoiceShow />}>\n                <TextField source=\"id\" />\n                <DateField source=\"date\" />\n                <ReferenceField source=\"customer_id\" reference=\"customers\">\n                    <FullNameField />\n                </ReferenceField>\n                <ReferenceField\n                    source=\"customer_id\"\n                    reference=\"customers\"\n                    link={false}\n                    label=\"resources.invoices.fields.address\"\n                    cellClassName={classes.hiddenOnSmallScreens}\n                    headerClassName={classes.hiddenOnSmallScreens}\n                >\n                    <AddressField />\n                </ReferenceField>\n                <ReferenceField source=\"command_id\" reference=\"commands\">\n                    <TextField source=\"reference\" />\n                </ReferenceField>\n                <NumberField source=\"total_ex_taxes\" />\n                <NumberField source=\"delivery_fees\" />\n                <NumberField source=\"taxes\" />\n                <NumberField source=\"total\" />\n            </Datagrid>\n        </List>\n    );\n};\n\nexport default InvoiceList;\n","import InvoiceIcon from '@material-ui/icons/LibraryBooks';\n\nimport InvoiceList from './InvoiceList';\n\nexport default {\n    list: InvoiceList,\n    icon: InvoiceIcon,\n};\n","import * as React from 'react';\nimport { FC } from 'react';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { useTranslate, FieldProps } from 'react-admin';\nimport { stringify } from 'query-string';\n\nimport products from '../products';\nimport { Category } from '../types';\n\nconst useStyles = makeStyles({\n    icon: { paddingRight: '0.5em' },\n    link: {\n        display: 'inline-flex',\n        alignItems: 'center',\n    },\n});\n\nconst LinkToRelatedProducts: FC<FieldProps<Category>> = ({ record }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return record ? (\n        <Button\n            size=\"small\"\n            color=\"primary\"\n            component={Link}\n            to={{\n                pathname: '/products',\n                search: stringify({\n                    filter: JSON.stringify({ category_id: record.id }),\n                }),\n            }}\n            className={classes.link}\n        >\n            <products.icon className={classes.icon} />\n            {translate('resources.categories.fields.products')}\n        </Button>\n    ) : null;\n};\n\nexport default LinkToRelatedProducts;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { EditButton, List, ListProps, useListContext } from 'react-admin';\nimport inflection from 'inflection';\nimport {\n    Grid,\n    Card,\n    CardMedia,\n    CardContent,\n    CardActions,\n    Typography,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport LinkToRelatedProducts from './LinkToRelatedProducts';\nimport { Category } from '../types';\n\nconst useStyles = makeStyles({\n    root: {\n        marginTop: '1em',\n    },\n    media: {\n        height: 140,\n    },\n    title: {\n        paddingBottom: '0.5em',\n    },\n    actionSpacer: {\n        display: 'flex',\n        justifyContent: 'space-around',\n    },\n});\n\nconst CategoryGrid: FC = props => {\n    const classes = useStyles(props);\n    const { data, ids } = useListContext<Category>();\n    return ids ? (\n        <Grid container spacing={2} className={classes.root}>\n            {ids.map(id => (\n                <Grid key={id} xs={12} sm={6} md={4} lg={3} xl={2} item>\n                    <Card>\n                        <CardMedia\n                            image={`https://marmelab.com/posters/${data[id].name}-1.jpeg`}\n                            className={classes.media}\n                        />\n                        <CardContent className={classes.title}>\n                            <Typography\n                                variant=\"h5\"\n                                component=\"h2\"\n                                align=\"center\"\n                            >\n                                {inflection.humanize(data[id].name)}\n                            </Typography>\n                        </CardContent>\n                        <CardActions\n                            classes={{ spacing: classes.actionSpacer }}\n                        >\n                            <LinkToRelatedProducts record={data[id]} />\n                            <EditButton\n                                basePath=\"/categories\"\n                                record={data[id]}\n                            />\n                        </CardActions>\n                    </Card>\n                </Grid>\n            ))}\n        </Grid>\n    ) : null;\n};\n\nconst CategoryList: FC<ListProps> = props => (\n    <List\n        {...props}\n        sort={{ field: 'name', order: 'ASC' }}\n        perPage={20}\n        pagination={false}\n        component=\"div\"\n        actions={false}\n    >\n        <CategoryGrid />\n    </List>\n);\n\nexport default CategoryList;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FieldProps } from 'react-admin';\nimport { Product } from '../types';\n\nconst useStyles = makeStyles({\n    root: { width: 25, maxWidth: 25, maxHeight: 25 },\n});\n\nconst ThumbnailField: FC<FieldProps<Product>> = ({ record }) => {\n    const classes = useStyles();\n    return record ? (\n        <img src={record.thumbnail} className={classes.root} alt=\"\" />\n    ) : null;\n};\n\nexport default ThumbnailField;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { Link } from 'react-router-dom';\nimport { FieldProps } from 'react-admin';\nimport { Product } from '../types';\n\nconst ProductRefField: FC<FieldProps<Product>> = ({ record }) =>\n    record ? (\n        <Link to={`products/${record.id}`}>{record.reference}</Link>\n    ) : null;\n\nProductRefField.defaultProps = {\n    source: 'id',\n    label: 'Reference',\n};\n\nexport default ProductRefField;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    Datagrid,\n    Edit,\n    EditProps,\n    EditButton,\n    FieldProps,\n    NumberField,\n    ReferenceManyField,\n    SimpleForm,\n    TextInput,\n    useTranslate,\n} from 'react-admin';\n\nimport ThumbnailField from '../products/ThumbnailField';\nimport ProductRefField from '../products/ProductRefField';\nimport { Category } from '../types';\n\nconst CategoryTitle: FC<FieldProps<Category>> = ({ record }) => {\n    const translate = useTranslate();\n    return record ? (\n        <span>\n            {translate('resources.categories.name', { smart_count: 1 })} &quot;\n            {record.name}&quot;\n        </span>\n    ) : null;\n};\n\nconst CategoryEdit: FC<EditProps> = props => (\n    <Edit title={<CategoryTitle />} {...props}>\n        <SimpleForm>\n            <TextInput source=\"name\" />\n            <ReferenceManyField\n                reference=\"products\"\n                target=\"category_id\"\n                label=\"resources.categories.fields.products\"\n                perPage={20}\n                fullWidth\n            >\n                <Datagrid>\n                    <ThumbnailField />\n                    <ProductRefField source=\"reference\" />\n                    <NumberField\n                        source=\"price\"\n                        options={{ style: 'currency', currency: 'USD' }}\n                    />\n                    <NumberField\n                        source=\"width\"\n                        options={{ minimumFractionDigits: 2 }}\n                    />\n                    <NumberField\n                        source=\"height\"\n                        options={{ minimumFractionDigits: 2 }}\n                    />\n                    <NumberField source=\"stock\" />\n                    <NumberField source=\"sales\" />\n                    <EditButton />\n                </Datagrid>\n            </ReferenceManyField>\n        </SimpleForm>\n    </Edit>\n);\n\nexport default CategoryEdit;\n","import CategoryIcon from '@material-ui/icons/Bookmark';\n\nimport CategoryList from './CategoryList';\nimport CategoryEdit from './CategoryEdit';\n\nexport default {\n    list: CategoryList,\n    edit: CategoryEdit,\n    icon: CategoryIcon,\n};\n","// in src/comments.js\nimport * as React from 'react';\nimport { FC } from 'react';\nimport { Card, CardHeader, CardContent } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    DateField,\n    EditButton,\n    NumberField,\n    TextField,\n    BooleanField,\n    useTranslate,\n    RecordMap,\n    Identifier,\n    Record,\n} from 'react-admin';\n\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\n\nconst useListStyles = makeStyles(theme => ({\n    card: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        margin: '0.5rem 0',\n    },\n    cardTitleContent: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n    },\n    cardContent: theme.typography.body1,\n    cardContentRow: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        margin: '0.5rem 0',\n    },\n}));\n\ninterface MobileGridProps {\n    ids?: Identifier[];\n    data?: RecordMap<Record>;\n    basePath?: string;\n}\n\nconst MobileGrid: FC<MobileGridProps> = ({ ids, data, basePath }) => {\n    const translate = useTranslate();\n    const classes = useListStyles();\n\n    if (!ids || !data || !basePath) {\n        return null;\n    }\n\n    return (\n        <div style={{ margin: '1em' }}>\n            {ids.map(id => (\n                <Card key={id} className={classes.card}>\n                    <CardHeader\n                        title={\n                            <div className={classes.cardTitleContent}>\n                                <span>\n                                    {translate('resources.commands.name', 1)}\n                                    :&nbsp;\n                                    <TextField\n                                        record={data[id]}\n                                        source=\"reference\"\n                                    />\n                                </span>\n                                <EditButton\n                                    resource=\"commands\"\n                                    basePath={basePath}\n                                    record={data[id]}\n                                />\n                            </div>\n                        }\n                    />\n                    <CardContent className={classes.cardContent}>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.customers.name', 1)}:&nbsp;\n                            <CustomerReferenceField\n                                record={data[id]}\n                                basePath={basePath}\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.reviews.fields.date')}:&nbsp;\n                            <DateField\n                                record={data[id]}\n                                source=\"date\"\n                                showTime\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate(\n                                'resources.commands.fields.basket.total'\n                            )}\n                            :&nbsp;\n                            <NumberField\n                                record={data[id]}\n                                source=\"total\"\n                                options={{ style: 'currency', currency: 'USD' }}\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.commands.fields.status')}\n                            :&nbsp;\n                            <TextField source=\"status\" record={data[id]} />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.commands.fields.returned')}\n                            :&nbsp;\n                            <BooleanField record={data[id]} source=\"returned\" />\n                        </span>\n                    </CardContent>\n                </Card>\n            ))}\n        </div>\n    );\n};\n\nMobileGrid.defaultProps = {\n    data: {},\n    ids: [],\n};\n\nexport default MobileGrid;\n","import * as React from 'react';\nimport { FC, Fragment, useCallback, useEffect, useState } from 'react';\nimport {\n    AutocompleteInput,\n    BooleanField,\n    Datagrid,\n    DatagridProps,\n    DateField,\n    DateInput,\n    Filter,\n    FilterProps,\n    Identifier,\n    List,\n    ListContextProvider,\n    ListProps,\n    NullableBooleanInput,\n    NumberField,\n    ReferenceInput,\n    ReferenceField,\n    SearchInput,\n    TextField,\n    TextInput,\n    useGetList,\n    useListContext,\n} from 'react-admin';\nimport { useMediaQuery, Divider, Tabs, Tab, Theme } from '@material-ui/core';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport NbItemsField from './NbItemsField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport AddressField from '../visitors/AddressField';\nimport MobileGrid from './MobileGrid';\nimport { Customer } from '../types';\n\nconst SentFilter: FC<Omit<FilterProps, 'children'>> = props => (\n    <Filter {...props}>\n        <SearchInput source=\"q\" alwaysOn />\n        \n    </Filter>\n);\n\nconst useDatagridStyles = makeStyles({\n    total: { fontWeight: 'bold' },\n});\n\nconst tabs = [\n    { id: 'sent', name: 'Sent' },\n];\n\ninterface TabbedDatagridProps extends DatagridProps {}\n\nconst useGetTotals = (filterValues: any) => {\n    const { total: totalSent } = useGetList(\n        'sents',\n        { perPage: 1, page: 1 },\n        { field: 'id', order: 'ASC' },\n        { ...filterValues, status: 'sent' }\n    );\n    \n    return {\n        sent: totalSent\n    };\n};\n\nconst TabbedDatagrid: FC<TabbedDatagridProps> = props => {\n    const listContext = useListContext();\n    const { ids, filterValues, setFilters, displayedFilters } = listContext;\n    const classes = useDatagridStyles();\n    const isXSmall = useMediaQuery<Theme>(theme =>\n        theme.breakpoints.down('xs')\n    );\n    const [sent, setSent] = useState<Identifier[]>([] as Identifier[]);\n    \n    const totals = useGetTotals(filterValues) as any;\n\n    useEffect(() => {\n        if (ids && ids !== filterValues.status) {\n            switch (filterValues.status) {\n                case 'sent':\n                    setSent(ids);\n                    break;\n            }\n        }\n    }, [ids, filterValues.status]);\n\n    const handleChange = useCallback(\n        (event: React.ChangeEvent<{}>, value: any) => {\n            setFilters &&\n                setFilters(\n                    { ...filterValues, status: value },\n                    displayedFilters\n                );\n        },\n        [displayedFilters, filterValues, setFilters]\n    );\n\n    const selectedIds = sent;\n            \n    return (\n        <Fragment>\n            \n            <Divider />\n            {isXSmall ? (\n                <ListContextProvider\n                    value={{ ...listContext, ids: selectedIds }}\n                >\n                    <MobileGrid {...props} ids={selectedIds} />\n                </ListContextProvider>\n            ) : (\n                <div>\n                    {filterValues.status === 'sent' && (\n                        <ListContextProvider\n                            value={{ ...listContext, ids: sent }}\n                        >\n                            <Datagrid {...props} optimized rowClick=\"show\">\n                                <TextField source=\"sender\" label='Recipient' headerClassName={classes.total}/>   \n                                <TextField source=\"subject\" headerClassName={classes.total}/>\n                                <DateField source=\"date\" headerClassName={classes.total} />\n                            </Datagrid>\n                        </ListContextProvider>\n                    )}\n                </div>\n            )}\n        </Fragment>\n    );\n};\n\nconst SentList: FC<ListProps> = props => (\n    <List\n        {...props}\n        filterDefaultValues={{ status: 'sent' }}\n        sort={{ field: 'date', order: 'DESC' }}\n        perPage={25}\n        exporter={false}\n        filters={<SentFilter />}\n    >\n        <TabbedDatagrid />\n    </List>\n);\n\nexport default SentList;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    BooleanInput,\n    DateField,\n    Show,\n    ShowProps,\n    FormWithRedirect,\n    Labeled,\n    ReferenceField,\n    SelectInput,\n    TextField,\n    Toolbar,\n    EditContextProvider,\n    useTranslate,\n    TextInput,\n    SimpleForm,\n    EditProps,\n    SimpleShowLayout,\n    RichTextField,\n    FieldProps,\n    useShowController,\n    SaveButton,\n    DeleteButton,\n    Button,\n    useRedirect,\n} from 'react-admin';\nimport { Link as RouterLink } from 'react-router-dom';\nimport {\n    Card,\n    CardContent,\n    Box,\n    Grid,\n    Typography,\n    Link,\n    Avatar,\n    IconButton,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { Sent, Customer } from '../types';\nimport Basket from './Basket';\nimport Totals from './Totals';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport RichTextInput from 'ra-input-rich-text';\nimport ReplyIcon from '@material-ui/icons/Reply';\n\ninterface SentTitleProps {\n    record?: Sent;\n}\n\nconst SentTitle: FC<SentTitleProps> = ({ record }) => {\n    const translate = useTranslate();\n    return record ? (\n        <span>\n            {translate('resources.commands.title', {\n                reference: record.reference,\n            })}\n        </span>\n    ) : null;\n};\n\n\nconst CustomerField: FC<FieldProps<Customer>> = ({ record }) =>\n    record ? (\n        <Typography>\n            <Avatar src={`${record.avatar}?size=32x32`} />{record.first_name} {record.last_name}({record.email})\n        </Typography>\n    ) : null;\n\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n    },\n    title: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        margin: '1em',\n    },\n    form: {\n        [theme.breakpoints.up('xs')]: {\n            width: 400,\n        },\n        [theme.breakpoints.down('xs')]: {\n            width: '100vw',\n            marginTop: -30,\n        },\n    },\n    content:{\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    contentdiv:{\n        width: '200px',\n    },\n    inlineField: {\n        display: 'inline-block',\n        width: '50%',\n    },\n    spacer: { height: 20 },\n    invoices: { margin: '10px 0' },\n    toolbar: {\n        display: 'flex',\n        justifyContent: 'space-between',\n    },\n}));\n\n\nconst CustomToolbar = props => (\n    <Toolbar {...props} classes={useStyles()}>\n        <SaveButton />\n        <DeleteButton undoable={false} />\n    </Toolbar>\n);\n\n\nconst Spacer = () => <Box m={1}>&nbsp;</Box>;\n\n\nconst SentShow: FC<ShowProps> = props => {\n    const classes = useStyles();\n    const { record } = useShowController<Sent>(props);\n    const redirect = useRedirect();\n    const onReply  = () => {\n        redirect('edit','./');\n    };\n\n    if (!record) return null;\n    return (\n        <Card className={classes.root}>\n            <CardContent>\n                <Grid container spacing={2}>\n                    <Grid item xs={10}>\n                        <Typography variant=\"h6\" gutterBottom>\n                           {record.subject}\n                        </Typography>\n                    </Grid>\n                </Grid>\n                <div className={classes.spacer}>&nbsp;</div>\n                <Grid container spacing={2}>\n                    <Grid item xs={6}>\n                        <ReferenceField\n                            resource=\"mails\"\n                            reference=\"customers\"\n                            source=\"customer_id\"\n                            basePath=\"/mails\"\n                            record={record}\n                            link={false}\n                        >\n                            <CustomerField />\n                         </ReferenceField>\n                    </Grid>\n                    <Grid item xs={3}>\n                        <Typography   gutterBottom align=\"right\">\n                            {record.date}\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={2}>\n                        <Typography   gutterBottom align=\"right\">\n                            <IconButton onClick={onReply}>\n                                <ReplyIcon />\n                            </IconButton>\n                        </Typography>\n                    </Grid>\n                </Grid>\n                <div className={classes.spacer}>&nbsp;</div>\n                <div className={classes.spacer}>&nbsp;</div>\n\n                <Grid container spacing={2} className={classes.content}>\n                     <div dangerouslySetInnerHTML={{ __html: record.content }}/>\n                </Grid>\n                <div className={classes.spacer}>&nbsp;</div>\n                <Typography  gutterBottom>\n                            Attachments\n                </Typography>\n                <Box>\n                    \n                </Box>\n                <Spacer />\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default SentShow;\n","import SentIcon from '@material-ui/icons/Error';\n\nimport SentList from './sentList';\nimport SentShow from './sentShow';\n\n\n\nexport default {\n    list: SentList,\n    icon: SentIcon,\n    show: SentShow,\n};","// in src/comments.js\nimport * as React from 'react';\nimport { FC } from 'react';\nimport { Card, CardHeader, CardContent } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    DateField,\n    EditButton,\n    NumberField,\n    TextField,\n    BooleanField,\n    useTranslate,\n    RecordMap,\n    Identifier,\n    Record,\n} from 'react-admin';\n\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\n\nconst useListStyles = makeStyles(theme => ({\n    card: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        margin: '0.5rem 0',\n    },\n    cardTitleContent: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n    },\n    cardContent: theme.typography.body1,\n    cardContentRow: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        margin: '0.5rem 0',\n    },\n}));\n\ninterface MobileGridProps {\n    ids?: Identifier[];\n    data?: RecordMap<Record>;\n    basePath?: string;\n}\n\nconst MobileGrid: FC<MobileGridProps> = ({ ids, data, basePath }) => {\n    const translate = useTranslate();\n    const classes = useListStyles();\n\n    if (!ids || !data || !basePath) {\n        return null;\n    }\n\n    return (\n        <div style={{ margin: '1em' }}>\n            {ids.map(id => (\n                <Card key={id} className={classes.card}>\n                    <CardHeader\n                        title={\n                            <div className={classes.cardTitleContent}>\n                                <span>\n                                    {translate('resources.commands.name', 1)}\n                                    :&nbsp;\n                                    <TextField\n                                        record={data[id]}\n                                        source=\"reference\"\n                                    />\n                                </span>\n                                <EditButton\n                                    resource=\"commands\"\n                                    basePath={basePath}\n                                    record={data[id]}\n                                />\n                            </div>\n                        }\n                    />\n                    <CardContent className={classes.cardContent}>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.customers.name', 1)}:&nbsp;\n                            <CustomerReferenceField\n                                record={data[id]}\n                                basePath={basePath}\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.reviews.fields.date')}:&nbsp;\n                            <DateField\n                                record={data[id]}\n                                source=\"date\"\n                                showTime\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate(\n                                'resources.commands.fields.basket.total'\n                            )}\n                            :&nbsp;\n                            <NumberField\n                                record={data[id]}\n                                source=\"total\"\n                                options={{ style: 'currency', currency: 'USD' }}\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.commands.fields.status')}\n                            :&nbsp;\n                            <TextField source=\"status\" record={data[id]} />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.commands.fields.returned')}\n                            :&nbsp;\n                            <BooleanField record={data[id]} source=\"returned\" />\n                        </span>\n                    </CardContent>\n                </Card>\n            ))}\n        </div>\n    );\n};\n\nMobileGrid.defaultProps = {\n    data: {},\n    ids: [],\n};\n\nexport default MobileGrid;\n","import * as React from 'react';\nimport { FC, Fragment, useCallback, useEffect, useState } from 'react';\nimport {\n    AutocompleteInput,\n    BooleanField,\n    Datagrid,\n    DatagridProps,\n    DateField,\n    DateInput,\n    Filter,\n    FilterProps,\n    Identifier,\n    List,\n    ListContextProvider,\n    ListProps,\n    NullableBooleanInput,\n    NumberField,\n    ReferenceInput,\n    ReferenceField,\n    SearchInput,\n    TextField,\n    TextInput,\n    useGetList,\n    useListContext,\n} from 'react-admin';\nimport { useMediaQuery, Divider, Tabs, Tab, Theme } from '@material-ui/core';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport NbItemsField from './NbItemsField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport AddressField from '../visitors/AddressField';\nimport MobileGrid from './MobileGrid';\nimport { Customer } from '../types';\n\nconst TrashFilter: FC<Omit<FilterProps, 'children'>> = props => (\n    <Filter {...props}>\n        <SearchInput source=\"q\" alwaysOn />\n        \n    </Filter>\n);\n\nconst useDatagridStyles = makeStyles({\n    total: { fontWeight: 'bold' },\n});\n\nconst tabs = [\n    { id: 'trash', name: 'Trash' },\n];\n\ninterface TabbedDatagridProps extends DatagridProps {}\n\nconst useGetTotals = (filterValues: any) => {\n    const { total: totalTrash } = useGetList(\n        'trashs',\n        { perPage: 1, page: 1 },\n        { field: 'id', order: 'ASC' },\n        { ...filterValues, status: 'trash' }\n    );\n    \n    return {\n        trash: totalTrash\n    };\n};\n\nconst TabbedDatagrid: FC<TabbedDatagridProps> = props => {\n    const listContext = useListContext();\n    const { ids, filterValues, setFilters, displayedFilters } = listContext;\n    const classes = useDatagridStyles();\n    const isXSmall = useMediaQuery<Theme>(theme =>\n        theme.breakpoints.down('xs')\n    );\n    const [trash, setTrash] = useState<Identifier[]>([] as Identifier[]);\n    \n    const totals = useGetTotals(filterValues) as any;\n\n    useEffect(() => {\n        if (ids && ids !== filterValues.status) {\n            switch (filterValues.status) {\n                case 'trash':\n                    setTrash(ids);\n                    break;\n            }\n        }\n    }, [ids, filterValues.status]);\n\n    const handleChange = useCallback(\n        (event: React.ChangeEvent<{}>, value: any) => {\n            setFilters &&\n                setFilters(\n                    { ...filterValues, status: value },\n                    displayedFilters\n                );\n        },\n        [displayedFilters, filterValues, setFilters]\n    );\n\n    const selectedIds = trash;\n            \n    return (\n        <Fragment>\n            \n            <Divider />\n            {isXSmall ? (\n                <ListContextProvider\n                    value={{ ...listContext, ids: selectedIds }}\n                >\n                    <MobileGrid {...props} ids={selectedIds} />\n                </ListContextProvider>\n            ) : (\n                <div>\n                    {filterValues.status === 'trash' && (\n                        <ListContextProvider\n                            value={{ ...listContext, ids: trash }}\n                        >\n                            <Datagrid {...props} optimized rowClick=\"show\">\n                                <TextField source=\"sender\" headerClassName={classes.total}/>   \n                                <TextField source=\"subject\" headerClassName={classes.total}/>\n                                <DateField source=\"date\" showTime headerClassName={classes.total}/>\n                            </Datagrid>\n                        </ListContextProvider>\n                    )}\n                </div>\n            )}\n        </Fragment>\n    );\n};\n\nconst TrashList: FC<ListProps> = props => (\n    <List\n        {...props}\n        filterDefaultValues={{ status: 'trash' }}\n        sort={{ field: 'date', order: 'DESC' }}\n        perPage={25}\n        exporter={false}\n        filters={<TrashFilter />}\n    >\n        <TabbedDatagrid />\n    </List>\n);\n\nexport default TrashList;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    BooleanInput,\n    DateField,\n    Show,\n    ShowProps,\n    FormWithRedirect,\n    Labeled,\n    ReferenceField,\n    SelectInput,\n    TextField,\n    Toolbar,\n    EditContextProvider,\n    useTranslate,\n    TextInput,\n    SimpleForm,\n    EditProps,\n    SimpleShowLayout,\n    RichTextField,\n    FieldProps,\n    useShowController,\n    SaveButton,\n    DeleteButton,\n    Button,\n    useRedirect,\n} from 'react-admin';\nimport { Link as RouterLink } from 'react-router-dom';\nimport {\n    Card,\n    CardContent,\n    Box,\n    Grid,\n    Typography,\n    Link,\n    Avatar,\n    IconButton,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { Trash, Customer } from '../types';\nimport Basket from './Basket';\nimport Totals from './Totals';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport RichTextInput from 'ra-input-rich-text';\nimport ReplyIcon from '@material-ui/icons/Reply';\n\ninterface TrashTitleProps {\n    record?: Trash;\n}\n\nconst TrashTitle: FC<TrashTitleProps> = ({ record }) => {\n    const translate = useTranslate();\n    return record ? (\n        <span>\n            {translate('resources.commands.title', {\n                reference: record.reference,\n            })}\n        </span>\n    ) : null;\n};\n\n\nconst CustomerField: FC<FieldProps<Customer>> = ({ record }) =>\n    record ? (\n        <Typography>\n            <Avatar src={`${record.avatar}?size=32x32`} />{record.first_name} {record.last_name}({record.email})\n        </Typography>\n    ) : null;\n\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n    },\n    title: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        margin: '1em',\n    },\n    form: {\n        [theme.breakpoints.up('xs')]: {\n            width: 400,\n        },\n        [theme.breakpoints.down('xs')]: {\n            width: '100vw',\n            marginTop: -30,\n        },\n    },\n    content:{\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    contentdiv:{\n        width: '200px',\n    },\n    inlineField: {\n        display: 'inline-block',\n        width: '50%',\n    },\n    spacer: { height: 20 },\n    invoices: { margin: '10px 0' },\n    toolbar: {\n        display: 'flex',\n        justifyContent: 'space-between',\n    },\n}));\n\n\nconst CustomToolbar = props => (\n    <Toolbar {...props} classes={useStyles()}>\n        <SaveButton />\n        <DeleteButton undoable={false} />\n    </Toolbar>\n);\n\n\nconst Spacer = () => <Box m={1}>&nbsp;</Box>;\n\n\nconst TrashShow: FC<ShowProps> = props => {\n    const classes = useStyles();\n    const { record } = useShowController<Trash>(props);\n    const redirect = useRedirect();\n    const onReply  = () => {\n        redirect('edit','./');\n    };\n\n    if (!record) return null;\n    return (\n        <Card className={classes.root}>\n            <CardContent>\n                <Grid container spacing={2}>\n                    <Grid item xs={10}>\n                        <Typography variant=\"h6\" gutterBottom>\n                           {record.subject}\n                        </Typography>\n                    </Grid>\n                </Grid>\n                <div className={classes.spacer}>&nbsp;</div>\n                <Grid container spacing={2}>\n                    <Grid item xs={6}>\n                        <ReferenceField\n                            resource=\"mails\"\n                            reference=\"customers\"\n                            source=\"customer_id\"\n                            basePath=\"/mails\"\n                            record={record}\n                            link={false}\n                        >\n                            <CustomerField />\n                         </ReferenceField>\n                    </Grid>\n                    <Grid item xs={3}>\n                        <Typography   gutterBottom align=\"right\">\n                            {record.date}\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={2}>\n                        <Typography   gutterBottom align=\"right\">\n                            <IconButton onClick={onReply}>\n                                <ReplyIcon />\n                            </IconButton>\n                        </Typography>\n                    </Grid>\n                </Grid>\n                <div className={classes.spacer}>&nbsp;</div>\n                <div className={classes.spacer}>&nbsp;</div>\n\n                <Grid container spacing={2} className={classes.content}>\n                     <div dangerouslySetInnerHTML={{ __html: record.content }}/>\n                </Grid>\n                <div className={classes.spacer}>&nbsp;</div>\n                <Typography  gutterBottom>\n                            Attachments\n                </Typography>\n                <Box>\n                    \n                </Box>\n                <Spacer />\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default TrashShow;\n","import TrashIcon from '@material-ui/icons/Error';\n\nimport TrashList from './trashList';\nimport TrashShow from './trashShow';\n\n\n\nexport default {\n    list: TrashList,\n    icon: TrashIcon,\n    show: TrashShow,\n};","// in src/comments.js\nimport * as React from 'react';\nimport { FC } from 'react';\nimport { Card, CardHeader, CardContent } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    DateField,\n    EditButton,\n    NumberField,\n    TextField,\n    BooleanField,\n    useTranslate,\n    RecordMap,\n    Identifier,\n    Record,\n} from 'react-admin';\n\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\n\nconst useListStyles = makeStyles(theme => ({\n    card: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        margin: '0.5rem 0',\n    },\n    cardTitleContent: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n    },\n    cardContent: theme.typography.body1,\n    cardContentRow: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        margin: '0.5rem 0',\n    },\n}));\n\ninterface MobileGridProps {\n    ids?: Identifier[];\n    data?: RecordMap<Record>;\n    basePath?: string;\n}\n\nconst MobileGrid: FC<MobileGridProps> = ({ ids, data, basePath }) => {\n    const translate = useTranslate();\n    const classes = useListStyles();\n\n    if (!ids || !data || !basePath) {\n        return null;\n    }\n\n    return (\n        <div style={{ margin: '1em' }}>\n            {ids.map(id => (\n                <Card key={id} className={classes.card}>\n                    <CardHeader\n                        title={\n                            <div className={classes.cardTitleContent}>\n                                <span>\n                                    {translate('resources.commands.name', 1)}\n                                    :&nbsp;\n                                    <TextField\n                                        record={data[id]}\n                                        source=\"reference\"\n                                    />\n                                </span>\n                                <EditButton\n                                    resource=\"commands\"\n                                    basePath={basePath}\n                                    record={data[id]}\n                                />\n                            </div>\n                        }\n                    />\n                    <CardContent className={classes.cardContent}>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.customers.name', 1)}:&nbsp;\n                            <CustomerReferenceField\n                                record={data[id]}\n                                basePath={basePath}\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.reviews.fields.date')}:&nbsp;\n                            <DateField\n                                record={data[id]}\n                                source=\"date\"\n                                showTime\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate(\n                                'resources.commands.fields.basket.total'\n                            )}\n                            :&nbsp;\n                            <NumberField\n                                record={data[id]}\n                                source=\"total\"\n                                options={{ style: 'currency', currency: 'USD' }}\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.commands.fields.status')}\n                            :&nbsp;\n                            <TextField source=\"status\" record={data[id]} />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.commands.fields.returned')}\n                            :&nbsp;\n                            <BooleanField record={data[id]} source=\"returned\" />\n                        </span>\n                    </CardContent>\n                </Card>\n            ))}\n        </div>\n    );\n};\n\nMobileGrid.defaultProps = {\n    data: {},\n    ids: [],\n};\n\nexport default MobileGrid;\n","import * as React from 'react';\nimport { FC, Fragment, useCallback, useEffect, useState,cloneElement } from 'react';\nimport {\n    AutocompleteInput,\n    BooleanField,\n    Datagrid,\n    DatagridProps,\n    DateField,\n    DateInput,\n    Filter,\n    FilterProps,\n    Identifier,\n    List,\n    ListContextProvider,\n    ListProps,\n    NullableBooleanInput,\n    NumberField,\n    ReferenceInput,\n    ReferenceField,\n    SearchInput,\n    TextField,\n    TextInput,\n    useGetList,\n    useListContext,\n    useRecordContext,\n    ImageField,\n    FieldProps,\n    TopToolbar,\n    Button,\n    BulkDeleteButton,\n    sanitizeListRestProps,\n    DeleteButton\n} from 'react-admin';\nimport { useMediaQuery, Divider, Tabs, Tab, Theme,Avatar,Typography } from '@material-ui/core';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport NbItemsField from './NbItemsField';\nimport MobileGrid from './MobileGrid';\nimport {Project} from '../types'\n\nimport IconSubscriptions from '@material-ui/icons/Subscriptions';\n\n\nconst ProjectFilter: FC<Omit<FilterProps, 'children'>> = props => (\n    <Filter {...props}>\n        <SearchInput source=\"q\" alwaysOn />\n        \n    </Filter>\n);\n\n\n\nconst useDatagridStyles = makeStyles(\ntheme => ({\n    root: {\n        display: 'flex',\n        flexWrap: 'nowrap',\n        alignItems: 'center',\n    },\n    total: { fontWeight: 'bold' },\n    project_avatar: {\n        width: 64,\n        height: 64,\n       \n    },\n    total_amm: { fontWeight: 'bold',marginRight:5 },\n\n}));\n\nconst tabs = [\n    { id: 'project', name: 'Project' },\n];\n\ninterface TabbedDatagridProps extends DatagridProps {}\n\nconst useGetTotals = (filterValues: any) => {\n    const { total: totalProject } = useGetList(\n        'projects',\n        { perPage: 1, page: 1 },\n        { field: 'id', order: 'ASC' },\n        { ...filterValues, status: 'ongoing' }\n    );\n    \n    return {\n        project: totalProject\n    };\n};\n\n\nconst TabbedDatagrid: FC<TabbedDatagridProps> = props => {\n    const listContext = useListContext();\n    const { ids, filterValues, setFilters, displayedFilters } = listContext;\n    const classes = useDatagridStyles();\n    const isXSmall = useMediaQuery<Theme>(theme =>\n        theme.breakpoints.down('xs')\n    );\n    const [project, setProject] = useState<Identifier[]>([] as Identifier[]);\n    \n    const totals = useGetTotals(filterValues) as any;\n\n    useEffect(() => {\n        if (ids && ids !== filterValues.status) {\n            switch (filterValues.status) {\n                case 'ongoing':\n                    setProject(ids);\n                    break;\n            }\n        }\n    }, [ids, filterValues.status]);\n\n    const handleChange = useCallback(\n        (event: React.ChangeEvent<{}>, value: any) => {\n            setFilters &&\n                setFilters(\n                    { ...filterValues, status: value },\n                    displayedFilters\n                );\n        },\n        [displayedFilters, filterValues, setFilters]\n    );\n\n    \n    const CustomerTotalField: FC<FieldProps<Project>> = props => (\n        props.record ? (\n            <div className={classes.root}>\n            <TextField source=\"total\"   />\n            <div className={classes.total}>&nbsp;&nbsp;{props.record.assets.coinname}</div>\n        </div>\n        ) : null\n    );\n\n    const CustomerAvatarField: FC<FieldProps<Project>> = ({ record }) =>\n    record ? (<div className={classes.root}>\n         <Typography >\n            <Avatar className={classes.project_avatar} src={`${record.assets.icon}`} />\n        </Typography>\n    </div>\n    ) : null;\n\n    const selectedIds = project;\n            \n    return (\n        <Fragment>\n            \n            <Divider />\n            {isXSmall ? (\n                <ListContextProvider\n                    value={{ ...listContext, ids: selectedIds }}\n                >\n                    <MobileGrid {...props} ids={selectedIds} />\n                </ListContextProvider>\n            ) : (\n                <div>\n                    {filterValues.status === 'ongoing' && (\n                        <ListContextProvider\n                            value={{ ...listContext, ids: project }}\n                        >\n                            <Datagrid {...props} optimized rowClick=\"show\">\n                                <CustomerAvatarField source='assets.icon' className={classes.root} label=''/>                             \n                                <TextField source=\"projectname\" label='Project' className={classes.total} headerClassName={classes.total}/> \n                                <TextField source=\"tags\" label='Stage' headerClassName={classes.total}/>    \n                                <TextField source=\"participated\" headerClassName={classes.total}/>\n                                <TextField source=\"winners\" headerClassName={classes.total}/>\n                                <CustomerTotalField source=\"total\" label='Total Amount' headerClassName={classes.total}/>\n                                <DateField source=\"enddate\"  label='End Date' headerClassName={classes.total}/>\n                                <BooleanField source=\"sub\" label='Sub' headerClassName={classes.total}/>\n                            </Datagrid>\n                        </ListContextProvider>\n                    )}\n                </div>\n            )}\n        </Fragment>\n    );\n};\n\nconst ListActions = (props) => {\n    const {\n        className,\n        exporter,\n        filters,\n        maxResults,\n        ...rest\n    } = props;\n    const {\n        currentSort,\n        resource,\n        displayedFilters,\n        filterValues,\n        hasCreate,\n        basePath,\n        selectedIds,\n        showFilter,\n        total,\n    } = useListContext();\n    return (\n        <TopToolbar className={className} {...sanitizeListRestProps(rest)}>\n            {filters && cloneElement(filters, {\n                resource,\n                showFilter,\n                displayedFilters,\n                filterValues,\n                context: 'button',\n            })}\n            <DeleteButton variant=\"contained\" {...props} />\n           \n        </TopToolbar>\n    );\n};\n\n\nconst PostBulkActionButtons = props => (\n    <Fragment>\n        <Button variant=\"contained\"\n                onClick={() => { alert('Subscription Projects Success!'); }}\n                label=\"Subscription\"\n            >\n                <IconSubscriptions />\n        </Button>\n    </Fragment>\n);\n\nconst ProjectList: FC<ListProps> = props => (\n    <List\n        {...props}\n        filterDefaultValues={{ status: 'ongoing' }}\n        sort={{ field: 'enddate', order: 'DESC' }}\n        perPage={25}\n        exporter={false}\n        filters={<ProjectFilter />}\n        actions={<ListActions />}\n        bulkActionButtons={<PostBulkActionButtons />}\n    >\n        <TabbedDatagrid />\n    </List>\n);\n\nexport default ProjectList;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    BooleanInput,\n    DateField,\n    Show,\n    ShowProps,\n    FormWithRedirect,\n    Labeled,\n    ReferenceField,\n    SelectInput,\n    TextField,\n    Toolbar,\n    EditContextProvider,\n    useTranslate,\n    TextInput,\n    SimpleForm,\n    EditProps,\n    SimpleShowLayout,\n    RichTextField,\n    FieldProps,\n    useShowController,\n    SaveButton,\n    DeleteButton,\n    Button,\n    useRedirect,\n} from 'react-admin';\nimport { Link as RouterLink } from 'react-router-dom';\nimport {\n    Card,\n    CardContent,\n    Box,\n    Grid,\n    Typography,\n    Link,\n    Avatar,\n    IconButton,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { Project, Customer } from '../types';\nimport Totals from './Totals';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport RichTextInput from 'ra-input-rich-text';\nimport SubIcon from '@material-ui/icons/TurnedInNotRounded';\n\ninterface ProjectTitleProps {\n    record?: Project;\n}\n\nconst Projectitle: FC<ProjectTitleProps> = ({ record }) => {\n    const translate = useTranslate();\n    return record ? (\n        <span>\n            {translate('resources.commands.title', {\n                reference: record.reference,\n            })}\n        </span>\n    ) : null;\n};\n\n\nconst CustomerField: FC<FieldProps<Customer>> = ({ record }) =>\n    record ? (\n        <Typography>\n            <Avatar src={`${record.avatar}?size=32x32`} />{record.first_name} {record.last_name}({record.email})\n        </Typography>\n    ) : null;\n\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n    },\n    title: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        margin: '1em',\n    },\n    form: {\n        [theme.breakpoints.up('xs')]: {\n            width: 400,\n        },\n        [theme.breakpoints.down('xs')]: {\n            width: '100vw',\n            marginTop: -30,\n        },\n    },\n    content:{\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    contentdiv:{\n        width: '200px',\n    },\n    inlineField: {\n        display: 'inline-block',\n        width: '50%',\n    },\n    spacer: { height: 20 },\n    invoices: { margin: '10px 0' },\n    toolbar: {\n        display: 'flex',\n        justifyContent: 'space-between',\n    },\n    bold: { fontWeight: 'bold' },\n}));\n\n\nconst CustomToolbar = props => (\n    <Toolbar {...props} classes={useStyles()}>\n        <SaveButton />\n        <DeleteButton undoable={false} />\n    </Toolbar>\n);\n\n\nconst Spacer = () => <Box m={1}>&nbsp;</Box>;\n\n\n\n\nconst ProjectShow: FC<ShowProps> = props => {\n    const classes = useStyles();\n    const { record } = useShowController<Project>(props);\n    const redirect = useRedirect();\n    const onReply  = () => {\n        redirect('edit','./');\n    };\n\n    const SenderField: FC<FieldProps<Project>> = ({ record }) =>\n    record ? (\n        <Typography>\n            <div className={classes.bold}><Avatar src={`${record.assets.icon}?size=32x32`} />{record.projectname} ({record.canister})</div>\n        </Typography>\n    ) : null;\n\n    if (!record) return null;\n    return (\n        <Card className={classes.root}>\n            <CardContent>\n                <Grid container spacing={2}>\n                    <Grid item xs={10}>\n                        <Typography variant=\"h6\" gutterBottom>\n                           {record.projecttitle}\n                        </Typography>\n                    </Grid>\n                </Grid>\n                <div className={classes.spacer}>&nbsp;</div>\n                <Grid container spacing={2}>\n                    <Grid item xs={6}>\n                        <SenderField record={record}/>\n                    </Grid>\n                    <Grid item xs={3}>\n                        <Typography   gutterBottom align=\"left\">\n                            Start:{record.startdate}\n                        </Typography>\n                        <Typography   gutterBottom align=\"left\">\n                            End:{record.enddate}\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={2}>\n                        <Typography   gutterBottom align=\"right\">\n                            <IconButton onClick={onReply}>\n                                <SubIcon />\n                            </IconButton>\n                        </Typography>\n                    </Grid>\n                </Grid>\n                <Grid container spacing={2}>\n                    <Grid item xs={3}>\n                        <Typography   gutterBottom align=\"left\">\n                            Start:{record.startdate}\n                        </Typography>\n                        <Typography   gutterBottom align=\"left\">\n                            End:{record.enddate}\n                        </Typography>\n                    </Grid>\n                </Grid>\n                <div className={classes.spacer}>&nbsp;</div>\n                <div className={classes.spacer}>&nbsp;</div>\n\n                <Grid container spacing={2} className={classes.content}>\n                     <div dangerouslySetInnerHTML={{ __html: record.content }}/>\n                </Grid>\n                <div className={classes.spacer}>&nbsp;</div>\n                <Typography  gutterBottom>\n                            Attachments\n                </Typography>\n                <Box>\n                    \n                </Box>\n                <Spacer />\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default ProjectShow;\n","import ProjectIcon from '@material-ui/icons/Error';\n\nimport ProjectList from './projectList';\nimport ProjectShow from './projectShow';\n\n\n\nexport default {\n    list: ProjectList,\n    icon: ProjectIcon,\n    show: ProjectShow,\n};","// in src/comments.js\nimport * as React from 'react';\nimport { FC } from 'react';\nimport { Card, CardHeader, CardContent } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    DateField,\n    EditButton,\n    NumberField,\n    TextField,\n    BooleanField,\n    useTranslate,\n    RecordMap,\n    Identifier,\n    Record,\n} from 'react-admin';\n\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\n\nconst useListStyles = makeStyles(theme => ({\n    card: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        margin: '0.5rem 0',\n    },\n    cardTitleContent: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n    },\n    cardContent: theme.typography.body1,\n    cardContentRow: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        margin: '0.5rem 0',\n    },\n}));\n\ninterface MobileGridProps {\n    ids?: Identifier[];\n    data?: RecordMap<Record>;\n    basePath?: string;\n}\n\nconst MobileGrid: FC<MobileGridProps> = ({ ids, data, basePath }) => {\n    const translate = useTranslate();\n    const classes = useListStyles();\n\n    if (!ids || !data || !basePath) {\n        return null;\n    }\n\n    return (\n        <div style={{ margin: '1em' }}>\n            {ids.map(id => (\n                <Card key={id} className={classes.card}>\n                    <CardHeader\n                        title={\n                            <div className={classes.cardTitleContent}>\n                                <span>\n                                    {translate('resources.commands.name', 1)}\n                                    :&nbsp;\n                                    <TextField\n                                        record={data[id]}\n                                        source=\"reference\"\n                                    />\n                                </span>\n                                <EditButton\n                                    resource=\"commands\"\n                                    basePath={basePath}\n                                    record={data[id]}\n                                />\n                            </div>\n                        }\n                    />\n                    <CardContent className={classes.cardContent}>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.customers.name', 1)}:&nbsp;\n                            <CustomerReferenceField\n                                record={data[id]}\n                                basePath={basePath}\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.reviews.fields.date')}:&nbsp;\n                            <DateField\n                                record={data[id]}\n                                source=\"date\"\n                                showTime\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate(\n                                'resources.commands.fields.basket.total'\n                            )}\n                            :&nbsp;\n                            <NumberField\n                                record={data[id]}\n                                source=\"total\"\n                                options={{ style: 'currency', currency: 'USD' }}\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.commands.fields.status')}\n                            :&nbsp;\n                            <TextField source=\"status\" record={data[id]} />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.commands.fields.returned')}\n                            :&nbsp;\n                            <BooleanField record={data[id]} source=\"returned\" />\n                        </span>\n                    </CardContent>\n                </Card>\n            ))}\n        </div>\n    );\n};\n\nMobileGrid.defaultProps = {\n    data: {},\n    ids: [],\n};\n\nexport default MobileGrid;\n","import * as React from 'react';\nimport { FC, Fragment, useCallback, useEffect, useState ,cloneElement, useMemo} from 'react';\n\nimport {\n    AutocompleteInput,\n    BooleanField,\n    Datagrid,\n    DatagridProps,\n    DateField,\n    DateInput,\n    Filter,\n    FilterProps,\n    Identifier,\n    List,\n    ListContextProvider,\n    ListProps,\n    NullableBooleanInput,\n    NumberField,\n    ReferenceInput,\n    ReferenceField,\n    SearchInput,\n    TextField,\n    TextInput,\n    useGetList,\n    useListContext,\n    useRecordContext,\n    ImageField,\n    FieldProps,\n    TopToolbar, \n    CreateButton, \n    ExportButton, \n    Button, \n    sanitizeListRestProps,\n    useRedirect\n} from 'react-admin';\nimport { useMediaQuery, Divider, Tabs, Tab, Theme,Typography,Avatar, Icon } from '@material-ui/core';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\n\nimport NbItemsField from './NbItemsField';\nimport MobileGrid from './MobileGrid';\nimport {Asset} from '../types'\nimport IconSwap from '@material-ui/icons/SwapHoriz';\nimport IconTrendingUp from '@material-ui/icons/TrendingUp';\n\n\n\n\nconst AssetFilter: FC<Omit<FilterProps, 'children'>> = props => (\n    <Filter {...props}>\n        <SearchInput source=\"q\" alwaysOn />\n        \n    </Filter>\n);\n\n\n\nconst useDatagridStyles = makeStyles(\ntheme => ({\n    root: {\n        display: 'flex',\n        flexWrap: 'nowrap',\n        alignItems: 'center',\n        textAlign: 'center',\n    },\n    total: { fontWeight: 'bold' },\n    asset_avatar: {\n        width: 64,\n        height: 64,\n    },\n    total_amm: { fontWeight: 'bold',marginRight:5 },\n\n}));\n\nconst tabs = [\n    { id: 'asset', name: 'Asset' },\n];\n\ninterface TabbedDatagridProps extends DatagridProps {}\n\nconst useGetTotals = (filterValues: any) => {\n    const { total: totalAsset } = useGetList(\n        'assets',\n        { perPage: 1, page: 1 },\n        { field: 'id', order: 'ASC' },\n        { ...filterValues, status: 'ongoing' }\n    );\n    \n    return {\n        asset: totalAsset\n    };\n};\n\n\n\nconst TabbedDatagrid: FC<TabbedDatagridProps> = props => {\n    const listContext = useListContext();\n    const { ids, filterValues, setFilters, displayedFilters } = listContext;\n    const classes = useDatagridStyles();\n    const isXSmall = useMediaQuery<Theme>(theme =>\n        theme.breakpoints.down('xs')\n    );\n    const [asset, setAsset] = useState<Identifier[]>([] as Identifier[]);\n    \n    const totals = useGetTotals(filterValues) as any;\n\n    const CustomerAvatarField: FC<FieldProps<Asset>> = ({ record }) =>\n    record ? (<div className={classes.root}>\n         <Typography >\n            <Avatar className={classes.asset_avatar} src={`${record.assets.icon}`} />\n        </Typography>\n    </div>\n    ) : null;\n\n\n    useEffect(() => {\n        if (ids && ids !== filterValues.status) {\n            switch (filterValues.status) {\n                case 'ongoing':\n                    setAsset(ids);\n                    break;\n            }\n        }\n    }, [ids, filterValues.status]);\n\n    const handleChange = useCallback(\n        (event: React.ChangeEvent<{}>, value: any) => {\n            setFilters &&\n                setFilters(\n                    { ...filterValues, status: value },\n                    displayedFilters\n                );\n        },\n        [displayedFilters, filterValues, setFilters]\n    );\n\n    \n    const CustomerTotalField: FC<FieldProps<Asset>> = props => (\n        props.record ? (\n            <div className={classes.root}>\n            <TextField source=\"total\"   />\n            <div className={classes.total}>&nbsp;&nbsp;{props.record.assets.coinname}</div>\n        </div>\n        ) : null\n    );\n\n    const CustomerPriceField: FC<FieldProps<Asset>> = props => (\n        props.record ? (\n            <div className={classes.root}>\n            <div className={classes.total}>$</div><TextField source=\"price\"   />&nbsp;&nbsp;<IconTrendingUp/>\n        </div>\n        ) : null\n    );\n\n    const CustomerAssetField: FC<FieldProps<Asset>> = props => (\n        props.record ? (\n            <div>\n                <div className={classes.root}>\n                    <TextField source=\"name\" className={classes.total}/> \n                </div>\n                <div className={classes.root}>\n                    <TextField source=\"canister\" /> \n                </div>\n            </div>\n        ) : null\n    );\n\n    const selectedIds = asset;\n            \n    return (\n        <Fragment>\n            \n            <Divider />\n            {isXSmall ? (\n                <ListContextProvider\n                    value={{ ...listContext, ids: selectedIds }}\n                >\n                    <MobileGrid {...props} ids={selectedIds} />\n                </ListContextProvider>\n            ) : (\n                <div>\n                    {filterValues.status === 'ongoing' && (\n                        <ListContextProvider\n                            value={{ ...listContext, ids: asset }}\n                        >\n                            <Datagrid {...props} optimized >\n                                <CustomerAvatarField source='assets.icon' className={classes.root} label=''/>                             \n                                <CustomerAssetField source=\"name\" label='Asset' headerClassName={classes.total}/>\n                                <CustomerPriceField source=\"price\" label='Price (USD)' headerClassName={classes.total}/>\n                                <CustomerTotalField source=\"total\" label='Total Amount' headerClassName={classes.total}/>\n                            </Datagrid>\n                        </ListContextProvider>\n                    )}\n                </div>\n            )}\n        </Fragment>\n    );\n};\n\n\n\nconst ListActions = (props) => {\n    const {\n        className,\n        exporter,\n        filters,\n        maxResults,\n        ...rest\n    } = props;\n    const {\n        currentSort,\n        resource,\n        displayedFilters,\n        filterValues,\n        hasCreate,\n        basePath,\n        selectedIds,\n        showFilter,\n        total,\n    } = useListContext();\n\n\n    const redirect = useRedirect();\n    const onMoveAsset  = () => {\n        redirect('create','./assets');\n    };\n\n\n    return (\n        <TopToolbar className={className} {...sanitizeListRestProps(rest)}>\n            {filters && cloneElement(filters, {\n                resource,\n                showFilter,\n                displayedFilters,\n                filterValues,\n                context: 'button',\n            })}\n            {/* Add your custom actions */}\n            <Button variant=\"contained\"\n                onClick={onMoveAsset}\n                label=\"Move Asset\"\n            >\n                <IconSwap />\n            </Button>\n        </TopToolbar>\n    );\n};\n\nconst AssetList: FC<ListProps> = props => (\n    <List\n        {...props}\n        filterDefaultValues={{ status: 'ongoing' }}\n        sort={{ field: 'total', order: 'DESC' }}\n        perPage={25}\n        exporter={false}\n        filters={<AssetFilter />}\n        bulkActionButtons={false}\n        actions={<ListActions />}\n    >\n        <TabbedDatagrid />\n    </List>\n);\n\nexport default AssetList;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    BooleanInput,\n    DateField,\n    Show,\n    ShowProps,\n    FormWithRedirect,\n    Labeled,\n    ReferenceField,\n    SelectInput,\n    TextField,\n    Toolbar,\n    EditContextProvider,\n    useTranslate,\n    TextInput,\n    SimpleForm,\n    EditProps,\n    SimpleShowLayout,\n    RichTextField,\n    FieldProps,\n    useShowController,\n    SaveButton,\n    DeleteButton,\n    Button,\n    useRedirect,\n} from 'react-admin';\nimport { Link as RouterLink } from 'react-router-dom';\nimport {\n    Card,\n    CardContent,\n    Box,\n    Grid,\n    Typography,\n    Link,\n    Avatar,\n    IconButton,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { Asset, Customer } from '../types';\nimport Totals from './Totals';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport RichTextInput from 'ra-input-rich-text';\nimport SubIcon from '@material-ui/icons/TurnedInNotRounded';\n\ninterface AssetTitleProps {\n    record?: Asset;\n}\n\nconst Assettitle: FC<AssetTitleProps> = ({ record }) => {\n    const translate = useTranslate();\n    return record ? (\n        <span>\n            {translate('resources.commands.title', {\n                reference: record.reference,\n            })}\n        </span>\n    ) : null;\n};\n\n\nconst CustomerField: FC<FieldProps<Customer>> = ({ record }) =>\n    record ? (\n        <Typography>\n            <Avatar src={`${record.avatar}?size=32x32`} />{record.first_name} {record.last_name}({record.email})\n        </Typography>\n    ) : null;\n\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n    },\n    title: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        margin: '1em',\n    },\n    form: {\n        [theme.breakpoints.up('xs')]: {\n            width: 400,\n        },\n        [theme.breakpoints.down('xs')]: {\n            width: '100vw',\n            marginTop: -30,\n        },\n    },\n    content:{\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    contentdiv:{\n        width: '200px',\n    },\n    inlineField: {\n        display: 'inline-block',\n        width: '50%',\n    },\n    spacer: { height: 20 },\n    invoices: { margin: '10px 0' },\n    toolbar: {\n        display: 'flex',\n        justifyContent: 'space-between',\n    },\n    bold: { fontWeight: 'bold' },\n}));\n\n\nconst CustomToolbar = props => (\n    <Toolbar {...props} classes={useStyles()}>\n        <SaveButton />\n        <DeleteButton undoable={false} />\n    </Toolbar>\n);\n\n\nconst Spacer = () => <Box m={1}>&nbsp;</Box>;\n\n\n\n\nconst AssetShow: FC<ShowProps> = props => {\n    const classes = useStyles();\n    const { record } = useShowController<Asset>(props);\n    const redirect = useRedirect();\n    const onReply  = () => {\n        redirect('edit','./');\n    };\n\n    const SenderField: FC<FieldProps<Asset>> = ({ record }) =>\n    record ? (\n        <Typography>\n            <div className={classes.bold}><Avatar src={`${record.assets.icon}?size=32x32`} />{record.name} ({record.canister})</div>\n        </Typography>\n    ) : null;\n\n    if (!record) return null;\n    return (\n        <Card className={classes.root}>\n            <CardContent>\n                <Grid container spacing={2}>\n                    <Grid item xs={10}>\n                        <Typography variant=\"h6\" gutterBottom>\n                           {record.projecttitle}\n                        </Typography>\n                    </Grid>\n                </Grid>\n                <div className={classes.spacer}>&nbsp;</div>\n                <Grid container spacing={2}>\n                    <Grid item xs={6}>\n                        <SenderField record={record}/>\n                    </Grid>\n                    <Grid item xs={3}>\n                        <Typography   gutterBottom align=\"left\">\n                            Start:{record.startdate}\n                        </Typography>\n                        <Typography   gutterBottom align=\"left\">\n                            End:{record.enddate}\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={2}>\n                        <Typography   gutterBottom align=\"right\">\n                            <IconButton onClick={onReply}>\n                                <SubIcon />\n                            </IconButton>\n                        </Typography>\n                    </Grid>\n                </Grid>\n                <Grid container spacing={2}>\n                    <Grid item xs={3}>\n                        <Typography   gutterBottom align=\"left\">\n                            Start:{record.startdate}\n                        </Typography>\n                        <Typography   gutterBottom align=\"left\">\n                            End:{record.enddate}\n                        </Typography>\n                    </Grid>\n                </Grid>\n                <div className={classes.spacer}>&nbsp;</div>\n                <div className={classes.spacer}>&nbsp;</div>\n\n                <Grid container spacing={2} className={classes.content}>\n                     <div dangerouslySetInnerHTML={{ __html: record.content }}/>\n                </Grid>\n                <div className={classes.spacer}>&nbsp;</div>\n                <Typography  gutterBottom>\n                            Attachments\n                </Typography>\n                <Box>\n                    \n                </Box>\n                <Spacer />\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default AssetShow;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    Create,\n    FormTab,\n    NumberInput,\n    ReferenceInput,\n    SelectInput,\n    TabbedForm,\n    TextInput,\n    required,\n    CreateProps,\n    SimpleForm\n} from 'react-admin';\nimport { InputAdornment,Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport RichTextInput from 'ra-input-rich-text';\n\nexport const styles = {\n    price: { width: '7em' },\n    width: { width: '7em' },\n    height: { width: '7em' },\n    stock: { width: '7em' },\n    widthFormGroup: { display: 'inline-block' },\n    heightFormGroup: { display: 'inline-block', marginLeft: 32 },\n};\n\nconst useStyles = makeStyles(styles);\n\nconst AssetCreate: FC<CreateProps> = props => {\n    const classes = useStyles();\n    return (\n        <Create {...props}>\n            <SimpleForm>\n                    <Typography variant=\"h6\" gutterBottom>\n                           Move Asset:\n                    </Typography>\n                    <SelectInput source=\"Assets\" choices={[\n                        { id: 'cidco', name: 'Didco' },\n                        { id: 'aic', name: 'Aic' },\n                        { id: 'doge', name: 'Doge' },\n                    ]} />\n                    \n                    <TextInput source=\"reference\" validate={required()} label='Account'/>\n                    <NumberInput\n                        source=\"price\"\n                        validate={required()}\n                        className={classes.price}\n                        label=\"Amount\"\n                    />\n                    <RichTextInput multiline source=\"description\" label=\"Reference\" />\n\n                   \n            </SimpleForm>\n        </Create>\n    );\n};\n\nexport default AssetCreate;\n","import AssetIcon from '@material-ui/icons/Error';\n\nimport AssetList from './assetList';\nimport AssetShow from './assetShow';\nimport AssetCreate from './assetCreate';\n\n\n\nexport default {\n    list: AssetList,\n    icon: AssetIcon,\n    show: AssetShow,\n    create: AssetCreate,\n};","export default (type: string) => {\n    switch (type) {\n        case 'graphql':\n            return import('./graphql').then(factory => factory.default());\n        default:\n            return import('./rest').then(factory => factory.default());\n    }\n};\n","import {\n    convertLegacyDataProvider,\n    DataProvider,\n    LegacyDataProvider,\n} from 'react-admin';\nimport fakeServerFactory from '../fakeServer';\n\nexport default (type: string) => {\n    // The fake servers require to generate data, which can take some time.\n    // Here we start the server initialization but we don't wait for it to finish\n    let dataProviderPromise = getDataProvider(type);\n\n\n    // Instead we return this proxy which may be called immediately by react-admin if the\n    // user is already signed-in. In this case, we simply wait for the dataProvider promise\n    // to complete before requesting it the data.\n    // If the user isn't signed in, we already started the server initialization while they see\n    // the login page. By the time they come back to the admin as a signed-in user,\n    // the fake server will be initialized.\n    const dataProviderWithGeneratedData = new Proxy(defaultDataProvider, {\n        get(_, name) {\n            return (resource: string, params: any) => {\n                return dataProviderPromise.then(dataProvider => {\n                    // We have to convert the dataProvider here otherwise the proxy would try to intercept the promise resolution\n                    if (typeof dataProvider === 'function') {\n                        return convertLegacyDataProvider(dataProvider)[\n                            name.toString()\n                        ](resource, params);\n                    }\n                    return dataProvider[name.toString()](resource, params);\n                });\n            };\n        },\n    });\n\n    return dataProviderWithGeneratedData;\n};\n\nconst getDataProvider = async (\n    type: string\n): Promise<DataProvider | LegacyDataProvider> => {\n    await fakeServerFactory(process.env.REACT_APP_DATA_PROVIDER || '');\n    /**\n     * This demo can work with either a fake REST server, or a fake GraphQL server.\n     *\n     * To avoid bundling both libraries, the dataProvider and fake server factories\n     * use the import() function, so they are asynchronous.\n     */\n    if (type === 'graphql') {\n        return import('./graphql').then(factory => factory.default());\n    }\n    return import('./rest').then(provider => provider.default);\n};\n\nconst defaultDataProvider: DataProvider = {\n    // @ts-ignore\n    create: () => Promise.resolve({ data: { id: 0 } }),\n    delete: () => Promise.resolve({}),\n    deleteMany: () => Promise.resolve({}),\n    getList: () => Promise.resolve({ data: [], total: 0 }),\n    getMany: () => Promise.resolve({ data: [] }),\n    getManyReference: () => Promise.resolve({ data: [], total: 0 }),\n    // @ts-ignore\n    getOne: () => Promise.resolve({ data: {} }),\n    // @ts-ignore\n    update: () => Promise.resolve({ data: {} }),\n    updateMany: () => Promise.resolve({}),\n};\n","import * as React from 'react';\nimport { Admin, Resource } from 'react-admin';\nimport polyglotI18nProvider from 'ra-i18n-polyglot';\n\nimport authProvider from './authProvider';\nimport themeReducer from './themeReducer';\nimport { Login, Layout } from './layout';\nimport { Dashboard } from './dashboard';\nimport customRoutes from './routes';\nimport englishMessages from './i18n/en';\n\nimport visitors from './visitors';\nimport orders from './orders';\nimport products from './products';\nimport invoices from './invoices';\nimport categories from './categories';\nimport reviews from './reviews';\nimport inbox from './inbox';\nimport junk from './junk';\nimport sent from './sent';\nimport trash from './trash';\nimport projects from './projects';\nimport asset from './asset';\n\n\n\n\nimport dataProviderFactory from './dataProvider';\n\nconst i18nProvider = polyglotI18nProvider(locale => {\n    if (locale === 'fr') {\n        return import('./i18n/fr').then(messages => messages.default);\n    }\n\n    // Always fallback on english\n    return englishMessages;\n}, 'en');\n\nconst App = () => {\n    return (\n        <Admin\n            title=\"\"\n            dataProvider={dataProviderFactory(\n                process.env.REACT_APP_DATA_PROVIDER || ''\n            )}\n            customReducers={{ theme: themeReducer }}\n            customRoutes={customRoutes}\n            authProvider={authProvider}\n            dashboard={Dashboard}\n            loginPage={Login}\n            layout={Layout}\n            i18nProvider={i18nProvider}\n            disableTelemetry\n        >\n            <Resource name=\"customers\" {...visitors} />\n            <Resource\n                name=\"commands\"\n                {...orders}\n                options={{ label: 'Orders' }}\n            />\n            <Resource\n                name=\"mails\"\n                {...inbox}\n                options={{ label: 'Inbox' }}\n            />\n            <Resource\n                name=\"junks\"\n                {...junk}\n                options={{ label: 'Junk Mail' }}\n            />\n\n            <Resource\n                name=\"projects\"\n                {...projects}\n                options={{ label: 'Subscription' }}\n            />\n\n            <Resource\n                name=\"sents\"\n                {...sent}\n                options={{ label: 'Sent' }}\n            />\n            <Resource\n                name=\"trashs\"\n                {...trash}\n                options={{ label: 'Trash' }}\n            />\n\n           <Resource\n                name=\"assets\"\n                {...asset}\n                options={{ label: 'Assets' }}\n            />\n\n            <Resource name=\"invoices\" {...invoices} />\n            <Resource name=\"products\" {...products} />\n            <Resource name=\"categories\" {...categories} />\n            <Resource name=\"reviews\" {...reviews} />\n        </Admin>\n    );\n};\n\nexport default App;\n","import 'react-app-polyfill/ie11';\nimport 'react-app-polyfill/stable';\nimport 'proxy-polyfill';\nimport * as React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","module.exports = __webpack_public_path__ + \"static/media/welcome_illustration.87ada4be.svg\";"],"sourceRoot":""}